{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskDetailDialog.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Typography, Box, Chip, Button, Divider, TextField, Avatar, List, ListItem, ListItemAvatar, ListItemText, Paper, IconButton, LinearProgress } from '@mui/material';\nimport { CalendarToday, Edit as EditIcon, Close as CloseIcon, Send as SendIcon } from '@mui/icons-material';\nimport { TaskStatus, TaskPriority } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskDetailDialog = ({\n  open,\n  task,\n  onClose,\n  onEdit,\n  onAddComment\n}) => {\n  _s();\n  var _user$firstName, _user$lastName;\n  const {\n    user\n  } = useAuth();\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (open && task) {\n      setNewComment('');\n      // Set local comments from task comments or empty array\n      setLocalComments(task.comments || []);\n    }\n  }, [open, task]);\n  if (!task) {\n    return null;\n  }\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Get status chip color\n  const getStatusColor = status => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n\n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO:\n        return 'default';\n      case TaskStatus.IN_PROGRESS:\n        return 'primary';\n      case TaskStatus.REVIEW:\n        return 'warning';\n      case TaskStatus.DONE:\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case TaskPriority.LOW:\n        return 'success';\n      case TaskPriority.MEDIUM:\n        return 'warning';\n      case TaskPriority.HIGH:\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Format time for comments\n  const formatTime = dateString => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO:\n        return 0;\n      case TaskStatus.IN_PROGRESS:\n        return 50;\n      case TaskStatus.REVIEW:\n        return 80;\n      case TaskStatus.DONE:\n        return 100;\n      default:\n        return 0;\n    }\n  };\n  const handleSubmitComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    try {\n      setSubmitting(true);\n      await onAddComment(task.id, newComment);\n\n      // Add the comment locally for immediate feedback\n      const newCommentObj = {\n        id: `comment-${Date.now()}`,\n        taskId: task.id,\n        text: newComment,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        author: {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName\n        }\n      };\n      setLocalComments(prev => [...prev, newCommentObj]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Check if user can add comments\n  const canAddComments = () => {\n    if (!user) return false;\n\n    // Allow task creator (if we have that info), assignee, and admin to add comments\n    // For now, we'll just allow any logged-in user to comment\n    return true;\n  };\n\n  // Get comments from the local state, which is initialized from task.comments\n  const getComments = () => {\n    return localComments;\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Task Details\", /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"close\",\n        onClick: onClose,\n        sx: {\n          position: 'absolute',\n          right: 8,\n          top: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 22\n        }, this),\n        sx: {\n          position: 'absolute',\n          right: 50,\n          top: 8\n        },\n        onClick: () => onEdit(task),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 2,\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: task.status,\n                color: getStatusColor(task.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: task.priority,\n                color: getPriorityColor(task.priority)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Assignee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Deadline Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error' : 'text.primary',\n                fontWeight: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal',\n                children: getDeadlineMessage()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2,\n              bgcolor: 'background.default'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: task.description || 'No description provided.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"text.secondary\",\n            children: \"Timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CalendarToday, {\n              fontSize: \"small\",\n              sx: {\n                mr: 1,\n                color: 'text.secondary'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Start: \", formatDate(task.startDate), \" - Due: \", formatDate(task.dueDate)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"text.secondary\",\n            children: \"Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n            variant: \"determinate\",\n            value: getProgress(),\n            color: task.status === TaskStatus.DONE ? 'success' : calculateDaysUntilDeadline() < 0 ? 'error' : calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary',\n            sx: {\n              height: 8,\n              borderRadius: 4,\n              mt: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            my: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), canAddComments() && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            mb: 3,\n            alignItems: 'flex-start'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              mr: 2,\n              bgcolor: 'primary.main'\n            },\n            children: [user === null || user === void 0 ? void 0 : (_user$firstName = user.firstName) === null || _user$firstName === void 0 ? void 0 : _user$firstName.charAt(0), user === null || user === void 0 ? void 0 : (_user$lastName = user.lastName) === null || _user$lastName === void 0 ? void 0 : _user$lastName.charAt(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            multiline: true,\n            rows: 2,\n            placeholder: \"Add a comment...\",\n            value: newComment,\n            onChange: e => setNewComment(e.target.value),\n            variant: \"outlined\",\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                onClick: handleSubmitComment,\n                disabled: !newComment.trim() || submitting,\n                edge: \"end\",\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: getComments().length > 0 ? getComments().map(comment => /*#__PURE__*/_jsxDEV(ListItem, {\n            alignItems: \"flex-start\",\n            sx: {\n              mb: 1,\n              bgcolor: 'background.default',\n              borderRadius: 1,\n              p: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                children: [comment.author.firstName.charAt(0), comment.author.lastName.charAt(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  fontWeight: \"bold\",\n                  children: [comment.author.firstName, \" \", comment.author.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: formatTime(comment.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 23\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"span\",\n                variant: \"body2\",\n                color: \"text.primary\",\n                sx: {\n                  display: 'inline',\n                  whiteSpace: 'pre-wrap'\n                },\n                children: comment.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this)]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              children: \"No comments yet. Be the first to comment!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskDetailDialog, \"tMJB8y/N1OZUOfAQtTNNPozYE2M=\", false, function () {\n  return [useAuth];\n});\n_c = TaskDetailDialog;\nexport default TaskDetailDialog;\nvar _c;\n$RefreshReg$(_c, \"TaskDetailDialog\");","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","Typography","Box","Chip","Button","Divider","TextField","Avatar","List","ListItem","ListItemAvatar","ListItemText","Paper","IconButton","LinearProgress","CalendarToday","Edit","EditIcon","Close","CloseIcon","Send","SendIcon","TaskStatus","TaskPriority","useAuth","format","jsxDEV","_jsxDEV","TaskDetailDialog","open","task","onClose","onEdit","onAddComment","_s","_user$firstName","_user$lastName","user","newComment","setNewComment","submitting","setSubmitting","localComments","setLocalComments","loading","setLoading","comments","calculateDaysUntilDeadline","dueDate","Date","today","diffTime","getTime","diffDays","Math","ceil","getStatusColor","status","daysLeft","DONE","TODO","IN_PROGRESS","REVIEW","getPriorityColor","priority","LOW","MEDIUM","HIGH","formatDate","dateString","toLocaleDateString","formatTime","getDeadlineMessage","abs","getProgress","handleSubmitComment","trim","id","newCommentObj","now","taskId","text","createdAt","toISOString","updatedAt","author","firstName","lastName","prev","error","console","canAddComments","getComments","maxWidth","fullWidth","children","onClick","sx","position","right","top","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","startIcon","p","gutterBottom","title","display","flexWrap","gap","mb","flex","color","label","assignee","fontWeight","bgcolor","description","alignItems","fontSize","mr","startDate","value","height","borderRadius","mt","my","charAt","multiline","rows","placeholder","onChange","e","target","InputProps","endAdornment","disabled","edge","length","map","comment","primary","justifyContent","secondary","component","whiteSpace","textAlign","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskDetailDialog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  Box,\n  Chip,\n  Button,\n  Divider,\n  TextField,\n  Avatar,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Paper,\n  IconButton,\n  Grid,\n  LinearProgress,\n  CircularProgress\n} from '@mui/material';\nimport {\n  CalendarToday,\n  Person,\n  Edit as EditIcon,\n  Close as CloseIcon,\n  Send as SendIcon,\n  Assignment as TaskIcon,\n  PriorityHigh as PriorityIcon,\n  Comment as CommentIcon\n} from '@mui/icons-material';\nimport { Task, TaskStatus, TaskPriority, User, TaskComment } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { format } from 'date-fns';\n\ninterface TaskDetailDialogProps {\n  open: boolean;\n  task: Task | null;\n  onClose: () => void;\n  onEdit: (task: Task) => void;\n  onAddComment: (taskId: string, comment: string) => Promise<void>;\n}\n\nconst TaskDetailDialog: React.FC<TaskDetailDialogProps> = ({\n  open,\n  task,\n  onClose,\n  onEdit,\n  onAddComment\n}) => {\n  const { user } = useAuth();\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState<TaskComment[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (open && task) {\n      setNewComment('');\n      // Set local comments from task comments or empty array\n      setLocalComments(task.comments || []);\n    }\n  }, [open, task]);\n\n  if (!task) {\n    return null;\n  }\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Get status chip color\n  const getStatusColor = (status: TaskStatus) => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n    \n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO: return 'default';\n      case TaskStatus.IN_PROGRESS: return 'primary';\n      case TaskStatus.REVIEW: return 'warning';\n      case TaskStatus.DONE: return 'success';\n      default: return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = (priority: TaskPriority) => {\n    switch (priority) {\n      case TaskPriority.LOW: return 'success';\n      case TaskPriority.MEDIUM: return 'warning';\n      case TaskPriority.HIGH: return 'error';\n      default: return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Format time for comments\n  const formatTime = (dateString: string) => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  const handleSubmitComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    \n    try {\n      setSubmitting(true);\n      await onAddComment(task.id, newComment);\n      \n      // Add the comment locally for immediate feedback\n      const newCommentObj: TaskComment = {\n        id: `comment-${Date.now()}`,\n        taskId: task.id,\n        text: newComment,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        author: {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName\n        }\n      };\n      \n      setLocalComments(prev => [...prev, newCommentObj]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Check if user can add comments\n  const canAddComments = () => {\n    if (!user) return false;\n    \n    // Allow task creator (if we have that info), assignee, and admin to add comments\n    // For now, we'll just allow any logged-in user to comment\n    return true;\n  };\n\n  // Get comments from the local state, which is initialized from task.comments\n  const getComments = (): TaskComment[] => {\n    return localComments;\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        Task Details\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{ position: 'absolute', right: 8, top: 8 }}\n        >\n          <CloseIcon />\n        </IconButton>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          startIcon={<EditIcon />}\n          sx={{ position: 'absolute', right: 50, top: 8 }}\n          onClick={() => onEdit(task)}\n        >\n          Edit\n        </Button>\n      </DialogTitle>\n      <DialogContent>\n        <Box sx={{ p: 1 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            {task.title}\n          </Typography>\n          \n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 3 }}>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Status</Typography>\n                <Chip \n                  label={task.status} \n                  color={getStatusColor(task.status)}\n                />\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Priority</Typography>\n                <Chip \n                  label={task.priority} \n                  color={getPriorityColor(task.priority)}\n                />\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Assignee</Typography>\n                <Typography>\n                  {task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'}\n                </Typography>\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Deadline Status</Typography>\n                <Typography \n                  color={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error' : 'text.primary'}\n                  fontWeight={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal'}\n                >\n                  {getDeadlineMessage()}\n                </Typography>\n              </Box>\n            </Box>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle1\">Description</Typography>\n            <Paper variant=\"outlined\" sx={{ p: 2, bgcolor: 'background.default' }}>\n              <Typography variant=\"body1\">\n                {task.description || 'No description provided.'}\n              </Typography>\n            </Paper>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Timeline</Typography>\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <CalendarToday fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n              <Typography variant=\"body2\">\n                Start: {formatDate(task.startDate)} - Due: {formatDate(task.dueDate)}\n              </Typography>\n            </Box>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Progress</Typography>\n            <LinearProgress \n              variant=\"determinate\" \n              value={getProgress()} \n              color={task.status === TaskStatus.DONE ? 'success' : \n                    calculateDaysUntilDeadline() < 0 ? 'error' : \n                    calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n              sx={{ height: 8, borderRadius: 4, mt: 1 }}\n            />\n          </Box>\n          \n          <Divider sx={{ my: 3 }} />\n          \n          <Typography variant=\"h6\" gutterBottom>\n            Comments\n          </Typography>\n          \n          {canAddComments() && (\n            <Box sx={{ display: 'flex', mb: 3, alignItems: 'flex-start' }}>\n              <Avatar \n                sx={{ mr: 2, bgcolor: 'primary.main' }}\n              >\n                {user?.firstName?.charAt(0)}{user?.lastName?.charAt(0)}\n              </Avatar>\n              <TextField\n                fullWidth\n                multiline\n                rows={2}\n                placeholder=\"Add a comment...\"\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <IconButton \n                      color=\"primary\" \n                      onClick={handleSubmitComment}\n                      disabled={!newComment.trim() || submitting}\n                      edge=\"end\"\n                    >\n                      <SendIcon />\n                    </IconButton>\n                  )\n                }}\n              />\n            </Box>\n          )}\n          \n          <List>\n            {getComments().length > 0 ? (\n              getComments().map((comment: TaskComment) => (\n                <ListItem \n                  key={comment.id}\n                  alignItems=\"flex-start\"\n                  sx={{ \n                    mb: 1,\n                    bgcolor: 'background.default',\n                    borderRadius: 1,\n                    p: 2\n                  }}\n                >\n                  <ListItemAvatar>\n                    <Avatar>\n                      {comment.author.firstName.charAt(0)}\n                      {comment.author.lastName.charAt(0)}\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                        <Typography fontWeight=\"bold\">\n                          {comment.author.firstName} {comment.author.lastName}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {formatTime(comment.createdAt)}\n                        </Typography>\n                      </Box>\n                    }\n                    secondary={\n                      <Typography\n                        component=\"span\"\n                        variant=\"body2\"\n                        color=\"text.primary\"\n                        sx={{ display: 'inline', whiteSpace: 'pre-wrap' }}\n                      >\n                        {comment.text}\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n              ))\n            ) : (\n              <Box sx={{ textAlign: 'center', p: 3 }}>\n                <Typography color=\"text.secondary\">\n                  No comments yet. Be the first to comment!\n                </Typography>\n              </Box>\n            )}\n          </List>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default TaskDetailDialog; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}