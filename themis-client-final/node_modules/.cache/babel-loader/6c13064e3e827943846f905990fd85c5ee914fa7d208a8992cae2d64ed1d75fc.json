{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,CardContent,Typography,Chip,Box,LinearProgress,Collapse,Divider,TextField,Button,Avatar,List,ListItem,ListItemAvatar,ListItemText,IconButton,Paper,Slider,Tooltip as MuiTooltip}from'@mui/material';import{CalendarToday,Person,Comment as CommentIcon,ExpandMore,ExpandLess,Send as SendIcon}from'@mui/icons-material';import{TaskStatus,TaskPriority}from'../../types';import{format}from'date-fns';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskCard=_ref=>{var _task$description,_user$firstName,_user$lastName;let{task,onClick,onAddComment,onUpdateProgress}=_ref;const{user}=useAuth();const[expanded,setExpanded]=useState(false);const[newComment,setNewComment]=useState('');const[submitting,setSubmitting]=useState(false);const[localComments,setLocalComments]=useState(task.comments||[]);const handleExpandClick=e=>{e.stopPropagation();setExpanded(!expanded);};const handleCommentChange=e=>{setNewComment(e.target.value);};const handleAddComment=async()=>{if(!newComment.trim()||!user||submitting)return;try{setSubmitting(true);if(onAddComment){await onAddComment(task.id,newComment);}// For demo purposes, add the comment locally\nconst newCommentObj={id:`comment-${Date.now()}`,taskId:task.id,text:newComment,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),author:{id:user.id,firstName:user.firstName,lastName:user.lastName}};setLocalComments([...localComments,newCommentObj]);setNewComment('');}catch(error){console.error('Error adding comment:',error);}finally{setSubmitting(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleAddComment();}};// Calculate days until deadline\nconst calculateDaysUntilDeadline=()=>{const dueDate=new Date(task.dueDate);const today=new Date();const diffTime=dueDate.getTime()-today.getTime();const diffDays=Math.ceil(diffTime/(1000*60*60*24));return diffDays;};// Determine card border color based on deadline\nconst getBorderColor=()=>{if(task.status===TaskStatus.DONE)return'success.main';const daysLeft=calculateDaysUntilDeadline();if(daysLeft<0)return'error.main';// Overdue\nif(daysLeft<=2)return'warning.main';// Close to deadline\nif(daysLeft<=5)return'info.main';// Approaching deadline\nreturn'primary.main';// Plenty of time\n};// Get status chip color\nconst getStatusColor=status=>{// Check if task is overdue first\nconst daysLeft=calculateDaysUntilDeadline();if(daysLeft<0&&status!==TaskStatus.DONE)return'error';// Default status colors\nswitch(status){case TaskStatus.TODO:return'default';case TaskStatus.IN_PROGRESS:return'primary';case TaskStatus.REVIEW:return'warning';case TaskStatus.DONE:return'success';default:return'default';}};// Get priority chip color\nconst getPriorityColor=priority=>{switch(priority){case TaskPriority.LOW:return'success';case TaskPriority.MEDIUM:return'warning';case TaskPriority.HIGH:return'error';default:return'default';}};// Format date\nconst formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};// Format time for comments\nconst formatTime=dateString=>{return format(new Date(dateString),'MMM d, yyyy h:mm a');};// Determine deadline message\nconst getDeadlineMessage=()=>{if(task.status===TaskStatus.DONE)return'Completed';const daysLeft=calculateDaysUntilDeadline();if(daysLeft<0)return`Overdue by ${Math.abs(daysLeft)} days`;if(daysLeft===0)return'Due today';if(daysLeft===1)return'Due tomorrow';return`${daysLeft} days left`;};// Calculate progress\nconst getProgress=()=>{switch(task.status){case TaskStatus.TODO:return 0;case TaskStatus.IN_PROGRESS:return 50;case TaskStatus.REVIEW:return 80;case TaskStatus.DONE:return 100;default:return 0;}};// Calculate progress based on task status\nconst calculateProgress=()=>{switch(task.status){case TaskStatus.TODO:return 0;case TaskStatus.IN_PROGRESS:return 50;case TaskStatus.REVIEW:return 80;case TaskStatus.DONE:return 100;default:return 0;}};const[progressValue,setProgressValue]=useState(calculateProgress());useEffect(()=>{setProgressValue(calculateProgress());},[task.status]);const handleProgressChange=(event,newValue)=>{event.stopPropagation();// Prevent card click when changing progress\nconst value=Array.isArray(newValue)?newValue[0]:newValue;setProgressValue(value);if(!onUpdateProgress)return;// Determine the new task status based on progress value\nlet newStatus=task.status;if(value===0){newStatus=TaskStatus.TODO;}else if(value>0&&value<50){newStatus=TaskStatus.IN_PROGRESS;}else if(value>=50&&value<100){newStatus=TaskStatus.REVIEW;}else if(value===100){newStatus=TaskStatus.DONE;}onUpdateProgress(task.id,value,newStatus);};return/*#__PURE__*/_jsxs(Card,{sx:{borderLeft:5,borderColor:getBorderColor(),cursor:onClick&&!expanded?'pointer':'default','&:hover':!expanded&&onClick?{transform:'translateY(-4px)',boxShadow:3,transition:'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out'}:{},height:'100%',display:'flex',flexDirection:'column'},onClick:expanded?undefined:onClick,children:[/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,pb:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:1},children:[/*#__PURE__*/_jsx(Chip,{label:task.status,size:\"small\",color:getStatusColor(task.status)}),/*#__PURE__*/_jsx(Chip,{label:task.priority,size:\"small\",color:getPriorityColor(task.priority),variant:\"outlined\"})]}),calculateDaysUntilDeadline()<0&&task.status!==TaskStatus.DONE&&/*#__PURE__*/_jsx(Chip,{label:\"OVERDUE\",size:\"small\",color:\"error\",sx:{mt:1,mb:1,fontWeight:'bold'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{mb:1},children:task.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:!expanded&&((_task$description=task.description)===null||_task$description===void 0?void 0:_task$description.length)>100?`${task.description.substring(0,100)}...`:task.description}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(Person,{fontSize:\"small\",sx:{mr:1,color:'text.secondary'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:task.assignee?`${task.assignee.firstName} ${task.assignee.lastName}`:'Unassigned'})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(CalendarToday,{fontSize:\"small\",sx:{mr:1,color:'text.secondary'}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[formatDate(task.startDate),\" - \",formatDate(task.dueDate)]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:'auto'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:0.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Progress\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:calculateDaysUntilDeadline()<0&&task.status!==TaskStatus.DONE?'error.main':'text.secondary',fontWeight:calculateDaysUntilDeadline()<0&&task.status!==TaskStatus.DONE?'bold':'normal',children:getDeadlineMessage()})]}),onUpdateProgress?/*#__PURE__*/_jsx(MuiTooltip,{title:`${progressValue}% complete`,children:/*#__PURE__*/_jsx(Slider,{value:progressValue,onChange:handleProgressChange,\"aria-labelledby\":\"task-progress-slider\",size:\"small\",step:10,marks:true,min:0,max:100,sx:{height:8,pt:1,pb:1},color:task.status===TaskStatus.DONE?'success':calculateDaysUntilDeadline()<0?'error':calculateDaysUntilDeadline()<=2?'warning':'primary',onClick:e=>e.stopPropagation()})}):/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:getProgress(),color:task.status===TaskStatus.DONE?'success':calculateDaysUntilDeadline()<0?'error':calculateDaysUntilDeadline()<=2?'warning':'primary',sx:{height:6,borderRadius:3}})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:2,borderTop:'1px solid',borderColor:'divider',pt:1},children:/*#__PURE__*/_jsx(IconButton,{onClick:handleExpandClick,\"aria-expanded\":expanded,\"aria-label\":\"show more\",size:\"small\",sx:{transform:expanded?'rotate(180deg)':'rotate(0deg)'},children:expanded?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})})})]}),/*#__PURE__*/_jsxs(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true,children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",display:\"flex\",alignItems:\"center\",gutterBottom:true,children:[/*#__PURE__*/_jsx(CommentIcon,{sx:{mr:1,fontSize:'small'}}),\"Comments (\",localComments.length,\")\"]}),/*#__PURE__*/_jsx(List,{sx:{maxHeight:'300px',overflow:'auto',mb:2},children:localComments.length>0?localComments.map(comment=>/*#__PURE__*/_jsxs(ListItem,{alignItems:\"flex-start\",sx:{px:0},children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsxs(Avatar,{sx:{width:32,height:32,fontSize:'0.875rem'},children:[comment.author.firstName.charAt(0),comment.author.lastName.charAt(0)]})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:\"bold\",children:[comment.author.firstName,\" \",comment.author.lastName]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:formatTime(comment.createdAt)})]}),secondary:/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{p:1,mt:0.5,bgcolor:'background.default',whiteSpace:'pre-wrap',fontSize:'0.875rem'},children:comment.text})})]},comment.id)):/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',py:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No comments yet. Be the first to comment!\"})})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(Avatar,{sx:{mr:1,width:32,height:32,fontSize:'0.875rem'},alt:user!==null&&user!==void 0&&user.firstName?`${user.firstName} ${user.lastName}`:'User',children:[user===null||user===void 0?void 0:(_user$firstName=user.firstName)===null||_user$firstName===void 0?void 0:_user$firstName.charAt(0),user===null||user===void 0?void 0:(_user$lastName=user.lastName)===null||_user$lastName===void 0?void 0:_user$lastName.charAt(0)]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:2,placeholder:\"Add a comment...\",value:newComment,onChange:handleCommentChange,onKeyPress:handleKeyPress,variant:\"outlined\",size:\"small\",sx:{fontSize:'0.875rem'},InputProps:{endAdornment:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:handleAddComment,disabled:!newComment.trim()||!user||submitting,startIcon:/*#__PURE__*/_jsx(SendIcon,{}),sx:{ml:1,mt:0.5},children:\"Send\"})}})]})]})]})]});};export default TaskCard;","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","Typography","Chip","Box","LinearProgress","Collapse","Divider","TextField","Button","Avatar","List","ListItem","ListItemAvatar","ListItemText","IconButton","Paper","Slider","Tooltip","MuiTooltip","CalendarToday","Person","Comment","CommentIcon","ExpandMore","ExpandLess","Send","SendIcon","TaskStatus","TaskPriority","format","useAuth","jsx","_jsx","jsxs","_jsxs","TaskCard","_ref","_task$description","_user$firstName","_user$lastName","task","onClick","onAddComment","onUpdateProgress","user","expanded","setExpanded","newComment","setNewComment","submitting","setSubmitting","localComments","setLocalComments","comments","handleExpandClick","e","stopPropagation","handleCommentChange","target","value","handleAddComment","trim","id","newCommentObj","Date","now","taskId","text","createdAt","toISOString","updatedAt","author","firstName","lastName","error","console","handleKeyPress","key","shiftKey","preventDefault","calculateDaysUntilDeadline","dueDate","today","diffTime","getTime","diffDays","Math","ceil","getBorderColor","status","DONE","daysLeft","getStatusColor","TODO","IN_PROGRESS","REVIEW","getPriorityColor","priority","LOW","MEDIUM","HIGH","formatDate","dateString","toLocaleDateString","formatTime","getDeadlineMessage","abs","getProgress","calculateProgress","progressValue","setProgressValue","handleProgressChange","event","newValue","Array","isArray","newStatus","sx","borderLeft","borderColor","cursor","transform","boxShadow","transition","height","display","flexDirection","undefined","children","flexGrow","pb","justifyContent","mb","label","size","color","variant","mt","fontWeight","component","title","description","length","substring","alignItems","fontSize","mr","assignee","startDate","onChange","step","marks","min","max","pt","borderRadius","borderTop","in","timeout","unmountOnExit","p","gutterBottom","maxHeight","overflow","map","comment","px","width","charAt","primary","secondary","bgcolor","whiteSpace","textAlign","py","alt","fullWidth","multiline","rows","placeholder","onKeyPress","InputProps","endAdornment","disabled","startIcon","ml"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskCard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  CardContent, \n  Typography, \n  Chip, \n  Box, \n  LinearProgress, \n  Collapse, \n  Divider, \n  TextField, \n  Button, \n  Avatar, \n  List, \n  ListItem, \n  ListItemAvatar, \n  ListItemText, \n  IconButton,\n  Paper,\n  Slider,\n  Tooltip as MuiTooltip\n} from '@mui/material';\nimport { \n  CalendarToday, \n  Person, \n  Comment as CommentIcon, \n  ExpandMore, \n  ExpandLess,\n  Send as SendIcon\n} from '@mui/icons-material';\nimport { Task, TaskStatus, TaskPriority, TaskComment } from '../../types';\nimport { format } from 'date-fns';\nimport { useAuth } from '../../context/AuthContext';\n\ninterface TaskCardProps {\n  task: Task;\n  onClick?: () => void;\n  onAddComment?: (taskId: string, comment: string) => Promise<void>;\n  onUpdateProgress?: (taskId: string, progress: number, newStatus: TaskStatus) => void;\n}\n\nconst TaskCard: React.FC<TaskCardProps> = ({ task, onClick, onAddComment, onUpdateProgress }) => {\n  const { user } = useAuth();\n  const [expanded, setExpanded] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState<TaskComment[]>(task.comments || []);\n\n  const handleExpandClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setExpanded(!expanded);\n  };\n\n  const handleCommentChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setNewComment(e.target.value);\n  };\n\n  const handleAddComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    \n    try {\n      setSubmitting(true);\n      \n      if (onAddComment) {\n        await onAddComment(task.id, newComment);\n      }\n      \n      // For demo purposes, add the comment locally\n      const newCommentObj: TaskComment = {\n        id: `comment-${Date.now()}`,\n        taskId: task.id,\n        text: newComment,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        author: {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName\n        }\n      };\n      \n      setLocalComments([...localComments, newCommentObj]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleAddComment();\n    }\n  };\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Determine card border color based on deadline\n  const getBorderColor = () => {\n    if (task.status === TaskStatus.DONE) return 'success.main';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return 'error.main'; // Overdue\n    if (daysLeft <= 2) return 'warning.main'; // Close to deadline\n    if (daysLeft <= 5) return 'info.main'; // Approaching deadline\n    return 'primary.main'; // Plenty of time\n  };\n\n  // Get status chip color\n  const getStatusColor = (status: TaskStatus) => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n    \n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO: return 'default';\n      case TaskStatus.IN_PROGRESS: return 'primary';\n      case TaskStatus.REVIEW: return 'warning';\n      case TaskStatus.DONE: return 'success';\n      default: return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = (priority: TaskPriority) => {\n    switch (priority) {\n      case TaskPriority.LOW: return 'success';\n      case TaskPriority.MEDIUM: return 'warning';\n      case TaskPriority.HIGH: return 'error';\n      default: return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  \n  // Format time for comments\n  const formatTime = (dateString: string) => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  // Calculate progress based on task status\n  const calculateProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  const [progressValue, setProgressValue] = useState<number>(calculateProgress());\n\n  useEffect(() => {\n    setProgressValue(calculateProgress());\n  }, [task.status]);\n\n  const handleProgressChange = (event: Event, newValue: number | number[]) => {\n    event.stopPropagation(); // Prevent card click when changing progress\n    \n    const value = Array.isArray(newValue) ? newValue[0] : newValue;\n    setProgressValue(value);\n    \n    if (!onUpdateProgress) return;\n    \n    // Determine the new task status based on progress value\n    let newStatus = task.status;\n    if (value === 0) {\n      newStatus = TaskStatus.TODO;\n    } else if (value > 0 && value < 50) {\n      newStatus = TaskStatus.IN_PROGRESS;\n    } else if (value >= 50 && value < 100) {\n      newStatus = TaskStatus.REVIEW;\n    } else if (value === 100) {\n      newStatus = TaskStatus.DONE;\n    }\n    \n    onUpdateProgress(task.id, value, newStatus);\n  };\n\n  return (\n    <Card \n      sx={{ \n        borderLeft: 5, \n        borderColor: getBorderColor(),\n        cursor: onClick && !expanded ? 'pointer' : 'default',\n        '&:hover': !expanded && onClick ? { \n          transform: 'translateY(-4px)',\n          boxShadow: 3,\n          transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out'\n        } : {},\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column'\n      }}\n      onClick={expanded ? undefined : onClick}\n    >\n      <CardContent sx={{ flexGrow: 1, pb: 1 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n          <Chip \n            label={task.status} \n            size=\"small\" \n            color={getStatusColor(task.status)}\n          />\n          <Chip \n            label={task.priority} \n            size=\"small\" \n            color={getPriorityColor(task.priority)}\n            variant=\"outlined\"\n          />\n        </Box>\n\n        {calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE && (\n          <Chip \n            label=\"OVERDUE\" \n            size=\"small\" \n            color=\"error\"\n            sx={{ mt: 1, mb: 1, fontWeight: 'bold' }}\n          />\n        )}\n\n        <Typography variant=\"h6\" component=\"div\" sx={{ mb: 1 }}>\n          {task.title}\n        </Typography>\n        \n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n          {!expanded && task.description?.length > 100 \n            ? `${task.description.substring(0, 100)}...` \n            : task.description}\n        </Typography>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n          <Person fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\">\n            {task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n          <CalendarToday fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\">\n            {formatDate(task.startDate)} - {formatDate(task.dueDate)}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ mt: 'auto' }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 0.5 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Progress</Typography>\n            <Typography \n              variant=\"body2\" \n              color={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error.main' : 'text.secondary'}\n              fontWeight={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal'}\n            >\n              {getDeadlineMessage()}\n            </Typography>\n          </Box>\n          \n          {/* Replace the LinearProgress with a Slider when onUpdateProgress is provided */}\n          {onUpdateProgress ? (\n            <MuiTooltip title={`${progressValue}% complete`}>\n              <Slider\n                value={progressValue}\n                onChange={handleProgressChange}\n                aria-labelledby=\"task-progress-slider\"\n                size=\"small\"\n                step={10}\n                marks\n                min={0}\n                max={100}\n                sx={{ height: 8, pt: 1, pb: 1 }}\n                color={task.status === TaskStatus.DONE ? 'success' : \n                      calculateDaysUntilDeadline() < 0 ? 'error' : \n                      calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n                onClick={(e) => e.stopPropagation()}\n              />\n            </MuiTooltip>\n          ) : (\n            <LinearProgress \n              variant=\"determinate\" \n              value={getProgress()} \n              color={task.status === TaskStatus.DONE ? 'success' : \n                    calculateDaysUntilDeadline() < 0 ? 'error' : \n                    calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n              sx={{ height: 6, borderRadius: 3 }}\n            />\n          )}\n        </Box>\n        \n        <Box \n          sx={{ \n            display: 'flex', \n            justifyContent: 'center', \n            mt: 2, \n            borderTop: '1px solid',\n            borderColor: 'divider',\n            pt: 1\n          }}\n        >\n          <IconButton \n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n            size=\"small\"\n            sx={{ transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)' }}\n          >\n            {expanded ? <ExpandLess /> : <ExpandMore />}\n          </IconButton>\n        </Box>\n      </CardContent>\n      \n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <Divider />\n        <Box sx={{ p: 2 }}>\n          <Typography variant=\"subtitle1\" display=\"flex\" alignItems=\"center\" gutterBottom>\n            <CommentIcon sx={{ mr: 1, fontSize: 'small' }} />\n            Comments ({localComments.length})\n          </Typography>\n          \n          <List sx={{ maxHeight: '300px', overflow: 'auto', mb: 2 }}>\n            {localComments.length > 0 ? (\n              localComments.map((comment) => (\n                <ListItem key={comment.id} alignItems=\"flex-start\" sx={{ px: 0 }}>\n                  <ListItemAvatar>\n                    <Avatar sx={{ width: 32, height: 32, fontSize: '0.875rem' }}>\n                      {comment.author.firstName.charAt(0)}{comment.author.lastName.charAt(0)}\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box display=\"flex\" justifyContent=\"space-between\">\n                        <Typography variant=\"body2\" fontWeight=\"bold\">\n                          {comment.author.firstName} {comment.author.lastName}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {formatTime(comment.createdAt)}\n                        </Typography>\n                      </Box>\n                    }\n                    secondary={\n                      <Paper \n                        variant=\"outlined\" \n                        sx={{ \n                          p: 1, \n                          mt: 0.5, \n                          bgcolor: 'background.default',\n                          whiteSpace: 'pre-wrap',\n                          fontSize: '0.875rem'\n                        }}\n                      >\n                        {comment.text}\n                      </Paper>\n                    }\n                  />\n                </ListItem>\n              ))\n            ) : (\n              <Box sx={{ textAlign: 'center', py: 2 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No comments yet. Be the first to comment!\n                </Typography>\n              </Box>\n            )}\n          </List>\n          \n          <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n            <Avatar \n              sx={{ mr: 1, width: 32, height: 32, fontSize: '0.875rem' }}\n              alt={user?.firstName ? `${user.firstName} ${user.lastName}` : 'User'}\n            >\n              {user?.firstName?.charAt(0)}{user?.lastName?.charAt(0)}\n            </Avatar>\n            <TextField\n              fullWidth\n              multiline\n              rows={2}\n              placeholder=\"Add a comment...\"\n              value={newComment}\n              onChange={handleCommentChange}\n              onKeyPress={handleKeyPress}\n              variant=\"outlined\"\n              size=\"small\"\n              sx={{ fontSize: '0.875rem' }}\n              InputProps={{\n                endAdornment: (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={handleAddComment}\n                    disabled={!newComment.trim() || !user || submitting}\n                    startIcon={<SendIcon />}\n                    sx={{ ml: 1, mt: 0.5 }}\n                  >\n                    Send\n                  </Button>\n                )\n              }}\n            />\n          </Box>\n        </Box>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport default TaskCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}