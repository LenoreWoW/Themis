{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Typography,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TablePagination,Chip,Button,TextField,MenuItem,IconButton,Tooltip,FormControl,InputLabel,Select,OutlinedInput,Toolbar,CircularProgress,Alert,useMediaQuery,useTheme}from'@mui/material';import{Add as AddIcon,Search as SearchIcon,ViewList as ViewListIcon,ViewModule as ViewModuleIcon,History as HistoryIcon}from'@mui/icons-material';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{ProjectStatus,ProjectTemplateType}from'../types';import AddProjectDialog from'../components/Project/AddProjectDialog';import{useTranslation}from'react-i18next';import EnhancedCard from'../components/common/EnhancedCard';import StatusBadge from'../components/common/StatusBadge';import CircularProgressWithLabel from'../components/common/CircularProgressWithLabel';import{GridItem,GridContainer}from'../components/common/MuiGridWrapper';import{mockProjects,mockUsers,mockDepartments}from'../services/mockData';import{initialStrategicGoals,initialAnnualGoals}from'./GoalsPage';import{alpha}from'@mui/material/styles';// Define Department type for the dialog\n// Define our own Goal interface for project linking\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Define status options\nconst statusOptions=['All','PLANNING','IN_PROGRESS','ON_HOLD','COMPLETED','CANCELLED'];// Helper function to get status color\nconst getStatusColor=(status,endDate)=>{// Check if the project is overdue (end date is before current date)\nif(endDate&&new Date(endDate)<new Date()){return'error';// Red color for overdue projects\n}switch(status){case'PLANNING':return'info';case'IN_PROGRESS':return'primary';case'ON_HOLD':return'warning';case'COMPLETED':return'success';case'CANCELLED':return'error';default:return'default';}};// Helper function to get status label\nconst getStatusLabel=status=>{switch(status){case'PLANNING':return'Planning';case'IN_PROGRESS':return'In Progress';case'ON_HOLD':return'On Hold';case'COMPLETED':return'Completed';case'CANCELLED':return'Cancelled';default:return status;}};// Map API status to component status type\nconst mapStatusToType=status=>{if(status==='PLANNING')return'planning';if(status==='IN_PROGRESS')return'inProgress';if(status==='ON_HOLD')return'onHold';if(status==='COMPLETED')return'completed';if(status==='CANCELLED')return'cancelled';return'todo';};const ProjectsPage=()=>{const{t}=useTranslation();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(6);const[searchQuery,setSearchQuery]=useState('');const[statusFilter,setStatusFilter]=useState('All');const[departmentFilter,setDepartmentFilter]=useState('All');const[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[departmentOptions,setDepartmentOptions]=useState([]);const[isAddProjectDialogOpen,setIsAddProjectDialogOpen]=useState(false);const[departments,setDepartments]=useState(mockDepartments);const[users,setUsers]=useState(mockUsers);const[viewMode,setViewMode]=useState('grid');const[goals,setGoals]=useState([...initialStrategicGoals.map(goal=>({...goal,name:goal.title,type:'STRATEGIC',category:'MAIN',status:'ACTIVE'})),...initialAnnualGoals.map(goal=>({...goal,name:goal.title,type:'ANNUAL',category:'MAIN',status:'ACTIVE'}))]);const navigate=useNavigate();const{isProjectManager,isAdmin,token,user}=useAuth();// Fetch projects when component mounts\nuseEffect(()=>{const fetchData=async()=>{try{setLoading(true);// Get mock projects\nsetTimeout(()=>{setProjects(mockProjects);// Get unique departments\nconst departmentSet=new Set(mockDepartments.map(dept=>dept.name));// Convert Set to Array and add 'All' at the beginning\nconst deptOptions=['All',...Array.from(departmentSet)];setDepartmentOptions(deptOptions);setDepartments(mockDepartments);setLoading(false);},1000);// Simulate loading delay\n}catch(error){console.error('Error fetching projects:',error);setProjects([]);setLoading(false);}};fetchData();},[]);const handleChangePage=(event,newPage)=>{setPage(newPage);};const handleChangeRowsPerPage=event=>{setRowsPerPage(parseInt(event.target.value,10));setPage(0);};const handleStatusFilterChange=event=>{setStatusFilter(event.target.value);setPage(0);};const handleDepartmentFilterChange=event=>{setDepartmentFilter(event.target.value);setPage(0);};const handleSearchChange=event=>{setSearchQuery(event.target.value);setPage(0);};const handleCreateProject=()=>{setIsAddProjectDialogOpen(true);};const handleProjectAdded=newProject=>{// Add the new project to the existing projects list\nsetProjects([...projects,newProject]);};const handleProjectClick=id=>{// Find the project to determine its template type\nconst project=projects.find(p=>p.id===id);if(!project){// If project not found, navigate to default project detail page\nnavigate(`/projects/${id}`);return;}// Ensure templateType has a value, defaulting to DEFAULT if missing\nconst templateType=project.templateType||ProjectTemplateType.DEFAULT;// Navigate to the specialized route based on template type\nswitch(templateType){case ProjectTemplateType.ERP:navigate(`/projects/${id}/erp`);break;case ProjectTemplateType.MARKETING:navigate(`/projects/${id}/marketing`);break;case ProjectTemplateType.FINANCE:navigate(`/projects/${id}/finance`);break;case ProjectTemplateType.SUPPLY_CHAIN:navigate(`/projects/${id}/supply-chain`);break;case ProjectTemplateType.WEBSITE:navigate(`/projects/${id}/website`);break;case ProjectTemplateType.INFRASTRUCTURE:navigate(`/projects/${id}/infrastructure`);break;default:// Fall back to default project detail page\nnavigate(`/projects/${id}`);}};// Filter projects based on search query and filters\nconst filteredProjects=Array.isArray(projects)?projects.filter(project=>{// Search query filter\nconst projectManagerName=project.projectManager?`${project.projectManager.firstName||''} ${project.projectManager.lastName||''}`.trim().toLowerCase():'';const matchesSearch=project.name.toLowerCase().includes(searchQuery.toLowerCase())||projectManagerName.includes(searchQuery.toLowerCase());// Status filter (handle both string and enum values)\nconst matchesStatus=statusFilter==='All'||project.status===statusFilter||typeof project.status==='string'&&project.status.replace(/([A-Z])/g,'_$1').toUpperCase()===statusFilter;// Department filter\nconst matchesDepartment=departmentFilter==='All'||project.department.name===departmentFilter;return matchesSearch&&matchesStatus&&matchesDepartment;}):[];// Calculate pagination\nconst paginatedProjects=filteredProjects.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage);// Helper function to get translated status label\nconst getTranslatedStatusLabel=status=>{// Try to use the projectStatus namespace first for more granular control\nconst projectStatusKey=`projectStatus.${status}`;const translatedStatus=t(projectStatusKey);// If the translation key exists and returns a valid translation (not the key itself)\nif(translatedStatus!==projectStatusKey){return translatedStatus;}// Fall back to the older status namespace if needed\nswitch(status){case'PLANNING':return t('status.planning');case'IN_PROGRESS':return t('status.inProgress');case'ON_HOLD':return t('status.onHold');case'COMPLETED':return t('status.completed');case'CANCELLED':return t('status.cancelled');default:return status;}};// Check if a project is overdue\nconst isOverdue=endDate=>{return endDate?new Date(endDate)<new Date():false;};// Find goals associated with a project\nconst findProjectGoals=projectId=>{return goals.filter(goal=>goal.linkedProjects.some(projectLink=>projectLink.projectId===projectId));};// Get project weight for a specific goal\nconst getProjectWeight=(goal,projectId)=>{const projectLink=goal.linkedProjects.find(projectLink=>projectLink.projectId===projectId);return projectLink?projectLink.weight:0;};// Render grid view\nconst renderGridView=()=>/*#__PURE__*/_jsx(GridContainer,{spacing:3,children:paginatedProjects.map(project=>{const statusType=isOverdue(project.endDate)?'overdue':mapStatusToType(typeof project.status==='string'?project.status:ProjectStatus[project.status]);return/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(EnhancedCard,{title:project.name,subtitle:project.department.name,onClick:()=>handleProjectClick(project.id),sx:{height:'100%',transition:'all 0.3s ease','&:hover':{transform:'translateY(-5px)',boxShadow:'0 10px 20px rgba(0,0,0,0.1)'},borderRadius:2,overflow:'hidden',position:'relative'},headerProps:{sx:{pb:1,borderBottom:'1px solid',borderColor:'divider'}},footer:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',width:'100%',pt:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:8,height:8,borderRadius:'50%',bgcolor:theme.palette.primary.main,mr:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[new Date(project.startDate).toLocaleDateString(),\" - \",new Date(project.endDate).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",fontWeight:\"medium\",children:project.projectManager?`${project.projectManager.firstName||''} ${project.projectManager.lastName||''}`.trim():t('project.unassigned')})]}),children:[/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:10,right:10,zIndex:2},children:/*#__PURE__*/_jsx(StatusBadge,{status:statusType,label:getTranslatedStatusLabel(typeof project.status==='string'?project.status:ProjectStatus[project.status]),size:\"small\"})}),/*#__PURE__*/_jsx(Box,{sx:{mb:2,mt:1},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{height:40,overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical'},children:project.description})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mt:2},children:[/*#__PURE__*/_jsx(Box,{children:findProjectGoals(project.id).length>0&&/*#__PURE__*/_jsx(Tooltip,{title:t('goals.linkedGoals','Linked Goals'),children:/*#__PURE__*/_jsx(Chip,{size:\"small\",label:`${findProjectGoals(project.id).length} ${t('goals.linked','Goals')}`,sx:{mr:1,fontSize:'0.7rem'}})})}),/*#__PURE__*/_jsx(CircularProgressWithLabel,{value:project.progress,size:40,thickness:4,sx:{color:project.progress<30?theme.palette.error.main:project.progress<70?theme.palette.warning.main:theme.palette.success.main}})]})]})},project.id);})});// Render list view\nconst renderListView=()=>/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:750},\"aria-label\":\"projects table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:t('project.name')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.department')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.status')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.projectManager')}),/*#__PURE__*/_jsx(TableCell,{children:t('common.timeline')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.progress')})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedProjects.map(project=>{const statusType=isOverdue(project.endDate)?'overdue':mapStatusToType(typeof project.status==='string'?project.status:ProjectStatus[project.status]);return/*#__PURE__*/_jsxs(TableRow,{hover:true,onClick:()=>handleProjectClick(project.id),sx:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(TableCell,{component:\"th\",scope:\"row\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",fontWeight:\"medium\",children:project.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",noWrap:true,sx:{maxWidth:300},children:project.description})]}),/*#__PURE__*/_jsx(TableCell,{children:project.department.name}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(StatusBadge,{status:statusType,label:getTranslatedStatusLabel(typeof project.status==='string'?project.status:ProjectStatus[project.status])})}),/*#__PURE__*/_jsx(TableCell,{children:project.projectManager?`${project.projectManager.firstName||''} ${project.projectManager.lastName||''}`.trim():t('project.unassigned')}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[new Date(project.startDate).toLocaleDateString(),\" - \",new Date(project.endDate).toLocaleDateString()]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(CircularProgressWithLabel,{value:project.progress,size:46,thickness:4})})]},project.id);})})]})});const handleAddLegacyProject=()=>{navigate('/projects/legacy/new');};const isPMO=userRole=>{// Update to include Admin users\nreturn userRole==='SUB_PMO'||userRole==='MAIN_PMO'||userRole==='ADMIN';};return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Paper,{elevation:0,sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:4,p:3,borderRadius:2,background:`linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,color:'white',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:0,left:0,right:0,bottom:0,opacity:0.1,background:'url(https://www.transparenttextures.com/patterns/cubes.png)',zIndex:0}}),/*#__PURE__*/_jsxs(Box,{sx:{zIndex:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",fontWeight:\"bold\",gutterBottom:true,children:t('navigation.projects')}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:t('project.subtitle','Manage and monitor all your organizational projects')})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,zIndex:1},children:[(isAdmin||isProjectManager)&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleCreateProject,sx:{borderRadius:8,px:3,py:1.2,boxShadow:'0 4px 10px rgba(0,0,0,0.15)',fontWeight:'bold',transition:'all 0.3s','&:hover':{transform:'translateY(-3px)',boxShadow:'0 6px 15px rgba(0,0,0,0.2)'}},children:t('project.add')}),isPMO(user===null||user===void 0?void 0:user.role)&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"inherit\",startIcon:/*#__PURE__*/_jsx(HistoryIcon,{}),onClick:handleAddLegacyProject,sx:{borderRadius:8,px:3,py:1.2,borderColor:'rgba(255,255,255,0.5)',transition:'all 0.3s','&:hover':{borderColor:'white',backgroundColor:'rgba(255,255,255,0.1)',transform:'translateY(-3px)'}},children:t('project.addLegacy','Add Legacy Project')})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%',mb:4,borderRadius:2,overflow:'hidden',boxShadow:'0 4px 20px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsxs(Toolbar,{sx:{p:2,display:'flex',justifyContent:'space-between',flexWrap:'wrap',gap:2,borderBottom:'1px solid',borderColor:'divider'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",variant:\"outlined\",placeholder:t('common.search'),value:searchQuery,onChange:handleSearchChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(SearchIcon,{fontSize:\"small\",sx:{mr:1,color:'action.active'}})},sx:{'& .MuiOutlinedInput-root':{borderRadius:8,transition:'all 0.2s','&.Mui-focused':{boxShadow:'0 0 0 3px rgba(0,0,0,0.05)'}}}}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",size:\"small\",sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:t('project.status')}),/*#__PURE__*/_jsx(Select,{label:t('project.status'),value:statusFilter,onChange:handleStatusFilterChange,input:/*#__PURE__*/_jsx(OutlinedInput,{label:t('project.status')}),sx:{borderRadius:8},children:statusOptions.map(status=>/*#__PURE__*/_jsx(MenuItem,{value:status,children:status==='All'?t('common.all'):getTranslatedStatusLabel(status)},status))})]}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",size:\"small\",sx:{minWidth:150},children:[/*#__PURE__*/_jsx(InputLabel,{children:t('project.department')}),/*#__PURE__*/_jsx(Select,{label:t('project.department'),value:departmentFilter,onChange:handleDepartmentFilterChange,input:/*#__PURE__*/_jsx(OutlinedInput,{label:t('project.department')}),sx:{borderRadius:8},children:departmentOptions.map(department=>/*#__PURE__*/_jsx(MenuItem,{value:department,children:department==='All'?t('common.all'):department},department))})]})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:/*#__PURE__*/_jsx(Tooltip,{title:viewMode==='grid'?t('common.listView'):t('common.gridView'),children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setViewMode(viewMode==='grid'?'list':'grid'),color:\"primary\",sx:{bgcolor:theme.palette.action.hover,'&:hover':{bgcolor:alpha(theme.palette.primary.main,0.1)}},children:viewMode==='grid'?/*#__PURE__*/_jsx(ViewListIcon,{}):/*#__PURE__*/_jsx(ViewModuleIcon,{})})})})]}),loading?/*#__PURE__*/_jsx(Box,{sx:{p:4,display:'flex',justifyContent:'center',alignItems:'center',minHeight:400},children:/*#__PURE__*/_jsx(CircularProgress,{})}):error?/*#__PURE__*/_jsx(Box,{sx:{p:4,textAlign:'center'},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{maxWidth:500,mx:'auto',borderRadius:2,boxShadow:'0 4px 12px rgba(211,47,47,0.1)'},children:error})}):paginatedProjects.length===0?/*#__PURE__*/_jsxs(Box,{sx:{p:8,textAlign:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:3,opacity:0.7},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"100\",height:\"100\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 5V3\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 5V3\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M3 9H21\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 13H15\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\"})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'medium',mb:1},children:t('common.noData')}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3,maxWidth:400,mx:'auto'},children:searchQuery||statusFilter!=='All'||departmentFilter!=='All'?t('common.adjustSearchCriteria'):t('project.createNewToStart')}),(isAdmin||isProjectManager)&&searchQuery===''&&statusFilter==='All'&&departmentFilter==='All'&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleCreateProject,sx:{borderRadius:8,px:3,py:1},children:t('project.add')})]}):/*#__PURE__*/_jsx(Box,{sx:{p:3},children:viewMode==='grid'?renderGridView():renderListView()}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[6,12,24],component:\"div\",count:filteredProjects.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage,labelRowsPerPage:t('common.rowsPerPage'),labelDisplayedRows:_ref=>{let{from,to,count}=_ref;return`${from}-${to} ${t('common.of')} ${count}`;},sx:{borderTop:'1px solid',borderColor:'divider','& .MuiTablePagination-selectIcon':{color:theme.palette.action.active}}})]}),/*#__PURE__*/_jsx(AddProjectDialog,{open:isAddProjectDialogOpen,onClose:()=>setIsAddProjectDialogOpen(false),onProjectAdded:handleProjectAdded,departments:departments,users:users})]});};export default ProjectsPage;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","Button","TextField","MenuItem","IconButton","Tooltip","FormControl","InputLabel","Select","OutlinedInput","Toolbar","CircularProgress","Alert","useMediaQuery","useTheme","Add","AddIcon","Search","SearchIcon","ViewList","ViewListIcon","ViewModule","ViewModuleIcon","History","HistoryIcon","useNavigate","useAuth","ProjectStatus","ProjectTemplateType","AddProjectDialog","useTranslation","EnhancedCard","StatusBadge","CircularProgressWithLabel","GridItem","GridContainer","mockProjects","mockUsers","mockDepartments","initialStrategicGoals","initialAnnualGoals","alpha","jsx","_jsx","jsxs","_jsxs","statusOptions","getStatusColor","status","endDate","Date","getStatusLabel","mapStatusToType","ProjectsPage","t","theme","isMobile","breakpoints","down","page","setPage","rowsPerPage","setRowsPerPage","searchQuery","setSearchQuery","statusFilter","setStatusFilter","departmentFilter","setDepartmentFilter","projects","setProjects","loading","setLoading","error","setError","departmentOptions","setDepartmentOptions","isAddProjectDialogOpen","setIsAddProjectDialogOpen","departments","setDepartments","users","setUsers","viewMode","setViewMode","goals","setGoals","map","goal","name","title","type","category","navigate","isProjectManager","isAdmin","token","user","fetchData","setTimeout","departmentSet","Set","dept","deptOptions","Array","from","console","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleStatusFilterChange","handleDepartmentFilterChange","handleSearchChange","handleCreateProject","handleProjectAdded","newProject","handleProjectClick","id","project","find","p","templateType","DEFAULT","ERP","MARKETING","FINANCE","SUPPLY_CHAIN","WEBSITE","INFRASTRUCTURE","filteredProjects","isArray","filter","projectManagerName","projectManager","firstName","lastName","trim","toLowerCase","matchesSearch","includes","matchesStatus","replace","toUpperCase","matchesDepartment","department","paginatedProjects","slice","getTranslatedStatusLabel","projectStatusKey","translatedStatus","isOverdue","findProjectGoals","projectId","linkedProjects","some","projectLink","getProjectWeight","weight","renderGridView","spacing","children","statusType","xs","sm","md","subtitle","onClick","sx","height","transition","transform","boxShadow","borderRadius","overflow","position","headerProps","pb","borderBottom","borderColor","footer","display","justifyContent","alignItems","width","pt","bgcolor","palette","primary","main","mr","variant","color","startDate","toLocaleDateString","fontWeight","top","right","zIndex","label","size","mb","mt","textOverflow","WebkitLineClamp","WebkitBoxOrient","description","length","fontSize","progress","thickness","warning","success","renderListView","minWidth","hover","cursor","component","scope","noWrap","maxWidth","handleAddLegacyProject","isPMO","userRole","elevation","background","dark","left","bottom","opacity","gutterBottom","gap","startIcon","px","py","role","backgroundColor","flexWrap","placeholder","onChange","InputProps","startAdornment","input","action","minHeight","textAlign","severity","mx","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","rowsPerPageOptions","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","_ref","to","borderTop","active","open","onClose","onProjectAdded"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ProjectsPage.tsx"],"sourcesContent":["import React, { useState, ReactNode, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  Chip,\n  Button,\n  TextField,\n  MenuItem,\n  IconButton,\n  Tooltip,\n  FormControl,\n  InputLabel,\n  Select,\n  SelectChangeEvent,\n  OutlinedInput,\n  Toolbar,\n  Stack,\n  CircularProgress,\n  Alert,\n  useMediaQuery,\n  useTheme,\n  Menu,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Link\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  FilterList as FilterIcon,\n  Search as SearchIcon,\n  MoreVert as MoreIcon,\n  ViewList as ViewListIcon,\n  ViewModule as ViewModuleIcon,\n  History as HistoryIcon,\n  ExpandMore as ExpandMoreIcon\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { Project, ProjectStatus, User, ProjectTemplateType } from '../types';\nimport api from '../services/api';\nimport AddProjectDialog from '../components/Project/AddProjectDialog';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedCard from '../components/common/EnhancedCard';\nimport StatusBadge from '../components/common/StatusBadge';\nimport SkeletonLoader from '../components/common/SkeletonLoader';\nimport CircularProgressWithLabel from '../components/common/CircularProgressWithLabel';\nimport { GridItem, GridContainer } from '../components/common/MuiGridWrapper';\nimport { mockProjects, mockUsers, mockDepartments } from '../services/mockData';\nimport { canManageProjects } from '../utils/permissions';\nimport { initialStrategicGoals, initialAnnualGoals } from './GoalsPage';\nimport { alpha } from '@mui/material/styles';\n\n// Define Department type for the dialog\ninterface Department {\n  id: string;\n  name: string;\n}\n\n// Define our own Goal interface for project linking\ninterface Goal {\n  id: string;\n  name?: string;\n  title?: string;\n  description: string;\n  type: string;\n  category: string;\n  status: string;\n  progress?: number;\n  startDate?: string;\n  endDate?: string;\n  assignedTo?: string;\n  linkedProjects: { projectId: string; weight: number }[];\n  isProgressAutoCalculated?: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\n// Define status options\nconst statusOptions = [\n  'All',\n  'PLANNING',\n  'IN_PROGRESS',\n  'ON_HOLD',\n  'COMPLETED',\n  'CANCELLED'\n];\n\n// Helper function to get status color\nconst getStatusColor = (status: string, endDate?: string) => {\n  // Check if the project is overdue (end date is before current date)\n  if (endDate && new Date(endDate) < new Date()) {\n    return 'error'; // Red color for overdue projects\n  }\n  \n  switch(status) {\n    case 'PLANNING': return 'info';\n    case 'IN_PROGRESS': return 'primary';\n    case 'ON_HOLD': return 'warning';\n    case 'COMPLETED': return 'success';\n    case 'CANCELLED': return 'error';\n    default: return 'default';\n  }\n};\n\n// Helper function to get status label\nconst getStatusLabel = (status: string) => {\n  switch(status) {\n    case 'PLANNING': return 'Planning';\n    case 'IN_PROGRESS': return 'In Progress';\n    case 'ON_HOLD': return 'On Hold';\n    case 'COMPLETED': return 'Completed';\n    case 'CANCELLED': return 'Cancelled';\n    default: return status;\n  }\n};\n\n// Map API status to component status type\nconst mapStatusToType = (status: string): 'planning' | 'inProgress' | 'onHold' | 'completed' | 'cancelled' | 'todo' | 'review' | 'overdue' => {\n  if (status === 'PLANNING') return 'planning';\n  if (status === 'IN_PROGRESS') return 'inProgress';\n  if (status === 'ON_HOLD') return 'onHold';\n  if (status === 'COMPLETED') return 'completed';\n  if (status === 'CANCELLED') return 'cancelled';\n  return 'todo';\n};\n\nconst ProjectsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('All');\n  const [departmentFilter, setDepartmentFilter] = useState('All');\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [departmentOptions, setDepartmentOptions] = useState<string[]>([]);\n  const [isAddProjectDialogOpen, setIsAddProjectDialogOpen] = useState(false);\n  const [departments, setDepartments] = useState(mockDepartments);\n  const [users, setUsers] = useState(mockUsers);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [goals, setGoals] = useState<Goal[]>([\n    ...initialStrategicGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'STRATEGIC',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    })),\n    ...initialAnnualGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'ANNUAL',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    }))\n  ]);\n  \n  const navigate = useNavigate();\n  const { isProjectManager, isAdmin, token, user } = useAuth();\n  \n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Get mock projects\n        setTimeout(() => {\n          setProjects(mockProjects);\n          \n          // Get unique departments\n          const departmentSet = new Set<string>(\n            mockDepartments.map(dept => dept.name)\n          );\n          \n          // Convert Set to Array and add 'All' at the beginning\n          const deptOptions = ['All', ...Array.from(departmentSet)];\n          setDepartmentOptions(deptOptions);\n          setDepartments(mockDepartments);\n          setLoading(false);\n        }, 1000); // Simulate loading delay\n        \n      } catch (error) {\n        console.error('Error fetching projects:', error);\n        setProjects([]);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n  \n  const handleChangePage = (event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n  \n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n  const handleStatusFilterChange = (event: SelectChangeEvent) => {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleDepartmentFilterChange = (event: SelectChangeEvent) => {\n    setDepartmentFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n    setPage(0);\n  };\n  \n  const handleCreateProject = () => {\n    setIsAddProjectDialogOpen(true);\n  };\n  \n  const handleProjectAdded = (newProject: Project) => {\n    // Add the new project to the existing projects list\n    setProjects([...projects, newProject]);\n  };\n  \n  const handleProjectClick = (id: string) => {\n    // Find the project to determine its template type\n    const project = projects.find(p => p.id === id);\n    \n    if (!project) {\n      // If project not found, navigate to default project detail page\n      navigate(`/projects/${id}`);\n      return;\n    }\n    \n    // Ensure templateType has a value, defaulting to DEFAULT if missing\n    const templateType = project.templateType || ProjectTemplateType.DEFAULT;\n    \n    // Navigate to the specialized route based on template type\n    switch (templateType) {\n      case ProjectTemplateType.ERP:\n        navigate(`/projects/${id}/erp`);\n        break;\n      case ProjectTemplateType.MARKETING:\n        navigate(`/projects/${id}/marketing`);\n        break;\n      case ProjectTemplateType.FINANCE:\n        navigate(`/projects/${id}/finance`);\n        break;\n      case ProjectTemplateType.SUPPLY_CHAIN:\n        navigate(`/projects/${id}/supply-chain`);\n        break;\n      case ProjectTemplateType.WEBSITE:\n        navigate(`/projects/${id}/website`);\n        break;\n      case ProjectTemplateType.INFRASTRUCTURE:\n        navigate(`/projects/${id}/infrastructure`);\n        break;\n      default:\n        // Fall back to default project detail page\n        navigate(`/projects/${id}`);\n    }\n  };\n  \n  // Filter projects based on search query and filters\n  const filteredProjects = Array.isArray(projects) \n    ? projects.filter((project) => {\n        // Search query filter\n        const projectManagerName = project.projectManager \n          ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim().toLowerCase()\n          : '';\n          \n        const matchesSearch = \n          project.name.toLowerCase().includes(searchQuery.toLowerCase()) || \n          projectManagerName.includes(searchQuery.toLowerCase());\n        \n        // Status filter (handle both string and enum values)\n        const matchesStatus = statusFilter === 'All' || \n          project.status === statusFilter || \n          (typeof project.status === 'string' && project.status.replace(/([A-Z])/g, '_$1').toUpperCase() === statusFilter);\n        \n        // Department filter\n        const matchesDepartment = departmentFilter === 'All' || \n          (project as Project).department.name === departmentFilter;\n        \n        return matchesSearch && matchesStatus && matchesDepartment;\n      })\n    : [];\n  \n  // Calculate pagination\n  const paginatedProjects = filteredProjects.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n  \n  // Helper function to get translated status label\n  const getTranslatedStatusLabel = (status: string): string => {\n    // Try to use the projectStatus namespace first for more granular control\n    const projectStatusKey = `projectStatus.${status}`;\n    const translatedStatus = t(projectStatusKey);\n\n    // If the translation key exists and returns a valid translation (not the key itself)\n    if (translatedStatus !== projectStatusKey) {\n      return translatedStatus;\n    }\n\n    // Fall back to the older status namespace if needed\n    switch(status) {\n      case 'PLANNING': return t('status.planning');\n      case 'IN_PROGRESS': return t('status.inProgress');\n      case 'ON_HOLD': return t('status.onHold');\n      case 'COMPLETED': return t('status.completed');\n      case 'CANCELLED': return t('status.cancelled');\n      default: return status;\n    }\n  };\n\n  // Check if a project is overdue\n  const isOverdue = (endDate?: string): boolean => {\n    return endDate ? new Date(endDate) < new Date() : false;\n  };\n\n  // Find goals associated with a project\n  const findProjectGoals = (projectId: string) => {\n    return goals.filter(goal => \n      goal.linkedProjects.some(projectLink => projectLink.projectId === projectId)\n    );\n  };\n\n  // Get project weight for a specific goal\n  const getProjectWeight = (goal: Goal, projectId: string) => {\n    const projectLink = goal.linkedProjects.find(projectLink => projectLink.projectId === projectId);\n    return projectLink ? projectLink.weight : 0;\n  };\n\n  // Render grid view\n  const renderGridView = () => (\n    <GridContainer spacing={3}>\n      {paginatedProjects.map((project) => {\n        const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n          typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n        );\n        \n        return (\n          <GridItem xs={12} sm={6} md={4} key={project.id}>\n            <EnhancedCard\n              title={project.name}\n              subtitle={project.department.name}\n              onClick={() => handleProjectClick(project.id)}\n              sx={{ \n                height: '100%',\n                transition: 'all 0.3s ease',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n                },\n                borderRadius: 2,\n                overflow: 'hidden',\n                position: 'relative'\n              }}\n              headerProps={{\n                sx: {\n                  pb: 1,\n                  borderBottom: '1px solid',\n                  borderColor: 'divider'\n                }\n              }}\n              footer={\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', pt: 1 }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                    <Box\n                      sx={{\n                        width: 8,\n                        height: 8,\n                        borderRadius: '50%',\n                        bgcolor: theme.palette.primary.main,\n                        mr: 1,\n                      }}\n                    />\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"caption\" fontWeight=\"medium\">\n                    {project.projectManager\n                      ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                      : t('project.unassigned')}\n                  </Typography>\n                </Box>\n              }\n            >\n              <Box \n                sx={{ \n                  position: 'absolute',\n                  top: 10,\n                  right: 10,\n                  zIndex: 2\n                }}\n              >\n                <StatusBadge \n                  status={statusType}\n                  label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  size=\"small\"\n                />\n              </Box>\n            \n              <Box sx={{ mb: 2, mt: 1 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ \n                  height: 40, \n                  overflow: 'hidden', \n                  textOverflow: 'ellipsis',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                }}>\n                  {project.description}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 2 }}>\n                <Box>\n                  {findProjectGoals(project.id).length > 0 && (\n                    <Tooltip title={t('goals.linkedGoals', 'Linked Goals')}>\n                      <Chip\n                        size=\"small\"\n                        label={`${findProjectGoals(project.id).length} ${t('goals.linked', 'Goals')}`}\n                        sx={{ mr: 1, fontSize: '0.7rem' }}\n                      />\n                    </Tooltip>\n                  )}\n                </Box>\n                <CircularProgressWithLabel \n                  value={project.progress} \n                  size={40} \n                  thickness={4}\n                  sx={{\n                    color: project.progress < 30 ? theme.palette.error.main :\n                           project.progress < 70 ? theme.palette.warning.main :\n                           theme.palette.success.main\n                  }}\n                />\n              </Box>\n            </EnhancedCard>\n          </GridItem>\n        );\n      })}\n    </GridContainer>\n  );\n\n  // Render list view\n  const renderListView = () => (\n    <TableContainer>\n      <Table sx={{ minWidth: 750 }} aria-label=\"projects table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>{t('project.name')}</TableCell>\n            <TableCell>{t('project.department')}</TableCell>\n            <TableCell>{t('project.status')}</TableCell>\n            <TableCell>{t('project.projectManager')}</TableCell>\n            <TableCell>{t('common.timeline')}</TableCell>\n            <TableCell>{t('project.progress')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {paginatedProjects.map((project) => {\n            const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n              typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n            );\n            \n            return (\n              <TableRow\n                hover\n                key={project.id}\n                onClick={() => handleProjectClick(project.id)}\n                sx={{ cursor: 'pointer' }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  <Typography variant=\"body1\" fontWeight=\"medium\">\n                    {project.name}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" noWrap sx={{ maxWidth: 300 }}>\n                    {project.description}\n                  </Typography>\n                </TableCell>\n                <TableCell>{project.department.name}</TableCell>\n                <TableCell>\n                  <StatusBadge \n                    status={statusType}\n                    label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  />\n                </TableCell>\n                <TableCell>\n                  {project.projectManager\n                    ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                    : t('project.unassigned')}\n                </TableCell>\n                <TableCell>\n                  <Typography variant=\"body2\">\n                    {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  <CircularProgressWithLabel value={project.progress} size={46} thickness={4} />\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n  \n  const handleAddLegacyProject = () => {\n    navigate('/projects/legacy/new');\n  };\n\n  const isPMO = (userRole?: string) => {\n    // Update to include Admin users\n    return userRole === 'SUB_PMO' || userRole === 'MAIN_PMO' || userRole === 'ADMIN';\n  };\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Paper \n        elevation={0} \n        sx={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center', \n          mb: 4,\n          p: 3,\n          borderRadius: 2,\n          background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\n          color: 'white',\n          position: 'relative',\n          overflow: 'hidden'\n        }}\n      >\n        <Box sx={{ \n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          opacity: 0.1,\n          background: 'url(https://www.transparenttextures.com/patterns/cubes.png)',\n          zIndex: 0\n        }} />\n        \n        <Box sx={{ zIndex: 1 }}>\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\" gutterBottom>{t('navigation.projects')}</Typography>\n          <Typography variant=\"subtitle1\">{t('project.subtitle', 'Manage and monitor all your organizational projects')}</Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', gap: 2, zIndex: 1 }}>\n          {(isAdmin || isProjectManager) && (\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<AddIcon />}\n              onClick={handleCreateProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                boxShadow: '0 4px 10px rgba(0,0,0,0.15)',\n                fontWeight: 'bold',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-3px)',\n                  boxShadow: '0 6px 15px rgba(0,0,0,0.2)'\n                }\n              }}\n            >\n              {t('project.add')}\n            </Button>\n          )}\n          \n          {isPMO(user?.role) && (\n            <Button\n              variant=\"outlined\"\n              color=\"inherit\"\n              startIcon={<HistoryIcon />}\n              onClick={handleAddLegacyProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                borderColor: 'rgba(255,255,255,0.5)',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  borderColor: 'white',\n                  backgroundColor: 'rgba(255,255,255,0.1)',\n                  transform: 'translateY(-3px)'\n                }\n              }}\n            >\n              {t('project.addLegacy', 'Add Legacy Project')}\n            </Button>\n          )}\n        </Box>\n      </Paper>\n      \n      <Paper sx={{ width: '100%', mb: 4, borderRadius: 2, overflow: 'hidden', boxShadow: '0 4px 20px rgba(0,0,0,0.05)' }}>\n        <Toolbar \n          sx={{ \n            p: 2, \n            display: 'flex', \n            justifyContent: 'space-between', \n            flexWrap: 'wrap',\n            gap: 2,\n            borderBottom: '1px solid',\n            borderColor: 'divider'\n          }}\n        >\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, flexWrap: 'wrap' }}>\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder={t('common.search')}\n              value={searchQuery}\n              onChange={handleSearchChange}\n              InputProps={{\n                startAdornment: <SearchIcon fontSize=\"small\" sx={{ mr: 1, color: 'action.active' }} />,\n              }}\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  borderRadius: 8,\n                  transition: 'all 0.2s',\n                  '&.Mui-focused': {\n                    boxShadow: '0 0 0 3px rgba(0,0,0,0.05)'\n                  }\n                }\n              }}\n            />\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 120 }}>\n              <InputLabel>{t('project.status')}</InputLabel>\n              <Select\n                label={t('project.status')}\n                value={statusFilter}\n                onChange={handleStatusFilterChange}\n                input={<OutlinedInput label={t('project.status')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {statusOptions.map((status) => (\n                  <MenuItem key={status} value={status}>\n                    {status === 'All' ? t('common.all') : getTranslatedStatusLabel(status)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 150 }}>\n              <InputLabel>{t('project.department')}</InputLabel>\n              <Select\n                label={t('project.department')}\n                value={departmentFilter}\n                onChange={handleDepartmentFilterChange}\n                input={<OutlinedInput label={t('project.department')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {departmentOptions.map((department) => (\n                  <MenuItem key={department} value={department}>\n                    {department === 'All' ? t('common.all') : department}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n          \n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Tooltip title={viewMode === 'grid' ? t('common.listView') : t('common.gridView')}>\n              <IconButton \n                onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n                color=\"primary\"\n                sx={{\n                  bgcolor: theme.palette.action.hover,\n                  '&:hover': {\n                    bgcolor: alpha(theme.palette.primary.main, 0.1)\n                  }\n                }}\n              >\n                {viewMode === 'grid' ? <ViewListIcon /> : <ViewModuleIcon />}\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </Toolbar>\n        \n        {loading ? (\n          <Box sx={{ p: 4, display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\n            <CircularProgress />\n          </Box>\n        ) : error ? (\n          <Box sx={{ p: 4, textAlign: 'center' }}>\n            <Alert \n              severity=\"error\" \n              sx={{ \n                maxWidth: 500, \n                mx: 'auto',\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(211,47,47,0.1)'\n              }}\n            >\n              {error}\n            </Alert>\n          </Box>\n        ) : paginatedProjects.length === 0 ? (\n          <Box sx={{ p: 8, textAlign: 'center' }}>\n            <Box sx={{ mb: 3, opacity: 0.7 }}>\n              <svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M8 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M16 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M3 9H21\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                <path d=\"M9 13H15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              </svg>\n            </Box>\n            <Typography variant=\"h6\" sx={{ fontWeight: 'medium', mb: 1 }}>\n              {t('common.noData')}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3, maxWidth: 400, mx: 'auto' }}>\n              {searchQuery || statusFilter !== 'All' || departmentFilter !== 'All'\n                ? t('common.adjustSearchCriteria')\n                : t('project.createNewToStart')}\n            </Typography>\n            \n            {(isAdmin || isProjectManager) && (searchQuery === '' && statusFilter === 'All' && departmentFilter === 'All') && (\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                onClick={handleCreateProject}\n                sx={{ \n                  borderRadius: 8,\n                  px: 3,\n                  py: 1\n                }}\n              >\n                {t('project.add')}\n              </Button>\n            )}\n          </Box>\n        ) : (\n          <Box sx={{ p: 3 }}>\n            {viewMode === 'grid' ? renderGridView() : renderListView()}\n          </Box>\n        )}\n        \n        <TablePagination\n          rowsPerPageOptions={[6, 12, 24]}\n          component=\"div\"\n          count={filteredProjects.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          labelRowsPerPage={t('common.rowsPerPage')}\n          labelDisplayedRows={({ from, to, count }) =>\n            `${from}-${to} ${t('common.of')} ${count}`\n          }\n          sx={{\n            borderTop: '1px solid',\n            borderColor: 'divider',\n            '& .MuiTablePagination-selectIcon': {\n              color: theme.palette.action.active\n            }\n          }}\n        />\n      </Paper>\n      \n      {/* Add Project Dialog */}\n      <AddProjectDialog\n        open={isAddProjectDialogOpen}\n        onClose={() => setIsAddProjectDialogOpen(false)}\n        onProjectAdded={handleProjectAdded}\n        departments={departments}\n        users={users}\n      />\n    </Box>\n  );\n};\n\nexport default ProjectsPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAaC,SAAS,KAAiB,OAAO,CACtE,OACEC,GAAG,CACHC,UAAU,CACVC,KAAK,CACLC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,SAAS,CACTC,QAAQ,CACRC,eAAe,CACfC,IAAI,CACJC,MAAM,CACNC,SAAS,CACTC,QAAQ,CACRC,UAAU,CACVC,OAAO,CACPC,WAAW,CACXC,UAAU,CACVC,MAAM,CAENC,aAAa,CACbC,OAAO,CAEPC,gBAAgB,CAChBC,KAAK,CACLC,aAAa,CACbC,QAAQ,KAMH,eAAe,CACtB,OACEC,GAAG,GAAI,CAAAC,OAAO,CAEdC,MAAM,GAAI,CAAAC,UAAU,CAEpBC,QAAQ,GAAI,CAAAC,YAAY,CACxBC,UAAU,GAAI,CAAAC,cAAc,CAC5BC,OAAO,GAAI,CAAAC,WAAW,KAEjB,qBAAqB,CAC5B,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAAkBC,aAAa,CAAQC,mBAAmB,KAAQ,UAAU,CAE5E,MAAO,CAAAC,gBAAgB,KAAM,wCAAwC,CACrE,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,CAAAC,YAAY,KAAM,mCAAmC,CAC5D,MAAO,CAAAC,WAAW,KAAM,kCAAkC,CAE1D,MAAO,CAAAC,yBAAyB,KAAM,gDAAgD,CACtF,OAASC,QAAQ,CAAEC,aAAa,KAAQ,qCAAqC,CAC7E,OAASC,YAAY,CAAEC,SAAS,CAAEC,eAAe,KAAQ,sBAAsB,CAE/E,OAASC,qBAAqB,CAAEC,kBAAkB,KAAQ,aAAa,CACvE,OAASC,KAAK,KAAQ,sBAAsB,CAE5C;AAMA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAmBA;AACA,KAAM,CAAAC,aAAa,CAAG,CACpB,KAAK,CACL,UAAU,CACV,aAAa,CACb,SAAS,CACT,WAAW,CACX,WAAW,CACZ,CAED;AACA,KAAM,CAAAC,cAAc,CAAGA,CAACC,MAAc,CAAEC,OAAgB,GAAK,CAC3D;AACA,GAAIA,OAAO,EAAI,GAAI,CAAAC,IAAI,CAACD,OAAO,CAAC,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAE,CAC7C,MAAO,OAAO,CAAE;AAClB,CAEA,OAAOF,MAAM,EACX,IAAK,UAAU,CAAE,MAAO,MAAM,CAC9B,IAAK,aAAa,CAAE,MAAO,SAAS,CACpC,IAAK,SAAS,CAAE,MAAO,SAAS,CAChC,IAAK,WAAW,CAAE,MAAO,SAAS,CAClC,IAAK,WAAW,CAAE,MAAO,OAAO,CAChC,QAAS,MAAO,SAAS,CAC3B,CACF,CAAC,CAED;AACA,KAAM,CAAAG,cAAc,CAAIH,MAAc,EAAK,CACzC,OAAOA,MAAM,EACX,IAAK,UAAU,CAAE,MAAO,UAAU,CAClC,IAAK,aAAa,CAAE,MAAO,aAAa,CACxC,IAAK,SAAS,CAAE,MAAO,SAAS,CAChC,IAAK,WAAW,CAAE,MAAO,WAAW,CACpC,IAAK,WAAW,CAAE,MAAO,WAAW,CACpC,QAAS,MAAO,CAAAA,MAAM,CACxB,CACF,CAAC,CAED;AACA,KAAM,CAAAI,eAAe,CAAIJ,MAAc,EAAuG,CAC5I,GAAIA,MAAM,GAAK,UAAU,CAAE,MAAO,UAAU,CAC5C,GAAIA,MAAM,GAAK,aAAa,CAAE,MAAO,YAAY,CACjD,GAAIA,MAAM,GAAK,SAAS,CAAE,MAAO,QAAQ,CACzC,GAAIA,MAAM,GAAK,WAAW,CAAE,MAAO,WAAW,CAC9C,GAAIA,MAAM,GAAK,WAAW,CAAE,MAAO,WAAW,CAC9C,MAAO,MAAM,CACf,CAAC,CAED,KAAM,CAAAK,YAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAEC,CAAE,CAAC,CAAGxB,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAAyB,KAAK,CAAGzC,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAA0C,QAAQ,CAAG3C,aAAa,CAAC0C,KAAK,CAACE,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC5D,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGxE,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACyE,WAAW,CAAEC,cAAc,CAAC,CAAG1E,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAC2E,WAAW,CAAEC,cAAc,CAAC,CAAG5E,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC6E,YAAY,CAAEC,eAAe,CAAC,CAAG9E,QAAQ,CAAS,KAAK,CAAC,CAC/D,KAAM,CAAC+E,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhF,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACiF,QAAQ,CAAEC,WAAW,CAAC,CAAGlF,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACmF,OAAO,CAAEC,UAAU,CAAC,CAAGpF,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqF,KAAK,CAAEC,QAAQ,CAAC,CAAGtF,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAACuF,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGxF,QAAQ,CAAW,EAAE,CAAC,CACxE,KAAM,CAACyF,sBAAsB,CAAEC,yBAAyB,CAAC,CAAG1F,QAAQ,CAAC,KAAK,CAAC,CAC3E,KAAM,CAAC2F,WAAW,CAAEC,cAAc,CAAC,CAAG5F,QAAQ,CAACkD,eAAe,CAAC,CAC/D,KAAM,CAAC2C,KAAK,CAAEC,QAAQ,CAAC,CAAG9F,QAAQ,CAACiD,SAAS,CAAC,CAC7C,KAAM,CAAC8C,QAAQ,CAAEC,WAAW,CAAC,CAAGhG,QAAQ,CAAkB,MAAM,CAAC,CACjE,KAAM,CAACiG,KAAK,CAAEC,QAAQ,CAAC,CAAGlG,QAAQ,CAAS,CACzC,GAAGmD,qBAAqB,CAACgD,GAAG,CAACC,IAAI,GAAK,CACpC,GAAGA,IAAI,CACPC,IAAI,CAAED,IAAI,CAACE,KAAK,CAChBC,IAAI,CAAE,WAAW,CACjBC,QAAQ,CAAE,MAAM,CAChB5C,MAAM,CAAE,QACV,CAAC,CAAC,CAAC,CACH,GAAGR,kBAAkB,CAAC+C,GAAG,CAACC,IAAI,GAAK,CACjC,GAAGA,IAAI,CACPC,IAAI,CAAED,IAAI,CAACE,KAAK,CAChBC,IAAI,CAAE,QAAQ,CACdC,QAAQ,CAAE,MAAM,CAChB5C,MAAM,CAAE,QACV,CAAC,CAAC,CAAC,CACJ,CAAC,CAEF,KAAM,CAAA6C,QAAQ,CAAGpE,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEqE,gBAAgB,CAAEC,OAAO,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAGvE,OAAO,CAAC,CAAC,CAE5D;AACArC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6G,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF1B,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA2B,UAAU,CAAC,IAAM,CACf7B,WAAW,CAAClC,YAAY,CAAC,CAEzB;AACA,KAAM,CAAAgE,aAAa,CAAG,GAAI,CAAAC,GAAG,CAC3B/D,eAAe,CAACiD,GAAG,CAACe,IAAI,EAAIA,IAAI,CAACb,IAAI,CACvC,CAAC,CAED;AACA,KAAM,CAAAc,WAAW,CAAG,CAAC,KAAK,CAAE,GAAGC,KAAK,CAACC,IAAI,CAACL,aAAa,CAAC,CAAC,CACzDxB,oBAAoB,CAAC2B,WAAW,CAAC,CACjCvB,cAAc,CAAC1C,eAAe,CAAC,CAC/BkC,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CAAE;AAEZ,CAAE,MAAOC,KAAK,CAAE,CACdiC,OAAO,CAACjC,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDH,WAAW,CAAC,EAAE,CAAC,CACfE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED0B,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,gBAAgB,CAAGA,CAACC,KAAc,CAAEC,OAAe,GAAK,CAC5DjD,OAAO,CAACiD,OAAO,CAAC,CAClB,CAAC,CAED,KAAM,CAAAC,uBAAuB,CAAIF,KAA0C,EAAK,CAC9E9C,cAAc,CAACiD,QAAQ,CAACH,KAAK,CAACI,MAAM,CAACC,KAAK,CAAE,EAAE,CAAC,CAAC,CAChDrD,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,KAAM,CAAAsD,wBAAwB,CAAIN,KAAwB,EAAK,CAC7D1C,eAAe,CAAC0C,KAAK,CAACI,MAAM,CAACC,KAAK,CAAC,CACnCrD,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,KAAM,CAAAuD,4BAA4B,CAAIP,KAAwB,EAAK,CACjExC,mBAAmB,CAACwC,KAAK,CAACI,MAAM,CAACC,KAAK,CAAC,CACvCrD,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,KAAM,CAAAwD,kBAAkB,CAAIR,KAA0C,EAAK,CACzE5C,cAAc,CAAC4C,KAAK,CAACI,MAAM,CAACC,KAAK,CAAC,CAClCrD,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,KAAM,CAAAyD,mBAAmB,CAAGA,CAAA,GAAM,CAChCvC,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAAC,CAED,KAAM,CAAAwC,kBAAkB,CAAIC,UAAmB,EAAK,CAClD;AACAjD,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEkD,UAAU,CAAC,CAAC,CACxC,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIC,EAAU,EAAK,CACzC;AACA,KAAM,CAAAC,OAAO,CAAGrD,QAAQ,CAACsD,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACH,EAAE,GAAKA,EAAE,CAAC,CAE/C,GAAI,CAACC,OAAO,CAAE,CACZ;AACA7B,QAAQ,CAAC,aAAa4B,EAAE,EAAE,CAAC,CAC3B,OACF,CAEA;AACA,KAAM,CAAAI,YAAY,CAAGH,OAAO,CAACG,YAAY,EAAIjG,mBAAmB,CAACkG,OAAO,CAExE;AACA,OAAQD,YAAY,EAClB,IAAK,CAAAjG,mBAAmB,CAACmG,GAAG,CAC1BlC,QAAQ,CAAC,aAAa4B,EAAE,MAAM,CAAC,CAC/B,MACF,IAAK,CAAA7F,mBAAmB,CAACoG,SAAS,CAChCnC,QAAQ,CAAC,aAAa4B,EAAE,YAAY,CAAC,CACrC,MACF,IAAK,CAAA7F,mBAAmB,CAACqG,OAAO,CAC9BpC,QAAQ,CAAC,aAAa4B,EAAE,UAAU,CAAC,CACnC,MACF,IAAK,CAAA7F,mBAAmB,CAACsG,YAAY,CACnCrC,QAAQ,CAAC,aAAa4B,EAAE,eAAe,CAAC,CACxC,MACF,IAAK,CAAA7F,mBAAmB,CAACuG,OAAO,CAC9BtC,QAAQ,CAAC,aAAa4B,EAAE,UAAU,CAAC,CACnC,MACF,IAAK,CAAA7F,mBAAmB,CAACwG,cAAc,CACrCvC,QAAQ,CAAC,aAAa4B,EAAE,iBAAiB,CAAC,CAC1C,MACF,QACE;AACA5B,QAAQ,CAAC,aAAa4B,EAAE,EAAE,CAAC,CAC/B,CACF,CAAC,CAED;AACA,KAAM,CAAAY,gBAAgB,CAAG7B,KAAK,CAAC8B,OAAO,CAACjE,QAAQ,CAAC,CAC5CA,QAAQ,CAACkE,MAAM,CAAEb,OAAO,EAAK,CAC3B;AACA,KAAM,CAAAc,kBAAkB,CAAGd,OAAO,CAACe,cAAc,CAC7C,GAAGf,OAAO,CAACe,cAAc,CAACC,SAAS,EAAI,EAAE,IAAIhB,OAAO,CAACe,cAAc,CAACE,QAAQ,EAAI,EAAE,EAAE,CAACC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACzG,EAAE,CAEN,KAAM,CAAAC,aAAa,CACjBpB,OAAO,CAACjC,IAAI,CAACoD,WAAW,CAAC,CAAC,CAACE,QAAQ,CAAChF,WAAW,CAAC8E,WAAW,CAAC,CAAC,CAAC,EAC9DL,kBAAkB,CAACO,QAAQ,CAAChF,WAAW,CAAC8E,WAAW,CAAC,CAAC,CAAC,CAExD;AACA,KAAM,CAAAG,aAAa,CAAG/E,YAAY,GAAK,KAAK,EAC1CyD,OAAO,CAAC1E,MAAM,GAAKiB,YAAY,EAC9B,MAAO,CAAAyD,OAAO,CAAC1E,MAAM,GAAK,QAAQ,EAAI0E,OAAO,CAAC1E,MAAM,CAACiG,OAAO,CAAC,UAAU,CAAE,KAAK,CAAC,CAACC,WAAW,CAAC,CAAC,GAAKjF,YAAa,CAElH;AACA,KAAM,CAAAkF,iBAAiB,CAAGhF,gBAAgB,GAAK,KAAK,EACjDuD,OAAO,CAAa0B,UAAU,CAAC3D,IAAI,GAAKtB,gBAAgB,CAE3D,MAAO,CAAA2E,aAAa,EAAIE,aAAa,EAAIG,iBAAiB,CAC5D,CAAC,CAAC,CACF,EAAE,CAEN;AACA,KAAM,CAAAE,iBAAiB,CAAGhB,gBAAgB,CAACiB,KAAK,CAC9C3F,IAAI,CAAGE,WAAW,CAClBF,IAAI,CAAGE,WAAW,CAAGA,WACvB,CAAC,CAED;AACA,KAAM,CAAA0F,wBAAwB,CAAIvG,MAAc,EAAa,CAC3D;AACA,KAAM,CAAAwG,gBAAgB,CAAG,iBAAiBxG,MAAM,EAAE,CAClD,KAAM,CAAAyG,gBAAgB,CAAGnG,CAAC,CAACkG,gBAAgB,CAAC,CAE5C;AACA,GAAIC,gBAAgB,GAAKD,gBAAgB,CAAE,CACzC,MAAO,CAAAC,gBAAgB,CACzB,CAEA;AACA,OAAOzG,MAAM,EACX,IAAK,UAAU,CAAE,MAAO,CAAAM,CAAC,CAAC,iBAAiB,CAAC,CAC5C,IAAK,aAAa,CAAE,MAAO,CAAAA,CAAC,CAAC,mBAAmB,CAAC,CACjD,IAAK,SAAS,CAAE,MAAO,CAAAA,CAAC,CAAC,eAAe,CAAC,CACzC,IAAK,WAAW,CAAE,MAAO,CAAAA,CAAC,CAAC,kBAAkB,CAAC,CAC9C,IAAK,WAAW,CAAE,MAAO,CAAAA,CAAC,CAAC,kBAAkB,CAAC,CAC9C,QAAS,MAAO,CAAAN,MAAM,CACxB,CACF,CAAC,CAED;AACA,KAAM,CAAA0G,SAAS,CAAIzG,OAAgB,EAAc,CAC/C,MAAO,CAAAA,OAAO,CAAG,GAAI,CAAAC,IAAI,CAACD,OAAO,CAAC,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAG,KAAK,CACzD,CAAC,CAED;AACA,KAAM,CAAAyG,gBAAgB,CAAIC,SAAiB,EAAK,CAC9C,MAAO,CAAAvE,KAAK,CAACkD,MAAM,CAAC/C,IAAI,EACtBA,IAAI,CAACqE,cAAc,CAACC,IAAI,CAACC,WAAW,EAAIA,WAAW,CAACH,SAAS,GAAKA,SAAS,CAC7E,CAAC,CACH,CAAC,CAED;AACA,KAAM,CAAAI,gBAAgB,CAAGA,CAACxE,IAAU,CAAEoE,SAAiB,GAAK,CAC1D,KAAM,CAAAG,WAAW,CAAGvE,IAAI,CAACqE,cAAc,CAAClC,IAAI,CAACoC,WAAW,EAAIA,WAAW,CAACH,SAAS,GAAKA,SAAS,CAAC,CAChG,MAAO,CAAAG,WAAW,CAAGA,WAAW,CAACE,MAAM,CAAG,CAAC,CAC7C,CAAC,CAED;AACA,KAAM,CAAAC,cAAc,CAAGA,CAAA,gBACrBvH,IAAA,CAACR,aAAa,EAACgI,OAAO,CAAE,CAAE,CAAAC,QAAA,CACvBf,iBAAiB,CAAC9D,GAAG,CAAEmC,OAAO,EAAK,CAClC,KAAM,CAAA2C,UAAU,CAAGX,SAAS,CAAChC,OAAO,CAACzE,OAAO,CAAC,CAAG,SAAS,CAAGG,eAAe,CACzE,MAAO,CAAAsE,OAAO,CAAC1E,MAAM,GAAK,QAAQ,CAAG0E,OAAO,CAAC1E,MAAM,CAAGrB,aAAa,CAAC+F,OAAO,CAAC1E,MAAM,CACpF,CAAC,CAED,mBACEL,IAAA,CAACT,QAAQ,EAACoI,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAJ,QAAA,cAC7BvH,KAAA,CAACd,YAAY,EACX2D,KAAK,CAAEgC,OAAO,CAACjC,IAAK,CACpBgF,QAAQ,CAAE/C,OAAO,CAAC0B,UAAU,CAAC3D,IAAK,CAClCiF,OAAO,CAAEA,CAAA,GAAMlD,kBAAkB,CAACE,OAAO,CAACD,EAAE,CAAE,CAC9CkD,EAAE,CAAE,CACFC,MAAM,CAAE,MAAM,CACdC,UAAU,CAAE,eAAe,CAC3B,SAAS,CAAE,CACTC,SAAS,CAAE,kBAAkB,CAC7BC,SAAS,CAAE,6BACb,CAAC,CACDC,YAAY,CAAE,CAAC,CACfC,QAAQ,CAAE,QAAQ,CAClBC,QAAQ,CAAE,UACZ,CAAE,CACFC,WAAW,CAAE,CACXR,EAAE,CAAE,CACFS,EAAE,CAAE,CAAC,CACLC,YAAY,CAAE,WAAW,CACzBC,WAAW,CAAE,SACf,CACF,CAAE,CACFC,MAAM,cACJ1I,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAxB,QAAA,eACxGvH,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAS,CAAE,CAAAtB,QAAA,eACjDzH,IAAA,CAACrD,GAAG,EACFqL,EAAE,CAAE,CACFgB,KAAK,CAAE,CAAC,CACRf,MAAM,CAAE,CAAC,CACTI,YAAY,CAAE,KAAK,CACnBa,OAAO,CAAEtI,KAAK,CAACuI,OAAO,CAACC,OAAO,CAACC,IAAI,CACnCC,EAAE,CAAE,CACN,CAAE,CACH,CAAC,cACFpJ,KAAA,CAACtD,UAAU,EAAC2M,OAAO,CAAC,SAAS,CAACC,KAAK,CAAC,gBAAgB,CAAA/B,QAAA,EACjD,GAAI,CAAAlH,IAAI,CAACwE,OAAO,CAAC0E,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAC,KAAG,CAAC,GAAI,CAAAnJ,IAAI,CAACwE,OAAO,CAACzE,OAAO,CAAC,CAACoJ,kBAAkB,CAAC,CAAC,EAC1F,CAAC,EACV,CAAC,cACN1J,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,SAAS,CAACI,UAAU,CAAC,QAAQ,CAAAlC,QAAA,CAC9C1C,OAAO,CAACe,cAAc,CACnB,GAAGf,OAAO,CAACe,cAAc,CAACC,SAAS,EAAI,EAAE,IAAIhB,OAAO,CAACe,cAAc,CAACE,QAAQ,EAAI,EAAE,EAAE,CAACC,IAAI,CAAC,CAAC,CAC3FtF,CAAC,CAAC,oBAAoB,CAAC,CACjB,CAAC,EACV,CACN,CAAA8G,QAAA,eAEDzH,IAAA,CAACrD,GAAG,EACFqL,EAAE,CAAE,CACFO,QAAQ,CAAE,UAAU,CACpBqB,GAAG,CAAE,EAAE,CACPC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,CACV,CAAE,CAAArC,QAAA,cAEFzH,IAAA,CAACX,WAAW,EACVgB,MAAM,CAAEqH,UAAW,CACnBqC,KAAK,CAAEnD,wBAAwB,CAAC,MAAO,CAAA7B,OAAO,CAAC1E,MAAM,GAAK,QAAQ,CAAG0E,OAAO,CAAC1E,MAAM,CAAGrB,aAAa,CAAC+F,OAAO,CAAC1E,MAAM,CAAC,CAAE,CACrH2J,IAAI,CAAC,OAAO,CACb,CAAC,CACC,CAAC,cAENhK,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAEiC,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAzC,QAAA,cACxBzH,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAACxB,EAAE,CAAE,CACrDC,MAAM,CAAE,EAAE,CACVK,QAAQ,CAAE,QAAQ,CAClB6B,YAAY,CAAE,UAAU,CACxBtB,OAAO,CAAE,aAAa,CACtBuB,eAAe,CAAE,CAAC,CAClBC,eAAe,CAAE,UACnB,CAAE,CAAA5C,QAAA,CACC1C,OAAO,CAACuF,WAAW,CACV,CAAC,CACV,CAAC,cAENpK,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEmB,EAAE,CAAE,CAAE,CAAE,CAAAzC,QAAA,eACzFzH,IAAA,CAACrD,GAAG,EAAA8K,QAAA,CACDT,gBAAgB,CAACjC,OAAO,CAACD,EAAE,CAAC,CAACyF,MAAM,CAAG,CAAC,eACtCvK,IAAA,CAACtC,OAAO,EAACqF,KAAK,CAAEpC,CAAC,CAAC,mBAAmB,CAAE,cAAc,CAAE,CAAA8G,QAAA,cACrDzH,IAAA,CAAC3C,IAAI,EACH2M,IAAI,CAAC,OAAO,CACZD,KAAK,CAAE,GAAG/C,gBAAgB,CAACjC,OAAO,CAACD,EAAE,CAAC,CAACyF,MAAM,IAAI5J,CAAC,CAAC,cAAc,CAAE,OAAO,CAAC,EAAG,CAC9EqH,EAAE,CAAE,CAAEsB,EAAE,CAAE,CAAC,CAAEkB,QAAQ,CAAE,QAAS,CAAE,CACnC,CAAC,CACK,CACV,CACE,CAAC,cACNxK,IAAA,CAACV,yBAAyB,EACxBgF,KAAK,CAAES,OAAO,CAAC0F,QAAS,CACxBT,IAAI,CAAE,EAAG,CACTU,SAAS,CAAE,CAAE,CACb1C,EAAE,CAAE,CACFwB,KAAK,CAAEzE,OAAO,CAAC0F,QAAQ,CAAG,EAAE,CAAG7J,KAAK,CAACuI,OAAO,CAACrH,KAAK,CAACuH,IAAI,CAChDtE,OAAO,CAAC0F,QAAQ,CAAG,EAAE,CAAG7J,KAAK,CAACuI,OAAO,CAACwB,OAAO,CAACtB,IAAI,CAClDzI,KAAK,CAACuI,OAAO,CAACyB,OAAO,CAACvB,IAC/B,CAAE,CACH,CAAC,EACC,CAAC,EACM,CAAC,EAlGoBtE,OAAO,CAACD,EAmGnC,CAAC,CAEf,CAAC,CAAC,CACW,CAChB,CAED;AACA,KAAM,CAAA+F,cAAc,CAAGA,CAAA,gBACrB7K,IAAA,CAAC/C,cAAc,EAAAwK,QAAA,cACbvH,KAAA,CAACpD,KAAK,EAACkL,EAAE,CAAE,CAAE8C,QAAQ,CAAE,GAAI,CAAE,CAAC,aAAW,gBAAgB,CAAArD,QAAA,eACvDzH,IAAA,CAAC9C,SAAS,EAAAuK,QAAA,cACRvH,KAAA,CAAC/C,QAAQ,EAAAsK,QAAA,eACPzH,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,cAAc,CAAC,CAAY,CAAC,cAC1CX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,oBAAoB,CAAC,CAAY,CAAC,cAChDX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,gBAAgB,CAAC,CAAY,CAAC,cAC5CX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,wBAAwB,CAAC,CAAY,CAAC,cACpDX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,iBAAiB,CAAC,CAAY,CAAC,cAC7CX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE9G,CAAC,CAAC,kBAAkB,CAAC,CAAY,CAAC,EACtC,CAAC,CACF,CAAC,cACZX,IAAA,CAACjD,SAAS,EAAA0K,QAAA,CACPf,iBAAiB,CAAC9D,GAAG,CAAEmC,OAAO,EAAK,CAClC,KAAM,CAAA2C,UAAU,CAAGX,SAAS,CAAChC,OAAO,CAACzE,OAAO,CAAC,CAAG,SAAS,CAAGG,eAAe,CACzE,MAAO,CAAAsE,OAAO,CAAC1E,MAAM,GAAK,QAAQ,CAAG0E,OAAO,CAAC1E,MAAM,CAAGrB,aAAa,CAAC+F,OAAO,CAAC1E,MAAM,CACpF,CAAC,CAED,mBACEH,KAAA,CAAC/C,QAAQ,EACP4N,KAAK,MAELhD,OAAO,CAAEA,CAAA,GAAMlD,kBAAkB,CAACE,OAAO,CAACD,EAAE,CAAE,CAC9CkD,EAAE,CAAE,CAAEgD,MAAM,CAAE,SAAU,CAAE,CAAAvD,QAAA,eAE1BvH,KAAA,CAAClD,SAAS,EAACiO,SAAS,CAAC,IAAI,CAACC,KAAK,CAAC,KAAK,CAAAzD,QAAA,eACnCzH,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,OAAO,CAACI,UAAU,CAAC,QAAQ,CAAAlC,QAAA,CAC5C1C,OAAO,CAACjC,IAAI,CACH,CAAC,cACb9C,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC2B,MAAM,MAACnD,EAAE,CAAE,CAAEoD,QAAQ,CAAE,GAAI,CAAE,CAAA3D,QAAA,CAC7E1C,OAAO,CAACuF,WAAW,CACV,CAAC,EACJ,CAAC,cACZtK,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CAAE1C,OAAO,CAAC0B,UAAU,CAAC3D,IAAI,CAAY,CAAC,cAChD9C,IAAA,CAAChD,SAAS,EAAAyK,QAAA,cACRzH,IAAA,CAACX,WAAW,EACVgB,MAAM,CAAEqH,UAAW,CACnBqC,KAAK,CAAEnD,wBAAwB,CAAC,MAAO,CAAA7B,OAAO,CAAC1E,MAAM,GAAK,QAAQ,CAAG0E,OAAO,CAAC1E,MAAM,CAAGrB,aAAa,CAAC+F,OAAO,CAAC1E,MAAM,CAAC,CAAE,CACtH,CAAC,CACO,CAAC,cACZL,IAAA,CAAChD,SAAS,EAAAyK,QAAA,CACP1C,OAAO,CAACe,cAAc,CACnB,GAAGf,OAAO,CAACe,cAAc,CAACC,SAAS,EAAI,EAAE,IAAIhB,OAAO,CAACe,cAAc,CAACE,QAAQ,EAAI,EAAE,EAAE,CAACC,IAAI,CAAC,CAAC,CAC3FtF,CAAC,CAAC,oBAAoB,CAAC,CAClB,CAAC,cACZX,IAAA,CAAChD,SAAS,EAAAyK,QAAA,cACRvH,KAAA,CAACtD,UAAU,EAAC2M,OAAO,CAAC,OAAO,CAAA9B,QAAA,EACxB,GAAI,CAAAlH,IAAI,CAACwE,OAAO,CAAC0E,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAC,KAAG,CAAC,GAAI,CAAAnJ,IAAI,CAACwE,OAAO,CAACzE,OAAO,CAAC,CAACoJ,kBAAkB,CAAC,CAAC,EAC1F,CAAC,CACJ,CAAC,cACZ1J,IAAA,CAAChD,SAAS,EAAAyK,QAAA,cACRzH,IAAA,CAACV,yBAAyB,EAACgF,KAAK,CAAES,OAAO,CAAC0F,QAAS,CAACT,IAAI,CAAE,EAAG,CAACU,SAAS,CAAE,CAAE,CAAE,CAAC,CACrE,CAAC,GA/BP3F,OAAO,CAACD,EAgCL,CAAC,CAEf,CAAC,CAAC,CACO,CAAC,EACP,CAAC,CACM,CACjB,CAED,KAAM,CAAAuG,sBAAsB,CAAGA,CAAA,GAAM,CACnCnI,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,CAED,KAAM,CAAAoI,KAAK,CAAIC,QAAiB,EAAK,CACnC;AACA,MAAO,CAAAA,QAAQ,GAAK,SAAS,EAAIA,QAAQ,GAAK,UAAU,EAAIA,QAAQ,GAAK,OAAO,CAClF,CAAC,CAED,mBACErL,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAE/C,CAAC,CAAE,CAAE,CAAE,CAAAwC,QAAA,eAChBvH,KAAA,CAACrD,KAAK,EACJ2O,SAAS,CAAE,CAAE,CACbxD,EAAE,CAAE,CACFa,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QAAQ,CACpBkB,EAAE,CAAE,CAAC,CACLhF,CAAC,CAAE,CAAC,CACJoD,YAAY,CAAE,CAAC,CACfoD,UAAU,CAAE,2BAA2B7K,KAAK,CAACuI,OAAO,CAACC,OAAO,CAACC,IAAI,QAAQzI,KAAK,CAACuI,OAAO,CAACC,OAAO,CAACsC,IAAI,QAAQ,CAC3GlC,KAAK,CAAE,OAAO,CACdjB,QAAQ,CAAE,UAAU,CACpBD,QAAQ,CAAE,QACZ,CAAE,CAAAb,QAAA,eAEFzH,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CACPO,QAAQ,CAAE,UAAU,CACpBqB,GAAG,CAAE,CAAC,CACN+B,IAAI,CAAE,CAAC,CACP9B,KAAK,CAAE,CAAC,CACR+B,MAAM,CAAE,CAAC,CACTC,OAAO,CAAE,GAAG,CACZJ,UAAU,CAAE,6DAA6D,CACzE3B,MAAM,CAAE,CACV,CAAE,CAAE,CAAC,cAEL5J,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAE8B,MAAM,CAAE,CAAE,CAAE,CAAArC,QAAA,eACrBzH,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,IAAI,CAAC0B,SAAS,CAAC,IAAI,CAACtB,UAAU,CAAC,MAAM,CAACmC,YAAY,MAAArE,QAAA,CAAE9G,CAAC,CAAC,qBAAqB,CAAC,CAAa,CAAC,cAC9GX,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,WAAW,CAAA9B,QAAA,CAAE9G,CAAC,CAAC,kBAAkB,CAAE,qDAAqD,CAAC,CAAa,CAAC,EACxH,CAAC,cAENT,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEkD,GAAG,CAAE,CAAC,CAAEjC,MAAM,CAAE,CAAE,CAAE,CAAArC,QAAA,EAC7C,CAACrE,OAAO,EAAID,gBAAgB,gBAC3BnD,IAAA,CAAC1C,MAAM,EACLiM,OAAO,CAAC,WAAW,CACnBC,KAAK,CAAC,WAAW,CACjBwC,SAAS,cAAEhM,IAAA,CAAC3B,OAAO,GAAE,CAAE,CACvB0J,OAAO,CAAErD,mBAAoB,CAC7BsD,EAAE,CAAE,CACFK,YAAY,CAAE,CAAC,CACf4D,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,GAAG,CACP9D,SAAS,CAAE,6BAA6B,CACxCuB,UAAU,CAAE,MAAM,CAClBzB,UAAU,CAAE,UAAU,CACtB,SAAS,CAAE,CACTC,SAAS,CAAE,kBAAkB,CAC7BC,SAAS,CAAE,4BACb,CACF,CAAE,CAAAX,QAAA,CAED9G,CAAC,CAAC,aAAa,CAAC,CACX,CACT,CAEA2K,KAAK,CAAChI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6I,IAAI,CAAC,eAChBnM,IAAA,CAAC1C,MAAM,EACLiM,OAAO,CAAC,UAAU,CAClBC,KAAK,CAAC,SAAS,CACfwC,SAAS,cAAEhM,IAAA,CAACnB,WAAW,GAAE,CAAE,CAC3BkJ,OAAO,CAAEsD,sBAAuB,CAChCrD,EAAE,CAAE,CACFK,YAAY,CAAE,CAAC,CACf4D,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,GAAG,CACPvD,WAAW,CAAE,uBAAuB,CACpCT,UAAU,CAAE,UAAU,CACtB,SAAS,CAAE,CACTS,WAAW,CAAE,OAAO,CACpByD,eAAe,CAAE,uBAAuB,CACxCjE,SAAS,CAAE,kBACb,CACF,CAAE,CAAAV,QAAA,CAED9G,CAAC,CAAC,mBAAmB,CAAE,oBAAoB,CAAC,CACvC,CACT,EACE,CAAC,EACD,CAAC,cAERT,KAAA,CAACrD,KAAK,EAACmL,EAAE,CAAE,CAAEgB,KAAK,CAAE,MAAM,CAAEiB,EAAE,CAAE,CAAC,CAAE5B,YAAY,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEF,SAAS,CAAE,6BAA8B,CAAE,CAAAX,QAAA,eACjHvH,KAAA,CAACnC,OAAO,EACNiK,EAAE,CAAE,CACF/C,CAAC,CAAE,CAAC,CACJ4D,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BuD,QAAQ,CAAE,MAAM,CAChBN,GAAG,CAAE,CAAC,CACNrD,YAAY,CAAE,WAAW,CACzBC,WAAW,CAAE,SACf,CAAE,CAAAlB,QAAA,eAEFvH,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEgD,GAAG,CAAE,CAAC,CAAEM,QAAQ,CAAE,MAAO,CAAE,CAAA5E,QAAA,eAC3EzH,IAAA,CAACzC,SAAS,EACRyM,IAAI,CAAC,OAAO,CACZT,OAAO,CAAC,UAAU,CAClB+C,WAAW,CAAE3L,CAAC,CAAC,eAAe,CAAE,CAChC2D,KAAK,CAAElD,WAAY,CACnBmL,QAAQ,CAAE9H,kBAAmB,CAC7B+H,UAAU,CAAE,CACVC,cAAc,cAAEzM,IAAA,CAACzB,UAAU,EAACiM,QAAQ,CAAC,OAAO,CAACxC,EAAE,CAAE,CAAEsB,EAAE,CAAE,CAAC,CAAEE,KAAK,CAAE,eAAgB,CAAE,CAAE,CACvF,CAAE,CACFxB,EAAE,CAAE,CACF,0BAA0B,CAAE,CAC1BK,YAAY,CAAE,CAAC,CACfH,UAAU,CAAE,UAAU,CACtB,eAAe,CAAE,CACfE,SAAS,CAAE,4BACb,CACF,CACF,CAAE,CACH,CAAC,cAEFlI,KAAA,CAACvC,WAAW,EAAC4L,OAAO,CAAC,UAAU,CAACS,IAAI,CAAC,OAAO,CAAChC,EAAE,CAAE,CAAE8C,QAAQ,CAAE,GAAI,CAAE,CAAArD,QAAA,eACjEzH,IAAA,CAACpC,UAAU,EAAA6J,QAAA,CAAE9G,CAAC,CAAC,gBAAgB,CAAC,CAAa,CAAC,cAC9CX,IAAA,CAACnC,MAAM,EACLkM,KAAK,CAAEpJ,CAAC,CAAC,gBAAgB,CAAE,CAC3B2D,KAAK,CAAEhD,YAAa,CACpBiL,QAAQ,CAAEhI,wBAAyB,CACnCmI,KAAK,cAAE1M,IAAA,CAAClC,aAAa,EAACiM,KAAK,CAAEpJ,CAAC,CAAC,gBAAgB,CAAE,CAAE,CAAE,CACrDqH,EAAE,CAAE,CAAEK,YAAY,CAAE,CAAE,CAAE,CAAAZ,QAAA,CAEvBtH,aAAa,CAACyC,GAAG,CAAEvC,MAAM,eACxBL,IAAA,CAACxC,QAAQ,EAAc8G,KAAK,CAAEjE,MAAO,CAAAoH,QAAA,CAClCpH,MAAM,GAAK,KAAK,CAAGM,CAAC,CAAC,YAAY,CAAC,CAAGiG,wBAAwB,CAACvG,MAAM,CAAC,EADzDA,MAEL,CACX,CAAC,CACI,CAAC,EACE,CAAC,cAEdH,KAAA,CAACvC,WAAW,EAAC4L,OAAO,CAAC,UAAU,CAACS,IAAI,CAAC,OAAO,CAAChC,EAAE,CAAE,CAAE8C,QAAQ,CAAE,GAAI,CAAE,CAAArD,QAAA,eACjEzH,IAAA,CAACpC,UAAU,EAAA6J,QAAA,CAAE9G,CAAC,CAAC,oBAAoB,CAAC,CAAa,CAAC,cAClDX,IAAA,CAACnC,MAAM,EACLkM,KAAK,CAAEpJ,CAAC,CAAC,oBAAoB,CAAE,CAC/B2D,KAAK,CAAE9C,gBAAiB,CACxB+K,QAAQ,CAAE/H,4BAA6B,CACvCkI,KAAK,cAAE1M,IAAA,CAAClC,aAAa,EAACiM,KAAK,CAAEpJ,CAAC,CAAC,oBAAoB,CAAE,CAAE,CAAE,CACzDqH,EAAE,CAAE,CAAEK,YAAY,CAAE,CAAE,CAAE,CAAAZ,QAAA,CAEvBzF,iBAAiB,CAACY,GAAG,CAAE6D,UAAU,eAChCzG,IAAA,CAACxC,QAAQ,EAAkB8G,KAAK,CAAEmC,UAAW,CAAAgB,QAAA,CAC1ChB,UAAU,GAAK,KAAK,CAAG9F,CAAC,CAAC,YAAY,CAAC,CAAG8F,UAAU,EADvCA,UAEL,CACX,CAAC,CACI,CAAC,EACE,CAAC,EACX,CAAC,cAENzG,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAEa,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEgD,GAAG,CAAE,CAAE,CAAE,CAAAtE,QAAA,cACzDzH,IAAA,CAACtC,OAAO,EAACqF,KAAK,CAAEP,QAAQ,GAAK,MAAM,CAAG7B,CAAC,CAAC,iBAAiB,CAAC,CAAGA,CAAC,CAAC,iBAAiB,CAAE,CAAA8G,QAAA,cAChFzH,IAAA,CAACvC,UAAU,EACTsK,OAAO,CAAEA,CAAA,GAAMtF,WAAW,CAACD,QAAQ,GAAK,MAAM,CAAG,MAAM,CAAG,MAAM,CAAE,CAClEgH,KAAK,CAAC,SAAS,CACfxB,EAAE,CAAE,CACFkB,OAAO,CAAEtI,KAAK,CAACuI,OAAO,CAACwD,MAAM,CAAC5B,KAAK,CACnC,SAAS,CAAE,CACT7B,OAAO,CAAEpJ,KAAK,CAACc,KAAK,CAACuI,OAAO,CAACC,OAAO,CAACC,IAAI,CAAE,GAAG,CAChD,CACF,CAAE,CAAA5B,QAAA,CAEDjF,QAAQ,GAAK,MAAM,cAAGxC,IAAA,CAACvB,YAAY,GAAE,CAAC,cAAGuB,IAAA,CAACrB,cAAc,GAAE,CAAC,CAClD,CAAC,CACN,CAAC,CACP,CAAC,EACC,CAAC,CAETiD,OAAO,cACN5B,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAE/C,CAAC,CAAE,CAAC,CAAE4D,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAE6D,SAAS,CAAE,GAAI,CAAE,CAAAnF,QAAA,cACjGzH,IAAA,CAAChC,gBAAgB,GAAE,CAAC,CACjB,CAAC,CACJ8D,KAAK,cACP9B,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAE/C,CAAC,CAAE,CAAC,CAAE4H,SAAS,CAAE,QAAS,CAAE,CAAApF,QAAA,cACrCzH,IAAA,CAAC/B,KAAK,EACJ6O,QAAQ,CAAC,OAAO,CAChB9E,EAAE,CAAE,CACFoD,QAAQ,CAAE,GAAG,CACb2B,EAAE,CAAE,MAAM,CACV1E,YAAY,CAAE,CAAC,CACfD,SAAS,CAAE,gCACb,CAAE,CAAAX,QAAA,CAED3F,KAAK,CACD,CAAC,CACL,CAAC,CACJ4E,iBAAiB,CAAC6D,MAAM,GAAK,CAAC,cAChCrK,KAAA,CAACvD,GAAG,EAACqL,EAAE,CAAE,CAAE/C,CAAC,CAAE,CAAC,CAAE4H,SAAS,CAAE,QAAS,CAAE,CAAApF,QAAA,eACrCzH,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAEiC,EAAE,CAAE,CAAC,CAAE4B,OAAO,CAAE,GAAI,CAAE,CAAApE,QAAA,cAC/BvH,KAAA,QAAK8I,KAAK,CAAC,KAAK,CAACf,MAAM,CAAC,KAAK,CAAC+E,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAzF,QAAA,eAC9FzH,IAAA,SAAMmN,CAAC,CAAC,yHAAyH,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC,cAC/LtN,IAAA,SAAMmN,CAAC,CAAC,QAAQ,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC,cAC9EtN,IAAA,SAAMmN,CAAC,CAAC,SAAS,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC,cAC/EtN,IAAA,SAAMmN,CAAC,CAAC,SAAS,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAC,CAAC,cACzDrN,IAAA,SAAMmN,CAAC,CAAC,UAAU,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC,EAC7E,CAAC,CACH,CAAC,cACNtN,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,IAAI,CAACvB,EAAE,CAAE,CAAE2B,UAAU,CAAE,QAAQ,CAAEM,EAAE,CAAE,CAAE,CAAE,CAAAxC,QAAA,CAC1D9G,CAAC,CAAC,eAAe,CAAC,CACT,CAAC,cACbX,IAAA,CAACpD,UAAU,EAAC2M,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAACxB,EAAE,CAAE,CAAEiC,EAAE,CAAE,CAAC,CAAEmB,QAAQ,CAAE,GAAG,CAAE2B,EAAE,CAAE,MAAO,CAAE,CAAAtF,QAAA,CACzFrG,WAAW,EAAIE,YAAY,GAAK,KAAK,EAAIE,gBAAgB,GAAK,KAAK,CAChEb,CAAC,CAAC,6BAA6B,CAAC,CAChCA,CAAC,CAAC,0BAA0B,CAAC,CACvB,CAAC,CAEZ,CAACyC,OAAO,EAAID,gBAAgB,GAAM/B,WAAW,GAAK,EAAE,EAAIE,YAAY,GAAK,KAAK,EAAIE,gBAAgB,GAAK,KAAM,eAC5GxB,IAAA,CAAC1C,MAAM,EACLiM,OAAO,CAAC,WAAW,CACnByC,SAAS,cAAEhM,IAAA,CAAC3B,OAAO,GAAE,CAAE,CACvB0J,OAAO,CAAErD,mBAAoB,CAC7BsD,EAAE,CAAE,CACFK,YAAY,CAAE,CAAC,CACf4D,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CACN,CAAE,CAAAzE,QAAA,CAED9G,CAAC,CAAC,aAAa,CAAC,CACX,CACT,EACE,CAAC,cAENX,IAAA,CAACrD,GAAG,EAACqL,EAAE,CAAE,CAAE/C,CAAC,CAAE,CAAE,CAAE,CAAAwC,QAAA,CACfjF,QAAQ,GAAK,MAAM,CAAG+E,cAAc,CAAC,CAAC,CAAGsD,cAAc,CAAC,CAAC,CACvD,CACN,cAED7K,IAAA,CAAC5C,eAAe,EACdmQ,kBAAkB,CAAE,CAAC,CAAC,CAAE,EAAE,CAAE,EAAE,CAAE,CAChCtC,SAAS,CAAC,KAAK,CACfuC,KAAK,CAAE9H,gBAAgB,CAAC6E,MAAO,CAC/BrJ,WAAW,CAAEA,WAAY,CACzBF,IAAI,CAAEA,IAAK,CACXyM,YAAY,CAAEzJ,gBAAiB,CAC/B0J,mBAAmB,CAAEvJ,uBAAwB,CAC7CwJ,gBAAgB,CAAEhN,CAAC,CAAC,oBAAoB,CAAE,CAC1CiN,kBAAkB,CAAEC,IAAA,MAAC,CAAE/J,IAAI,CAAEgK,EAAE,CAAEN,KAAM,CAAC,CAAAK,IAAA,OACtC,GAAG/J,IAAI,IAAIgK,EAAE,IAAInN,CAAC,CAAC,WAAW,CAAC,IAAI6M,KAAK,EAAE,EAC3C,CACDxF,EAAE,CAAE,CACF+F,SAAS,CAAE,WAAW,CACtBpF,WAAW,CAAE,SAAS,CACtB,kCAAkC,CAAE,CAClCa,KAAK,CAAE5I,KAAK,CAACuI,OAAO,CAACwD,MAAM,CAACqB,MAC9B,CACF,CAAE,CACH,CAAC,EACG,CAAC,cAGRhO,IAAA,CAACd,gBAAgB,EACf+O,IAAI,CAAE/L,sBAAuB,CAC7BgM,OAAO,CAAEA,CAAA,GAAM/L,yBAAyB,CAAC,KAAK,CAAE,CAChDgM,cAAc,CAAExJ,kBAAmB,CACnCvC,WAAW,CAAEA,WAAY,CACzBE,KAAK,CAAEA,KAAM,CACd,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}