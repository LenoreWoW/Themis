{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Container,Typography,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Button,Chip,Dialog,DialogTitle,DialogContent,DialogActions,TextField,Divider,CircularProgress,Alert,IconButton,Tabs,Tab}from'@mui/material';import{CheckCircle as ApproveIcon,Cancel as RejectIcon,Close as CloseIcon,Refresh as RefreshIcon}from'@mui/icons-material';import{useNavigate}from'react-router-dom';import{useAuth}from'../hooks/useAuth';import{ProjectStatus,UserRole}from'../types';import{ApprovalStatus,getNextApprovalStatus}from'../context/AuthContext';import{formatDate}from'../utils/helpers';import{useTranslation}from'react-i18next';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TabPanel(props){const{children,value,index,...other}=props;return/*#__PURE__*/_jsx(\"div\",{role:\"tabpanel\",hidden:value!==index,id:`approval-tabpanel-${index}`,\"aria-labelledby\":`approval-tab-${index}`,...other,children:value===index&&/*#__PURE__*/_jsx(Box,{sx:{pt:3},children:children})});}const ApprovalsPage=()=>{const{t}=useTranslation();const{user,token}=useAuth();const navigate=useNavigate();const[projects,setProjects]=useState([]);const[pendingApprovals,setPendingApprovals]=useState([]);const[completedApprovals,setCompletedApprovals]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[tabValue,setTabValue]=useState(0);// Dialog states\nconst[openDialog,setOpenDialog]=useState(false);const[dialogType,setDialogType]=useState('approve');const[selectedProject,setSelectedProject]=useState(null);const[comments,setComments]=useState('');const[rejectReason,setRejectReason]=useState('');const[submitLoading,setSubmitLoading]=useState(false);const[submitError,setSubmitError]=useState(null);useEffect(()=>{fetchApprovals();},[token]);const fetchApprovals=async()=>{if(!token)return;setLoading(true);setError(null);try{const response=await api.projects.getAllProjects('');if(response.data){const allProjects=response.data;// Filter projects by approval status\nconst pending=allProjects.filter(project=>{const status=String(project.status);return status==='SUBMITTED'||status==='SUB_PMO_REVIEW'||status==='MAIN_PMO_REVIEW'||status==='SUB_PMO_APPROVED';});const completed=allProjects.filter(project=>{const status=String(project.status);return status==='APPROVED'||status==='REJECTED'||status==='CHANGES_REQUESTED';});setProjects(allProjects);setPendingApprovals(pending);setCompletedApprovals(completed);}else{setError('Failed to fetch approvals');}}catch(err){setError('An error occurred while fetching approvals');console.error(err);}finally{setLoading(false);}};const handleRefresh=()=>{fetchApprovals();};const handleTabChange=(event,newValue)=>{setTabValue(newValue);};const handleViewProject=projectId=>{navigate(`/projects/${projectId}`);};const handleOpenDialog=(project,type)=>{setSelectedProject(project);setDialogType(type);setComments('');setRejectReason('');setSubmitError(null);setOpenDialog(true);};const handleCloseDialog=()=>{setOpenDialog(false);setSelectedProject(null);};const handleApproveReject=async()=>{if(!selectedProject||!token||!user){setSubmitError('Invalid project or user session');return;}// Validate reject reason is provided when rejecting\nif(dialogType==='reject'&&!rejectReason.trim()){setSubmitError('Rejection reason is required');return;}setSubmitLoading(true);setSubmitError(null);try{let nextStatus;const action=dialogType==='approve'?'APPROVE':'REJECT';const currentStatus=selectedProject.approvalStatus||ApprovalStatus.SUBMITTED;nextStatus=getNextApprovalStatus(currentStatus,user.role,action);if(!nextStatus){setSubmitError('Cannot determine next approval status');setSubmitLoading(false);return;}// Prepare reviewComments, combining comments with rejection reason if applicable\nconst reviewComments=dialogType==='reject'?`${comments?comments+'\\n\\n':''}REJECTION REASON: ${rejectReason}`:comments;// Prepare project data with review history\nconst projectData={...selectedProject,approvalStatus:nextStatus,reviewHistory:[...((selectedProject===null||selectedProject===void 0?void 0:selectedProject.reviewHistory)||[]),{id:Date.now().toString(),text:reviewComments,createdAt:new Date().toISOString(),user:user,action:action}],lastReviewedBy:user,lastReviewedAt:new Date().toISOString(),comments:reviewComments};// Update project\nconst response=await api.projects.updateProject(selectedProject.id,projectData,localStorage.getItem('token')||'');if(response.data){handleCloseDialog();fetchApprovals();}else{setSubmitError('Failed to update project');}}catch(err){setSubmitError('An error occurred while updating project');console.error(err);}finally{setSubmitLoading(false);}};const canApprove=project=>{var _project$projectManag;const isOwnProject=((_project$projectManag=project.projectManager)===null||_project$projectManag===void 0?void 0:_project$projectManag.id)===(user===null||user===void 0?void 0:user.id);if(!user)return false;// Admin can approve anything\nif(user.role===UserRole.ADMIN)return true;// SUB_PMO can approve submitted projects that are not their own\nif(user.role===UserRole.SUB_PMO&&!isOwnProject&&(project.approvalStatus===ApprovalStatus.SUBMITTED||project.status===ProjectStatus.PLANNING)){return true;}// MAIN_PMO can approve projects that have been approved by SUB_PMO\nif(user.role===UserRole.MAIN_PMO&&project.approvalStatus===ApprovalStatus.SUB_PMO_APPROVED){return true;}return false;};const getStatusLabel=status=>{switch(status){case'DRAFT':return t('status.draft');case'SUBMITTED':return t('status.submitted');case'SUB_PMO_REVIEW':return t('status.subPmoReview');case'SUB_PMO_APPROVED':return t('status.subPmoApproved');case'MAIN_PMO_REVIEW':return t('status.mainPmoReview');case'APPROVED':return t('status.approved');case'REJECTED':return t('status.rejected');case'CHANGES_REQUESTED':return t('status.changesRequested');default:return status;}};const getStatusColor=status=>{switch(status){case'DRAFT':return'default';case'SUBMITTED':case'SUB_PMO_REVIEW':case'MAIN_PMO_REVIEW':return'info';case'SUB_PMO_APPROVED':return'secondary';case'APPROVED':return'success';case'REJECTED':return'error';case'CHANGES_REQUESTED':return'warning';default:return'default';}};const renderApprovalsTable=items=>{if(items.length===0){return/*#__PURE__*/_jsx(Paper,{sx:{p:3,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",children:t('approvals.noItemsFound')})});}return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:t('project.name')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.department')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.projectManager')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.submittedDate')}),/*#__PURE__*/_jsx(TableCell,{children:t('project.status')}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:t('common.actions')})]})}),/*#__PURE__*/_jsx(TableBody,{children:items.map(project=>{var _project$department;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:project.name}),/*#__PURE__*/_jsx(TableCell,{children:((_project$department=project.department)===null||_project$department===void 0?void 0:_project$department.name)||t('common.none')}),/*#__PURE__*/_jsx(TableCell,{children:project.projectManager?`${project.projectManager.firstName} ${project.projectManager.lastName}`:t('common.unassigned')}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(project.createdAt||'')}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getStatusLabel(project.approvalStatus||String(project.status)),color:getStatusColor(project.approvalStatus||String(project.status)),size:\"small\"})}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>handleViewProject(project.id),sx:{mr:1},children:t('common.view')}),canApprove(project)&&tabValue===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"success\",startIcon:/*#__PURE__*/_jsx(ApproveIcon,{}),onClick:()=>handleOpenDialog(project,'approve'),sx:{mr:1},children:t('approvals.approve')}),/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",startIcon:/*#__PURE__*/_jsx(RejectIcon,{}),onClick:()=>handleOpenDialog(project,'reject'),children:t('approvals.reject')})]})]})]},project.id);})})]})});};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",children:[/*#__PURE__*/_jsxs(Box,{sx:{py:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",children:t('approvals.title','Project Approvals')}),/*#__PURE__*/_jsx(IconButton,{onClick:handleRefresh,disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):/*#__PURE__*/_jsx(RefreshIcon,{})})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsx(Box,{sx:{borderBottom:1,borderColor:'divider'},children:/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:handleTabChange,children:[/*#__PURE__*/_jsx(Tab,{label:t('approvals.pending','Pending')}),/*#__PURE__*/_jsx(Tab,{label:t('approvals.completed','Completed')})]})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:0,children:loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):renderApprovalsTable(pendingApprovals)}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,children:loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):renderApprovalsTable(completedApprovals)})]}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[dialogType==='approve'?t('approvals.approveProject'):t('approvals.rejectProject'),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",onClick:handleCloseDialog,sx:{position:'absolute',right:8,top:8},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(DialogContent,{children:selectedProject&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:selectedProject.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",children:[t('project.id'),\": \",selectedProject.id]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(TextField,{label:t('approvals.comments'),multiline:true,rows:4,fullWidth:true,variant:\"outlined\",value:comments,onChange:e=>setComments(e.target.value),sx:{mb:3}}),dialogType==='reject'&&/*#__PURE__*/_jsx(TextField,{label:t('approvals.rejectionReason'),multiline:true,rows:4,fullWidth:true,variant:\"outlined\",value:rejectReason,onChange:e=>setRejectReason(e.target.value),required:true,error:submitError===null||submitError===void 0?void 0:submitError.includes('reason'),helperText:submitError!==null&&submitError!==void 0&&submitError.includes('reason')?t('approvals.reasonRequired'):t('approvals.reasonHelp')}),submitError&&!submitError.includes('reason')&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:2},children:submitError})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,children:t('common.cancel')}),/*#__PURE__*/_jsx(Button,{onClick:handleApproveReject,color:dialogType==='approve'?'success':'error',variant:\"contained\",disabled:submitLoading||dialogType==='reject'&&!rejectReason.trim(),children:submitLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):dialogType==='approve'?t('approvals.approve'):t('approvals.reject')})]})]})]});};export default ApprovalsPage;","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Divider","CircularProgress","Alert","IconButton","Tabs","Tab","CheckCircle","ApproveIcon","Cancel","RejectIcon","Close","CloseIcon","Refresh","RefreshIcon","useNavigate","useAuth","ProjectStatus","UserRole","ApprovalStatus","getNextApprovalStatus","formatDate","useTranslation","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TabPanel","props","children","value","index","other","role","hidden","id","sx","pt","ApprovalsPage","t","user","token","navigate","projects","setProjects","pendingApprovals","setPendingApprovals","completedApprovals","setCompletedApprovals","loading","setLoading","error","setError","tabValue","setTabValue","openDialog","setOpenDialog","dialogType","setDialogType","selectedProject","setSelectedProject","comments","setComments","rejectReason","setRejectReason","submitLoading","setSubmitLoading","submitError","setSubmitError","fetchApprovals","response","getAllProjects","data","allProjects","pending","filter","project","status","String","completed","err","console","handleRefresh","handleTabChange","event","newValue","handleViewProject","projectId","handleOpenDialog","type","handleCloseDialog","handleApproveReject","trim","nextStatus","action","currentStatus","approvalStatus","SUBMITTED","reviewComments","projectData","reviewHistory","Date","now","toString","text","createdAt","toISOString","lastReviewedBy","lastReviewedAt","updateProject","localStorage","getItem","canApprove","_project$projectManag","isOwnProject","projectManager","ADMIN","SUB_PMO","PLANNING","MAIN_PMO","SUB_PMO_APPROVED","getStatusLabel","getStatusColor","renderApprovalsTable","items","length","p","textAlign","color","component","align","map","_project$department","name","department","firstName","lastName","label","size","onClick","mr","startIcon","maxWidth","py","display","justifyContent","alignItems","mb","variant","disabled","severity","borderBottom","borderColor","onChange","open","onClose","fullWidth","position","right","top","my","multiline","rows","e","target","required","includes","helperText","mt"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ApprovalsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Box, \n  Container, \n  Typography, \n  Paper, \n  Table, \n  TableBody, \n  TableCell, \n  TableContainer, \n  TableHead, \n  TableRow,\n  Button,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Divider,\n  CircularProgress,\n  Alert,\n  IconButton,\n  Tabs,\n  Tab\n} from '@mui/material';\nimport { \n  CheckCircle as ApproveIcon,\n  Cancel as RejectIcon,\n  Edit as EditIcon,\n  Close as CloseIcon,\n  Refresh as RefreshIcon\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\nimport { Project, ProjectStatus, UserRole } from '../types';\nimport { ApprovalStatus, getNextApprovalStatus } from '../context/AuthContext';\nimport { formatDate } from '../utils/helpers';\nimport { useTranslation } from 'react-i18next';\nimport api from '../services/api';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`approval-tabpanel-${index}`}\n      aria-labelledby={`approval-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ pt: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nconst ApprovalsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const { user, token } = useAuth();\n  const navigate = useNavigate();\n\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [pendingApprovals, setPendingApprovals] = useState<Project[]>([]);\n  const [completedApprovals, setCompletedApprovals] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [tabValue, setTabValue] = useState(0);\n\n  // Dialog states\n  const [openDialog, setOpenDialog] = useState(false);\n  const [dialogType, setDialogType] = useState<'approve' | 'reject'>('approve');\n  const [selectedProject, setSelectedProject] = useState<Project | null>(null);\n  const [comments, setComments] = useState('');\n  const [rejectReason, setRejectReason] = useState('');\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchApprovals();\n  }, [token]);\n\n  const fetchApprovals = async () => {\n    if (!token) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.projects.getAllProjects('');\n      if (response.data) {\n        const allProjects = response.data;\n\n        // Filter projects by approval status\n        const pending = allProjects.filter((project: Project) => {\n          const status = String(project.status);\n          return status === 'SUBMITTED' || \n                 status === 'SUB_PMO_REVIEW' || \n                 status === 'MAIN_PMO_REVIEW' || \n                 status === 'SUB_PMO_APPROVED';\n        });\n        \n        const completed = allProjects.filter((project: Project) => {\n          const status = String(project.status);\n          return status === 'APPROVED' || \n                 status === 'REJECTED' || \n                 status === 'CHANGES_REQUESTED';\n        });\n\n        setProjects(allProjects);\n        setPendingApprovals(pending);\n        setCompletedApprovals(completed);\n      } else {\n        setError('Failed to fetch approvals');\n      }\n    } catch (err) {\n      setError('An error occurred while fetching approvals');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRefresh = () => {\n    fetchApprovals();\n  };\n\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const handleViewProject = (projectId: string) => {\n    navigate(`/projects/${projectId}`);\n  };\n\n  const handleOpenDialog = (project: Project, type: 'approve' | 'reject') => {\n    setSelectedProject(project);\n    setDialogType(type);\n    setComments('');\n    setRejectReason('');\n    setSubmitError(null);\n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedProject(null);\n  };\n\n  const handleApproveReject = async () => {\n    if (!selectedProject || !token || !user) {\n      setSubmitError('Invalid project or user session');\n      return;\n    }\n\n    // Validate reject reason is provided when rejecting\n    if (dialogType === 'reject' && !rejectReason.trim()) {\n      setSubmitError('Rejection reason is required');\n      return;\n    }\n\n    setSubmitLoading(true);\n    setSubmitError(null);\n\n    try {\n      let nextStatus: ApprovalStatus | null;\n      const action = dialogType === 'approve' ? 'APPROVE' : 'REJECT';\n      const currentStatus = (selectedProject as any).approvalStatus || ApprovalStatus.SUBMITTED;\n      \n      nextStatus = getNextApprovalStatus(currentStatus, user.role, action);\n      \n      if (!nextStatus) {\n        setSubmitError('Cannot determine next approval status');\n        setSubmitLoading(false);\n        return;\n      }\n\n      // Prepare reviewComments, combining comments with rejection reason if applicable\n      const reviewComments = dialogType === 'reject' \n        ? `${comments ? comments + '\\n\\n' : ''}REJECTION REASON: ${rejectReason}`\n        : comments;\n\n      // Prepare project data with review history\n      const projectData = {\n        ...selectedProject,\n        approvalStatus: nextStatus,\n        reviewHistory: [\n          ...((selectedProject as any)?.reviewHistory || []),\n          {\n            id: Date.now().toString(),\n            text: reviewComments,\n            createdAt: new Date().toISOString(),\n            user: user,\n            action: action\n          }\n        ],\n        lastReviewedBy: user,\n        lastReviewedAt: new Date().toISOString(),\n        comments: reviewComments\n      };\n\n      // Update project\n      const response = await api.projects.updateProject(\n        selectedProject.id, \n        projectData,\n        localStorage.getItem('token') || ''\n      );\n\n      if (response.data) {\n        handleCloseDialog();\n        fetchApprovals();\n      } else {\n        setSubmitError('Failed to update project');\n      }\n    } catch (err) {\n      setSubmitError('An error occurred while updating project');\n      console.error(err);\n    } finally {\n      setSubmitLoading(false);\n    }\n  };\n\n  const canApprove = (project: Project): boolean => {\n    const isOwnProject = project.projectManager?.id === user?.id;\n    \n    if (!user) return false;\n    \n    // Admin can approve anything\n    if (user.role === UserRole.ADMIN) return true;\n    \n    // SUB_PMO can approve submitted projects that are not their own\n    if (user.role === UserRole.SUB_PMO && !isOwnProject && \n        ((project as any).approvalStatus === ApprovalStatus.SUBMITTED || \n        (project.status === ProjectStatus.PLANNING))) {\n      return true;\n    }\n    \n    // MAIN_PMO can approve projects that have been approved by SUB_PMO\n    if (user.role === UserRole.MAIN_PMO && \n        ((project as any).approvalStatus === ApprovalStatus.SUB_PMO_APPROVED)) {\n      return true;\n    }\n    \n    return false;\n  };\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'DRAFT':\n        return t('status.draft');\n      case 'SUBMITTED':\n        return t('status.submitted');\n      case 'SUB_PMO_REVIEW':\n        return t('status.subPmoReview');\n      case 'SUB_PMO_APPROVED':\n        return t('status.subPmoApproved');\n      case 'MAIN_PMO_REVIEW':\n        return t('status.mainPmoReview');\n      case 'APPROVED':\n        return t('status.approved');\n      case 'REJECTED':\n        return t('status.rejected');\n      case 'CHANGES_REQUESTED':\n        return t('status.changesRequested');\n      default:\n        return status;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'DRAFT':\n        return 'default';\n      case 'SUBMITTED':\n      case 'SUB_PMO_REVIEW':\n      case 'MAIN_PMO_REVIEW':\n        return 'info';\n      case 'SUB_PMO_APPROVED':\n        return 'secondary';\n      case 'APPROVED':\n        return 'success';\n      case 'REJECTED':\n        return 'error';\n      case 'CHANGES_REQUESTED':\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n\n  const renderApprovalsTable = (items: Project[]) => {\n    if (items.length === 0) {\n      return (\n        <Paper sx={{ p: 3, textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">\n            {t('approvals.noItemsFound')}\n          </Typography>\n        </Paper>\n      );\n    }\n\n    return (\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t('project.name')}</TableCell>\n              <TableCell>{t('project.department')}</TableCell>\n              <TableCell>{t('project.projectManager')}</TableCell>\n              <TableCell>{t('project.submittedDate')}</TableCell>\n              <TableCell>{t('project.status')}</TableCell>\n              <TableCell align=\"right\">{t('common.actions')}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map((project) => (\n              <TableRow key={project.id}>\n                <TableCell>{project.name}</TableCell>\n                <TableCell>{project.department?.name || t('common.none')}</TableCell>\n                <TableCell>\n                  {project.projectManager ? \n                    `${project.projectManager.firstName} ${project.projectManager.lastName}` : \n                    t('common.unassigned')}\n                </TableCell>\n                <TableCell>{formatDate(project.createdAt || '')}</TableCell>\n                <TableCell>\n                  <Chip \n                    label={getStatusLabel((project as any).approvalStatus || String(project.status))} \n                    color={getStatusColor((project as any).approvalStatus || String(project.status)) as any} \n                    size=\"small\" \n                  />\n                </TableCell>\n                <TableCell align=\"right\">\n                  <Button\n                    size=\"small\"\n                    onClick={() => handleViewProject(project.id)}\n                    sx={{ mr: 1 }}\n                  >\n                    {t('common.view')}\n                  </Button>\n                  \n                  {canApprove(project) && tabValue === 0 && (\n                    <>\n                      <Button\n                        size=\"small\"\n                        color=\"success\"\n                        startIcon={<ApproveIcon />}\n                        onClick={() => handleOpenDialog(project, 'approve')}\n                        sx={{ mr: 1 }}\n                      >\n                        {t('approvals.approve')}\n                      </Button>\n                      \n                      <Button\n                        size=\"small\"\n                        color=\"error\"\n                        startIcon={<RejectIcon />}\n                        onClick={() => handleOpenDialog(project, 'reject')}\n                      >\n                        {t('approvals.reject')}\n                      </Button>\n                    </>\n                  )}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  };\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Box sx={{ py: 4 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n          <Typography variant=\"h4\" component=\"h1\">\n            {t('approvals.title', 'Project Approvals')}\n          </Typography>\n          \n          <IconButton onClick={handleRefresh} disabled={loading}>\n            {loading ? <CircularProgress size={24} /> : <RefreshIcon />}\n          </IconButton>\n        </Box>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            {error}\n          </Alert>\n        )}\n        \n        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n          <Tabs value={tabValue} onChange={handleTabChange}>\n            <Tab label={t('approvals.pending', 'Pending')} />\n            <Tab label={t('approvals.completed', 'Completed')} />\n          </Tabs>\n        </Box>\n        \n        <TabPanel value={tabValue} index={0}>\n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n            renderApprovalsTable(pendingApprovals)\n          )}\n        </TabPanel>\n        \n        <TabPanel value={tabValue} index={1}>\n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n            renderApprovalsTable(completedApprovals)\n          )}\n        </TabPanel>\n      </Box>\n      \n      {/* Approval/Rejection Dialog */}\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          {dialogType === 'approve' ? t('approvals.approveProject') : t('approvals.rejectProject')}\n          <IconButton\n            aria-label=\"close\"\n            onClick={handleCloseDialog}\n            sx={{ position: 'absolute', right: 8, top: 8 }}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        \n        <DialogContent>\n          {selectedProject && (\n            <>\n              <Box sx={{ mb: 3 }}>\n                <Typography variant=\"h6\">{selectedProject.name}</Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {t('project.id')}: {selectedProject.id}\n                </Typography>\n              </Box>\n              \n              <Divider sx={{ my: 2 }} />\n              \n              <TextField\n                label={t('approvals.comments')}\n                multiline\n                rows={4}\n                fullWidth\n                variant=\"outlined\"\n                value={comments}\n                onChange={(e) => setComments(e.target.value)}\n                sx={{ mb: 3 }}\n              />\n              \n              {dialogType === 'reject' && (\n                <TextField\n                  label={t('approvals.rejectionReason')}\n                  multiline\n                  rows={4}\n                  fullWidth\n                  variant=\"outlined\"\n                  value={rejectReason}\n                  onChange={(e) => setRejectReason(e.target.value)}\n                  required\n                  error={submitError?.includes('reason')}\n                  helperText={submitError?.includes('reason') ? t('approvals.reasonRequired') : t('approvals.reasonHelp')}\n                />\n              )}\n              \n              {submitError && !submitError.includes('reason') && (\n                <Alert severity=\"error\" sx={{ mt: 2 }}>\n                  {submitError}\n                </Alert>\n              )}\n            </>\n          )}\n        </DialogContent>\n        \n        <DialogActions>\n          <Button onClick={handleCloseDialog}>{t('common.cancel')}</Button>\n          <Button \n            onClick={handleApproveReject}\n            color={dialogType === 'approve' ? 'success' : 'error'}\n            variant=\"contained\"\n            disabled={submitLoading || (dialogType === 'reject' && !rejectReason.trim())}\n          >\n            {submitLoading ? (\n              <CircularProgress size={24} />\n            ) : dialogType === 'approve' ? (\n              t('approvals.approve')\n            ) : (\n              t('approvals.reject')\n            )}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default ApprovalsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}