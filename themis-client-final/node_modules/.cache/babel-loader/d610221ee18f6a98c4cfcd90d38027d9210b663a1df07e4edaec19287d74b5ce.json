{"ast":null,"code":"import React,{useState}from'react';import*as yup from'yup';import{yupResolver}from'@hookform/resolvers/yup';import{GridContainer,GridItem}from'../common/MuiGridWrapper';import{FormTextField,FormSelect,FormDatePicker}from'../shared/FormWithValidation';import WorkflowForm from'../shared/WorkflowForm';import{InputAdornment,TextField,Typography,Alert}from'@mui/material';import{CalendarMonth as CalendarIcon,Business as BusinessIcon,Person as PersonIcon,PriorityHigh as PriorityIcon}from'@mui/icons-material';import{ProjectPriority,ProjectStatus,UserRole}from'../../types';import{useAuth}from'../../context/AuthContext';import{ApprovalStatus}from'../../context/AuthContext';import{useTranslation}from'react-i18next';import{usePermission,Permission}from'../shared/PermissionGuard';// Create a simple project form for demonstration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Create validation schema\nconst projectSchema=yup.object({name:yup.string().required('Project name is required').min(3,'Project name must be at least 3 characters'),description:yup.string().required('Description is required').min(10,'Description should be at least 10 characters'),departmentId:yup.string().required('Department is required'),projectManagerId:yup.string().required('Project manager is required'),startDate:yup.date().required('Start date is required'),endDate:yup.date().required('End date is required').min(yup.ref('startDate'),'End date must be after the start date'),budget:yup.number().required('Budget is required').min(0,'Budget cannot be negative'),status:yup.string().required('Status is required'),priority:yup.string().required('Priority is required')}).required();const ProjectApprovalForm=_ref=>{var _project$projectManag,_project$projectManag2,_project$department,_project$projectManag3,_project$projectManag4,_project$projectManag5;let{project,departments,users,onSubmit,onCancel}=_ref;const{user}=useAuth();const{t}=useTranslation();const[reviewComments,setReviewComments]=useState('');// Check permissions\nconst canApprove=usePermission(Permission.APPROVE_PROJECT,(project===null||project===void 0?void 0:(_project$projectManag=project.projectManager)===null||_project$projectManag===void 0?void 0:_project$projectManag.id)===(user===null||user===void 0?void 0:user.id));const canEdit=usePermission(Permission.EDIT_PROJECT,(project===null||project===void 0?void 0:(_project$projectManag2=project.projectManager)===null||_project$projectManag2===void 0?void 0:_project$projectManag2.id)===(user===null||user===void 0?void 0:user.id));// Default values for the form\nconst defaultValues={name:(project===null||project===void 0?void 0:project.name)||'',description:(project===null||project===void 0?void 0:project.description)||'',departmentId:(project===null||project===void 0?void 0:(_project$department=project.department)===null||_project$department===void 0?void 0:_project$department.id)||'',startDate:project!==null&&project!==void 0&&project.startDate?new Date(project.startDate):new Date(),endDate:project!==null&&project!==void 0&&project.endDate?new Date(project.endDate):new Date(Date.now()+30*24*60*60*1000),status:(project===null||project===void 0?void 0:project.status)||ProjectStatus.PLANNING,projectManagerId:(project===null||project===void 0?void 0:(_project$projectManag3=project.projectManager)===null||_project$projectManag3===void 0?void 0:_project$projectManag3.id)||(user===null||user===void 0?void 0:user.id)||'',budget:(project===null||project===void 0?void 0:project.budget)||0,priority:(project===null||project===void 0?void 0:project.priority)||ProjectPriority.MEDIUM};// Current approval status\nconst currentStatus=(project===null||project===void 0?void 0:project.approvalStatus)||ApprovalStatus.DRAFT;// Determine if this is user's own project\nconst isOwnProject=project?((_project$projectManag4=project.projectManager)===null||_project$projectManag4===void 0?void 0:_project$projectManag4.id)===(user===null||user===void 0?void 0:user.id):true;// New projects are owned by the creator\n// Handle form submission\nconst handleFormSubmit=async(data,action)=>{// Add review comments for certain actions\nconst submitData={...data,reviewComments:['APPROVE','REJECT','REQUEST_CHANGES'].includes(action)?reviewComments:undefined};await onSubmit(submitData,action);};// Get project managers for dropdown\nconst getProjectManagers=()=>{return users.filter(user=>user.role===UserRole.PROJECT_MANAGER||user.role===UserRole.SUB_PMO||user.role===UserRole.MAIN_PMO).map(pm=>({value:pm.id,label:`${pm.firstName} ${pm.lastName}`}));};return/*#__PURE__*/_jsx(WorkflowForm,{defaultValues:defaultValues,validationSchema:yupResolver(projectSchema),onSubmit:handleFormSubmit,title:project?t('project.edit'):t('project.addNew'),subtitle:t('project.fillDetails'),currentStatus:currentStatus,isOwnItem:isOwnProject,objectOwner:project===null||project===void 0?void 0:(_project$projectManag5=project.projectManager)===null||_project$projectManag5===void 0?void 0:_project$projectManag5.id,children:/*#__PURE__*/_jsxs(GridContainer,{spacing:3,children:[/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(FormTextField,{name:\"name\",label:t('project.name'),required:true})}),/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(FormTextField,{name:\"description\",label:t('project.description'),multiline:true,rows:3,required:true})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormDatePicker,{name:\"startDate\",label:t('project.startDate'),required:true,startIcon:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(CalendarIcon,{color:\"action\"})})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormDatePicker,{name:\"endDate\",label:t('project.endDate'),required:true,startIcon:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(CalendarIcon,{color:\"action\"})})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormSelect,{name:\"departmentId\",label:t('project.department'),required:true,options:departments.map(dept=>({value:dept.id,label:dept.name})),startIcon:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(BusinessIcon,{color:\"action\"})})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormSelect,{name:\"projectManagerId\",label:t('project.projectManager'),required:true,options:getProjectManagers(),startIcon:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(PersonIcon,{color:\"action\"})})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormTextField,{name:\"budget\",label:t('project.budget'),type:\"number\",required:true})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormSelect,{name:\"status\",label:t('project.status'),required:true,options:[{value:ProjectStatus.PLANNING,label:t('projectStatus.PLANNING')},{value:ProjectStatus.IN_PROGRESS,label:t('projectStatus.IN_PROGRESS')},{value:ProjectStatus.ON_HOLD,label:t('projectStatus.ON_HOLD')}]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,children:/*#__PURE__*/_jsx(FormSelect,{name:\"priority\",label:t('project.priority'),required:true,options:[{value:ProjectPriority.LOW,label:t('projectPriority.LOW')},{value:ProjectPriority.MEDIUM,label:t('projectPriority.MEDIUM')},{value:ProjectPriority.HIGH,label:t('projectPriority.HIGH')},{value:ProjectPriority.CRITICAL,label:t('projectPriority.CRITICAL')}],startIcon:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(PriorityIcon,{color:\"action\"})})})}),((user===null||user===void 0?void 0:user.role)===UserRole.SUB_PMO||(user===null||user===void 0?void 0:user.role)===UserRole.MAIN_PMO||(user===null||user===void 0?void 0:user.role)===UserRole.ADMIN)&&(currentStatus===ApprovalStatus.SUBMITTED||currentStatus===ApprovalStatus.SUB_PMO_APPROVED)&&/*#__PURE__*/_jsxs(GridItem,{xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:t('project.reviewerComments')}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:3,placeholder:t('project.addFeedback'),value:reviewComments,onChange:e=>setReviewComments(e.target.value)})]}),(project===null||project===void 0?void 0:project.comments)&&/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsxs(Alert,{severity:\"info\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle2\",children:[t('project.previousComments'),\":\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:project.comments})]})})]})});};export default ProjectApprovalForm;","map":{"version":3,"names":["React","useState","yup","yupResolver","GridContainer","GridItem","FormTextField","FormSelect","FormDatePicker","WorkflowForm","InputAdornment","TextField","Typography","Alert","CalendarMonth","CalendarIcon","Business","BusinessIcon","Person","PersonIcon","PriorityHigh","PriorityIcon","ProjectPriority","ProjectStatus","UserRole","useAuth","ApprovalStatus","useTranslation","usePermission","Permission","jsx","_jsx","jsxs","_jsxs","projectSchema","object","name","string","required","min","description","departmentId","projectManagerId","startDate","date","endDate","ref","budget","number","status","priority","ProjectApprovalForm","_ref","_project$projectManag","_project$projectManag2","_project$department","_project$projectManag3","_project$projectManag4","_project$projectManag5","project","departments","users","onSubmit","onCancel","user","t","reviewComments","setReviewComments","canApprove","APPROVE_PROJECT","projectManager","id","canEdit","EDIT_PROJECT","defaultValues","department","Date","now","PLANNING","MEDIUM","currentStatus","approvalStatus","DRAFT","isOwnProject","handleFormSubmit","data","action","submitData","includes","undefined","getProjectManagers","filter","role","PROJECT_MANAGER","SUB_PMO","MAIN_PMO","map","pm","value","label","firstName","lastName","validationSchema","title","subtitle","isOwnItem","objectOwner","children","spacing","xs","multiline","rows","sm","startIcon","position","color","options","dept","type","IN_PROGRESS","ON_HOLD","LOW","HIGH","CRITICAL","ADMIN","SUBMITTED","SUB_PMO_APPROVED","variant","gutterBottom","fullWidth","placeholder","onChange","e","target","comments","severity"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Project/ProjectApprovalForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { GridContainer, GridItem } from '../common/MuiGridWrapper';\nimport { FormTextField, FormSelect, FormDatePicker } from '../shared/FormWithValidation';\nimport WorkflowForm, { WorkflowAction } from '../shared/WorkflowForm';\nimport { \n  InputAdornment,\n  Box,\n  TextField,\n  Typography,\n  Alert\n} from '@mui/material';\nimport { \n  CalendarMonth as CalendarIcon,\n  Business as BusinessIcon,\n  Person as PersonIcon,\n  PriorityHigh as PriorityIcon\n} from '@mui/icons-material';\nimport { \n  Department, \n  Project, \n  ProjectPriority, \n  ProjectStatus, \n  User, \n  UserRole\n} from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { ApprovalStatus } from '../../context/AuthContext';\nimport { useTranslation } from 'react-i18next';\nimport { usePermission, Permission } from '../shared/PermissionGuard';\n\n// Create a simple project form for demonstration\ninterface ProjectFormData {\n  name: string;\n  description: string;\n  departmentId: string;\n  startDate: Date;\n  endDate: Date;\n  status: ProjectStatus;\n  projectManagerId: string;\n  budget: number;\n  priority: ProjectPriority;\n}\n\ninterface ProjectApprovalFormProps {\n  project?: Project; // Optional existing project for editing\n  departments: Department[];\n  users: User[];\n  onSubmit: (data: any, action: WorkflowAction) => Promise<void>;\n  onCancel: () => void;\n}\n\n// Create validation schema\nconst projectSchema = yup.object({\n  name: yup.string()\n    .required('Project name is required')\n    .min(3, 'Project name must be at least 3 characters'),\n  \n  description: yup.string()\n    .required('Description is required')\n    .min(10, 'Description should be at least 10 characters'),\n  \n  departmentId: yup.string()\n    .required('Department is required'),\n  \n  projectManagerId: yup.string()\n    .required('Project manager is required'),\n  \n  startDate: yup.date()\n    .required('Start date is required'),\n  \n  endDate: yup.date()\n    .required('End date is required')\n    .min(\n      yup.ref('startDate'),\n      'End date must be after the start date'\n    ),\n  \n  budget: yup.number()\n    .required('Budget is required')\n    .min(0, 'Budget cannot be negative'),\n  \n  status: yup.string()\n    .required('Status is required'),\n  \n  priority: yup.string()\n    .required('Priority is required')\n}).required();\n\nconst ProjectApprovalForm: React.FC<ProjectApprovalFormProps> = ({\n  project,\n  departments,\n  users,\n  onSubmit,\n  onCancel\n}) => {\n  const { user } = useAuth();\n  const { t } = useTranslation();\n  const [reviewComments, setReviewComments] = useState<string>('');\n  \n  // Check permissions\n  const canApprove = usePermission(Permission.APPROVE_PROJECT, project?.projectManager?.id === user?.id);\n  const canEdit = usePermission(Permission.EDIT_PROJECT, project?.projectManager?.id === user?.id);\n  \n  // Default values for the form\n  const defaultValues: ProjectFormData = {\n    name: project?.name || '',\n    description: project?.description || '',\n    departmentId: project?.department?.id || '',\n    startDate: project?.startDate ? new Date(project.startDate) : new Date(),\n    endDate: project?.endDate ? new Date(project.endDate) : new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n    status: project?.status || ProjectStatus.PLANNING,\n    projectManagerId: project?.projectManager?.id || user?.id || '',\n    budget: project?.budget || 0,\n    priority: project?.priority || ProjectPriority.MEDIUM\n  };\n  \n  // Current approval status\n  const currentStatus = (project as any)?.approvalStatus || ApprovalStatus.DRAFT;\n  \n  // Determine if this is user's own project\n  const isOwnProject = project ? \n    project.projectManager?.id === user?.id : \n    true; // New projects are owned by the creator\n  \n  // Handle form submission\n  const handleFormSubmit = async (data: ProjectFormData, action: WorkflowAction) => {\n    // Add review comments for certain actions\n    const submitData = {\n      ...data,\n      reviewComments: ['APPROVE', 'REJECT', 'REQUEST_CHANGES'].includes(action) ? reviewComments : undefined\n    };\n    \n    await onSubmit(submitData, action);\n  };\n  \n  // Get project managers for dropdown\n  const getProjectManagers = () => {\n    return users\n      .filter(user => \n        user.role === UserRole.PROJECT_MANAGER || \n        user.role === UserRole.SUB_PMO || \n        user.role === UserRole.MAIN_PMO\n      )\n      .map(pm => ({\n        value: pm.id,\n        label: `${pm.firstName} ${pm.lastName}`\n      }));\n  };\n  \n  return (\n    <WorkflowForm<ProjectFormData>\n      defaultValues={defaultValues}\n      validationSchema={yupResolver(projectSchema)}\n      onSubmit={handleFormSubmit}\n      title={project ? t('project.edit') : t('project.addNew')}\n      subtitle={t('project.fillDetails')}\n      currentStatus={currentStatus}\n      isOwnItem={isOwnProject}\n      objectOwner={project?.projectManager?.id}\n    >\n      <GridContainer spacing={3}>\n        <GridItem xs={12}>\n          <FormTextField\n            name=\"name\"\n            label={t('project.name')}\n            required\n          />\n        </GridItem>\n        \n        <GridItem xs={12}>\n          <FormTextField\n            name=\"description\"\n            label={t('project.description')}\n            multiline\n            rows={3}\n            required\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormDatePicker\n            name=\"startDate\"\n            label={t('project.startDate')}\n            required\n            startIcon={\n              <InputAdornment position=\"start\">\n                <CalendarIcon color=\"action\" />\n              </InputAdornment>\n            }\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormDatePicker\n            name=\"endDate\"\n            label={t('project.endDate')}\n            required\n            startIcon={\n              <InputAdornment position=\"start\">\n                <CalendarIcon color=\"action\" />\n              </InputAdornment>\n            }\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormSelect\n            name=\"departmentId\"\n            label={t('project.department')}\n            required\n            options={departments.map(dept => ({\n              value: dept.id,\n              label: dept.name\n            }))}\n            startIcon={\n              <InputAdornment position=\"start\">\n                <BusinessIcon color=\"action\" />\n              </InputAdornment>\n            }\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormSelect\n            name=\"projectManagerId\"\n            label={t('project.projectManager')}\n            required\n            options={getProjectManagers()}\n            startIcon={\n              <InputAdornment position=\"start\">\n                <PersonIcon color=\"action\" />\n              </InputAdornment>\n            }\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormTextField\n            name=\"budget\"\n            label={t('project.budget')}\n            type=\"number\"\n            required\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormSelect\n            name=\"status\"\n            label={t('project.status')}\n            required\n            options={[\n              { value: ProjectStatus.PLANNING, label: t('projectStatus.PLANNING') },\n              { value: ProjectStatus.IN_PROGRESS, label: t('projectStatus.IN_PROGRESS') },\n              { value: ProjectStatus.ON_HOLD, label: t('projectStatus.ON_HOLD') }\n            ]}\n          />\n        </GridItem>\n        \n        <GridItem xs={12} sm={6}>\n          <FormSelect\n            name=\"priority\"\n            label={t('project.priority')}\n            required\n            options={[\n              { value: ProjectPriority.LOW, label: t('projectPriority.LOW') },\n              { value: ProjectPriority.MEDIUM, label: t('projectPriority.MEDIUM') },\n              { value: ProjectPriority.HIGH, label: t('projectPriority.HIGH') },\n              { value: ProjectPriority.CRITICAL, label: t('projectPriority.CRITICAL') }\n            ]}\n            startIcon={\n              <InputAdornment position=\"start\">\n                <PriorityIcon color=\"action\" />\n              </InputAdornment>\n            }\n          />\n        </GridItem>\n        \n        {/* Review comments section - only visible to reviewers during appropriate stages */}\n        {(user?.role === UserRole.SUB_PMO || \n          user?.role === UserRole.MAIN_PMO || \n          user?.role === UserRole.ADMIN) && \n         (currentStatus === ApprovalStatus.SUBMITTED || \n          currentStatus === ApprovalStatus.SUB_PMO_APPROVED) && (\n          <GridItem xs={12}>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              {t('project.reviewerComments')}\n            </Typography>\n            <TextField\n              fullWidth\n              multiline\n              rows={3}\n              placeholder={t('project.addFeedback')}\n              value={reviewComments}\n              onChange={(e) => setReviewComments(e.target.value)}\n            />\n          </GridItem>\n        )}\n        \n        {/* Display existing comments if any */}\n        {(project as any)?.comments && (\n          <GridItem xs={12}>\n            <Alert severity=\"info\">\n              <Typography variant=\"subtitle2\">{t('project.previousComments')}:</Typography>\n              <Typography variant=\"body2\">{(project as any).comments}</Typography>\n            </Alert>\n          </GridItem>\n        )}\n      </GridContainer>\n    </WorkflowForm>\n  );\n};\n\nexport default ProjectApprovalForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}