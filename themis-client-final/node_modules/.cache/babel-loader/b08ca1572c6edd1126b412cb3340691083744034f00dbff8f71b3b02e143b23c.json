{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ProjectsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Chip, Button, TextField, MenuItem, IconButton, Tooltip, FormControl, InputLabel, Select, OutlinedInput, Toolbar, CircularProgress, Alert, useMediaQuery, useTheme } from '@mui/material';\nimport { Add as AddIcon, Search as SearchIcon, ViewList as ViewListIcon, ViewModule as ViewModuleIcon, History as HistoryIcon } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { ProjectStatus, ProjectTemplateType } from '../types';\nimport AddProjectDialog from '../components/Project/AddProjectDialog';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedCard from '../components/common/EnhancedCard';\nimport StatusBadge from '../components/common/StatusBadge';\nimport CircularProgressWithLabel from '../components/common/CircularProgressWithLabel';\nimport { GridItem, GridContainer } from '../components/common/MuiGridWrapper';\nimport { mockProjects, mockUsers, mockDepartments } from '../services/mockData';\nimport { initialStrategicGoals, initialAnnualGoals } from './GoalsPage';\nimport { alpha } from '@mui/material/styles';\n\n// Define Department type for the dialog\n\n// Define our own Goal interface for project linking\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Define status options\nconst statusOptions = ['All', 'PLANNING', 'IN_PROGRESS', 'ON_HOLD', 'COMPLETED', 'CANCELLED'];\n\n// Helper function to get status color\nconst getStatusColor = (status, endDate) => {\n  // Check if the project is overdue (end date is before current date)\n  if (endDate && new Date(endDate) < new Date()) {\n    return 'error'; // Red color for overdue projects\n  }\n  switch (status) {\n    case 'PLANNING':\n      return 'info';\n    case 'IN_PROGRESS':\n      return 'primary';\n    case 'ON_HOLD':\n      return 'warning';\n    case 'COMPLETED':\n      return 'success';\n    case 'CANCELLED':\n      return 'error';\n    default:\n      return 'default';\n  }\n};\n\n// Helper function to get status label\nconst getStatusLabel = status => {\n  switch (status) {\n    case 'PLANNING':\n      return 'Planning';\n    case 'IN_PROGRESS':\n      return 'In Progress';\n    case 'ON_HOLD':\n      return 'On Hold';\n    case 'COMPLETED':\n      return 'Completed';\n    case 'CANCELLED':\n      return 'Cancelled';\n    default:\n      return status;\n  }\n};\n\n// Map API status to component status type\nconst mapStatusToType = status => {\n  if (status === 'PLANNING') return 'planning';\n  if (status === 'IN_PROGRESS') return 'inProgress';\n  if (status === 'ON_HOLD') return 'onHold';\n  if (status === 'COMPLETED') return 'completed';\n  if (status === 'CANCELLED') return 'cancelled';\n  return 'todo';\n};\nconst ProjectsPage = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('All');\n  const [departmentFilter, setDepartmentFilter] = useState('All');\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [departmentOptions, setDepartmentOptions] = useState([]);\n  const [isAddProjectDialogOpen, setIsAddProjectDialogOpen] = useState(false);\n  const [departments, setDepartments] = useState(mockDepartments);\n  const [users, setUsers] = useState(mockUsers);\n  const [viewMode, setViewMode] = useState('grid');\n  const [goals, setGoals] = useState([...initialStrategicGoals.map(goal => ({\n    ...goal,\n    name: goal.title,\n    type: 'STRATEGIC',\n    category: 'MAIN',\n    status: 'ACTIVE'\n  })), ...initialAnnualGoals.map(goal => ({\n    ...goal,\n    name: goal.title,\n    type: 'ANNUAL',\n    category: 'MAIN',\n    status: 'ACTIVE'\n  }))]);\n  const navigate = useNavigate();\n  const {\n    isProjectManager,\n    isAdmin,\n    token,\n    user\n  } = useAuth();\n\n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Get mock projects\n        setTimeout(() => {\n          setProjects(mockProjects);\n\n          // Get unique departments\n          const departmentSet = new Set(mockDepartments.map(dept => dept.name));\n\n          // Convert Set to Array and add 'All' at the beginning\n          const deptOptions = ['All', ...Array.from(departmentSet)];\n          setDepartmentOptions(deptOptions);\n          setDepartments(mockDepartments);\n          setLoading(false);\n        }, 1000); // Simulate loading delay\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n        setProjects([]);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const handleStatusFilterChange = event => {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  };\n  const handleDepartmentFilterChange = event => {\n    setDepartmentFilter(event.target.value);\n    setPage(0);\n  };\n  const handleSearchChange = event => {\n    setSearchQuery(event.target.value);\n    setPage(0);\n  };\n  const handleCreateProject = () => {\n    setIsAddProjectDialogOpen(true);\n  };\n  const handleProjectAdded = newProject => {\n    // Add the new project to the existing projects list\n    setProjects([...projects, newProject]);\n  };\n  const handleProjectClick = id => {\n    // Find the project to determine its template type\n    const project = projects.find(p => p.id === id);\n    if (!project) {\n      // If project not found, navigate to default project detail page\n      navigate(`/projects/${id}`);\n      return;\n    }\n\n    // Ensure templateType has a value, defaulting to DEFAULT if missing\n    const templateType = project.templateType || ProjectTemplateType.DEFAULT;\n\n    // Navigate to the specialized route based on template type\n    switch (templateType) {\n      case ProjectTemplateType.ERP:\n        navigate(`/projects/${id}/erp`);\n        break;\n      case ProjectTemplateType.MARKETING:\n        navigate(`/projects/${id}/marketing`);\n        break;\n      case ProjectTemplateType.FINANCE:\n        navigate(`/projects/${id}/finance`);\n        break;\n      case ProjectTemplateType.SUPPLY_CHAIN:\n        navigate(`/projects/${id}/supply-chain`);\n        break;\n      case ProjectTemplateType.WEBSITE:\n        navigate(`/projects/${id}/website`);\n        break;\n      case ProjectTemplateType.INFRASTRUCTURE:\n        navigate(`/projects/${id}/infrastructure`);\n        break;\n      default:\n        // Fall back to default project detail page\n        navigate(`/projects/${id}`);\n    }\n  };\n\n  // Filter projects based on search query and filters\n  const filteredProjects = Array.isArray(projects) ? projects.filter(project => {\n    // Search query filter\n    const projectManagerName = project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim().toLowerCase() : '';\n    const matchesSearch = project.name.toLowerCase().includes(searchQuery.toLowerCase()) || projectManagerName.includes(searchQuery.toLowerCase());\n\n    // Status filter (handle both string and enum values)\n    const matchesStatus = statusFilter === 'All' || project.status === statusFilter || typeof project.status === 'string' && project.status.replace(/([A-Z])/g, '_$1').toUpperCase() === statusFilter;\n\n    // Department filter\n    const matchesDepartment = departmentFilter === 'All' || project.department.name === departmentFilter;\n    return matchesSearch && matchesStatus && matchesDepartment;\n  }) : [];\n\n  // Calculate pagination\n  const paginatedProjects = filteredProjects.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n\n  // Helper function to get translated status label\n  const getTranslatedStatusLabel = status => {\n    // Try to use the projectStatus namespace first for more granular control\n    const projectStatusKey = `projectStatus.${status}`;\n    const translatedStatus = t(projectStatusKey);\n\n    // If the translation key exists and returns a valid translation (not the key itself)\n    if (translatedStatus !== projectStatusKey) {\n      return translatedStatus;\n    }\n\n    // Fall back to the older status namespace if needed\n    switch (status) {\n      case 'PLANNING':\n        return t('status.planning');\n      case 'IN_PROGRESS':\n        return t('status.inProgress');\n      case 'ON_HOLD':\n        return t('status.onHold');\n      case 'COMPLETED':\n        return t('status.completed');\n      case 'CANCELLED':\n        return t('status.cancelled');\n      default:\n        return status;\n    }\n  };\n\n  // Check if a project is overdue\n  const isOverdue = endDate => {\n    return endDate ? new Date(endDate) < new Date() : false;\n  };\n\n  // Find goals associated with a project\n  const findProjectGoals = projectId => {\n    return goals.filter(goal => goal.linkedProjects.some(projectLink => projectLink.projectId === projectId));\n  };\n\n  // Get project weight for a specific goal\n  const getProjectWeight = (goal, projectId) => {\n    const projectLink = goal.linkedProjects.find(projectLink => projectLink.projectId === projectId);\n    return projectLink ? projectLink.weight : 0;\n  };\n\n  // Render grid view\n  const renderGridView = () => /*#__PURE__*/_jsxDEV(GridContainer, {\n    spacing: 3,\n    children: paginatedProjects.map(project => {\n      const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]);\n      return /*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(EnhancedCard, {\n          title: project.name,\n          subtitle: project.department.name,\n          onClick: () => handleProjectClick(project.id),\n          sx: {\n            height: '100%',\n            transition: 'all 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-5px)',\n              boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n            },\n            borderRadius: 2,\n            overflow: 'hidden',\n            position: 'relative'\n          },\n          headerProps: {\n            sx: {\n              pb: 1,\n              borderBottom: '1px solid',\n              borderColor: 'divider'\n            }\n          },\n          footer: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              width: '100%',\n              pt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 8,\n                  height: 8,\n                  borderRadius: '50%',\n                  bgcolor: theme.palette.primary.main,\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                children: [new Date(project.startDate).toLocaleDateString(), \" - \", new Date(project.endDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              fontWeight: \"medium\",\n              children: project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim() : t('project.unassigned')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'absolute',\n              top: 10,\n              right: 10,\n              zIndex: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n              status: statusType,\n              label: getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]),\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2,\n              mt: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                height: 40,\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical'\n              },\n              children: project.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              children: findProjectGoals(project.id).length > 0 && /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: t('goals.linkedGoals', 'Linked Goals'),\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  size: \"small\",\n                  label: `${findProjectGoals(project.id).length} ${t('goals.linked', 'Goals')}`,\n                  sx: {\n                    mr: 1,\n                    fontSize: '0.7rem'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n              value: project.progress,\n              size: 40,\n              thickness: 4,\n              sx: {\n                color: project.progress < 30 ? theme.palette.error.main : project.progress < 70 ? theme.palette.warning.main : theme.palette.success.main\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)\n      }, project.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n\n  // Render list view\n  const renderListView = () => /*#__PURE__*/_jsxDEV(TableContainer, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      sx: {\n        minWidth: 750\n      },\n      \"aria-label\": \"projects table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.department')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.status')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.projectManager')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('common.timeline')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.progress')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: paginatedProjects.map(project => {\n          const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]);\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            onClick: () => handleProjectClick(project.id),\n            sx: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"medium\",\n                children: project.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                noWrap: true,\n                sx: {\n                  maxWidth: 300\n                },\n                children: project.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: project.department.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: statusType,\n                label: getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim() : t('project.unassigned')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [new Date(project.startDate).toLocaleDateString(), \" - \", new Date(project.endDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n                value: project.progress,\n                size: 46,\n                thickness: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this)]\n          }, project.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 5\n  }, this);\n  const handleAddLegacyProject = () => {\n    navigate('/projects/legacy/new');\n  };\n  const isPMO = userRole => {\n    // Update to include Admin users\n    return userRole === 'SUB_PMO' || userRole === 'MAIN_PMO' || userRole === 'ADMIN';\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4,\n        p: 3,\n        borderRadius: 2,\n        background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\n        color: 'white',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          opacity: 0.1,\n          background: 'url(https://www.transparenttextures.com/patterns/cubes.png)',\n          zIndex: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          zIndex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          fontWeight: \"bold\",\n          gutterBottom: true,\n          children: t('navigation.projects')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: t('project.subtitle', 'Manage and monitor all your organizational projects')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 2,\n          zIndex: 1\n        },\n        children: [(isAdmin || isProjectManager) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 26\n          }, this),\n          onClick: handleCreateProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1.2,\n            boxShadow: '0 4px 10px rgba(0,0,0,0.15)',\n            fontWeight: 'bold',\n            transition: 'all 0.3s',\n            '&:hover': {\n              transform: 'translateY(-3px)',\n              boxShadow: '0 6px 15px rgba(0,0,0,0.2)'\n            }\n          },\n          children: t('project.add')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), isPMO(user === null || user === void 0 ? void 0 : user.role) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"inherit\",\n          startIcon: /*#__PURE__*/_jsxDEV(HistoryIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 26\n          }, this),\n          onClick: handleAddLegacyProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1.2,\n            borderColor: 'rgba(255,255,255,0.5)',\n            transition: 'all 0.3s',\n            '&:hover': {\n              borderColor: 'white',\n              backgroundColor: 'rgba(255,255,255,0.1)',\n              transform: 'translateY(-3px)'\n            }\n          },\n          children: t('project.addLegacy', 'Add Legacy Project')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: '100%',\n        mb: 4,\n        borderRadius: 2,\n        overflow: 'hidden',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.05)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        sx: {\n          p: 2,\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexWrap: 'wrap',\n          gap: 2,\n          borderBottom: '1px solid',\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            size: \"small\",\n            variant: \"outlined\",\n            placeholder: t('common.search'),\n            value: searchQuery,\n            onChange: handleSearchChange,\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                fontSize: \"small\",\n                sx: {\n                  mr: 1,\n                  color: 'action.active'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 33\n              }, this)\n            },\n            sx: {\n              '& .MuiOutlinedInput-root': {\n                borderRadius: 8,\n                transition: 'all 0.2s',\n                '&.Mui-focused': {\n                  boxShadow: '0 0 0 3px rgba(0,0,0,0.05)'\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            size: \"small\",\n            sx: {\n              minWidth: 120\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: t('project.status')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: t('project.status'),\n              value: statusFilter,\n              onChange: handleStatusFilterChange,\n              input: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                label: t('project.status')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 24\n              }, this),\n              sx: {\n                borderRadius: 8\n              },\n              children: statusOptions.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: status,\n                children: status === 'All' ? t('common.all') : getTranslatedStatusLabel(status)\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            size: \"small\",\n            sx: {\n              minWidth: 150\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: t('project.department')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: t('project.department'),\n              value: departmentFilter,\n              onChange: handleDepartmentFilterChange,\n              input: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                label: t('project.department')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 24\n              }, this),\n              sx: {\n                borderRadius: 8\n              },\n              children: departmentOptions.map(department => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: department,\n                children: department === 'All' ? t('common.all') : department\n              }, department, false, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: viewMode === 'grid' ? t('common.listView') : t('common.gridView'),\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setViewMode(viewMode === 'grid' ? 'list' : 'grid'),\n              color: \"primary\",\n              sx: {\n                bgcolor: theme.palette.action.hover,\n                '&:hover': {\n                  bgcolor: alpha(theme.palette.primary.main, 0.1)\n                }\n              },\n              children: viewMode === 'grid' ? /*#__PURE__*/_jsxDEV(ViewListIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 40\n              }, this) : /*#__PURE__*/_jsxDEV(ViewModuleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 4,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          minHeight: 400\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 4,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            maxWidth: 500,\n            mx: 'auto',\n            borderRadius: 2,\n            boxShadow: '0 4px 12px rgba(211,47,47,0.1)'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 11\n      }, this) : paginatedProjects.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 8,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3,\n            opacity: 0.7\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"100\",\n            height: \"100\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 5V3\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 5V3\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 9H21\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M9 13H15\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            fontWeight: 'medium',\n            mb: 1\n          },\n          children: t('common.noData')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 3,\n            maxWidth: 400,\n            mx: 'auto'\n          },\n          children: searchQuery || statusFilter !== 'All' || departmentFilter !== 'All' ? t('common.adjustSearchCriteria') : t('project.createNewToStart')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 13\n        }, this), (isAdmin || isProjectManager) && searchQuery === '' && statusFilter === 'All' && departmentFilter === 'All' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 28\n          }, this),\n          onClick: handleCreateProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1\n          },\n          children: t('project.add')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 3\n        },\n        children: viewMode === 'grid' ? renderGridView() : renderListView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: [6, 12, 24],\n        component: \"div\",\n        count: filteredProjects.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onPageChange: handleChangePage,\n        onRowsPerPageChange: handleChangeRowsPerPage,\n        labelRowsPerPage: t('common.rowsPerPage'),\n        labelDisplayedRows: ({\n          from,\n          to,\n          count\n        }) => `${from}-${to} ${t('common.of')} ${count}`,\n        sx: {\n          borderTop: '1px solid',\n          borderColor: 'divider',\n          '& .MuiTablePagination-selectIcon': {\n            color: theme.palette.action.active\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddProjectDialog, {\n      open: isAddProjectDialogOpen,\n      onClose: () => setIsAddProjectDialogOpen(false),\n      onProjectAdded: handleProjectAdded,\n      departments: departments,\n      users: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 535,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectsPage, \"O8zR0pEfUhGf4mnA5V9fCDIV5ZI=\", false, function () {\n  return [useTranslation, useTheme, useMediaQuery, useNavigate, useAuth];\n});\n_c = ProjectsPage;\nexport default ProjectsPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectsPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","Button","TextField","MenuItem","IconButton","Tooltip","FormControl","InputLabel","Select","OutlinedInput","Toolbar","CircularProgress","Alert","useMediaQuery","useTheme","Add","AddIcon","Search","SearchIcon","ViewList","ViewListIcon","ViewModule","ViewModuleIcon","History","HistoryIcon","useNavigate","useAuth","ProjectStatus","ProjectTemplateType","AddProjectDialog","useTranslation","EnhancedCard","StatusBadge","CircularProgressWithLabel","GridItem","GridContainer","mockProjects","mockUsers","mockDepartments","initialStrategicGoals","initialAnnualGoals","alpha","jsxDEV","_jsxDEV","statusOptions","getStatusColor","status","endDate","Date","getStatusLabel","mapStatusToType","ProjectsPage","_s","t","theme","isMobile","breakpoints","down","page","setPage","rowsPerPage","setRowsPerPage","searchQuery","setSearchQuery","statusFilter","setStatusFilter","departmentFilter","setDepartmentFilter","projects","setProjects","loading","setLoading","error","setError","departmentOptions","setDepartmentOptions","isAddProjectDialogOpen","setIsAddProjectDialogOpen","departments","setDepartments","users","setUsers","viewMode","setViewMode","goals","setGoals","map","goal","name","title","type","category","navigate","isProjectManager","isAdmin","token","user","fetchData","setTimeout","departmentSet","Set","dept","deptOptions","Array","from","console","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleStatusFilterChange","handleDepartmentFilterChange","handleSearchChange","handleCreateProject","handleProjectAdded","newProject","handleProjectClick","id","project","find","p","templateType","DEFAULT","ERP","MARKETING","FINANCE","SUPPLY_CHAIN","WEBSITE","INFRASTRUCTURE","filteredProjects","isArray","filter","projectManagerName","projectManager","firstName","lastName","trim","toLowerCase","matchesSearch","includes","matchesStatus","replace","toUpperCase","matchesDepartment","department","paginatedProjects","slice","getTranslatedStatusLabel","projectStatusKey","translatedStatus","isOverdue","findProjectGoals","projectId","linkedProjects","some","projectLink","getProjectWeight","weight","renderGridView","spacing","children","statusType","xs","sm","md","subtitle","onClick","sx","height","transition","transform","boxShadow","borderRadius","overflow","position","headerProps","pb","borderBottom","borderColor","footer","display","justifyContent","alignItems","width","pt","bgcolor","palette","primary","main","mr","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","startDate","toLocaleDateString","fontWeight","top","right","zIndex","label","size","mb","mt","textOverflow","WebkitLineClamp","WebkitBoxOrient","description","length","fontSize","progress","thickness","warning","success","renderListView","minWidth","hover","cursor","component","scope","noWrap","maxWidth","handleAddLegacyProject","isPMO","userRole","elevation","background","dark","left","bottom","opacity","gutterBottom","gap","startIcon","px","py","role","backgroundColor","flexWrap","placeholder","onChange","InputProps","startAdornment","input","action","minHeight","textAlign","severity","mx","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","rowsPerPageOptions","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","to","borderTop","active","open","onClose","onProjectAdded","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ProjectsPage.tsx"],"sourcesContent":["import React, { useState, ReactNode, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  Chip,\n  Button,\n  TextField,\n  MenuItem,\n  IconButton,\n  Tooltip,\n  FormControl,\n  InputLabel,\n  Select,\n  SelectChangeEvent,\n  OutlinedInput,\n  Toolbar,\n  Stack,\n  CircularProgress,\n  Alert,\n  useMediaQuery,\n  useTheme,\n  Menu,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Link\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  FilterList as FilterIcon,\n  Search as SearchIcon,\n  MoreVert as MoreIcon,\n  ViewList as ViewListIcon,\n  ViewModule as ViewModuleIcon,\n  History as HistoryIcon,\n  ExpandMore as ExpandMoreIcon\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { Project, ProjectStatus, User, ProjectTemplateType } from '../types';\nimport api from '../services/api';\nimport AddProjectDialog from '../components/Project/AddProjectDialog';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedCard from '../components/common/EnhancedCard';\nimport StatusBadge from '../components/common/StatusBadge';\nimport SkeletonLoader from '../components/common/SkeletonLoader';\nimport CircularProgressWithLabel from '../components/common/CircularProgressWithLabel';\nimport { GridItem, GridContainer } from '../components/common/MuiGridWrapper';\nimport { mockProjects, mockUsers, mockDepartments } from '../services/mockData';\nimport { canManageProjects } from '../utils/permissions';\nimport { initialStrategicGoals, initialAnnualGoals } from './GoalsPage';\nimport { alpha } from '@mui/material/styles';\n\n// Define Department type for the dialog\ninterface Department {\n  id: string;\n  name: string;\n}\n\n// Define our own Goal interface for project linking\ninterface Goal {\n  id: string;\n  name?: string;\n  title?: string;\n  description: string;\n  type: string;\n  category: string;\n  status: string;\n  progress?: number;\n  startDate?: string;\n  endDate?: string;\n  assignedTo?: string;\n  linkedProjects: { projectId: string; weight: number }[];\n  isProgressAutoCalculated?: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\n// Define status options\nconst statusOptions = [\n  'All',\n  'PLANNING',\n  'IN_PROGRESS',\n  'ON_HOLD',\n  'COMPLETED',\n  'CANCELLED'\n];\n\n// Helper function to get status color\nconst getStatusColor = (status: string, endDate?: string) => {\n  // Check if the project is overdue (end date is before current date)\n  if (endDate && new Date(endDate) < new Date()) {\n    return 'error'; // Red color for overdue projects\n  }\n  \n  switch(status) {\n    case 'PLANNING': return 'info';\n    case 'IN_PROGRESS': return 'primary';\n    case 'ON_HOLD': return 'warning';\n    case 'COMPLETED': return 'success';\n    case 'CANCELLED': return 'error';\n    default: return 'default';\n  }\n};\n\n// Helper function to get status label\nconst getStatusLabel = (status: string) => {\n  switch(status) {\n    case 'PLANNING': return 'Planning';\n    case 'IN_PROGRESS': return 'In Progress';\n    case 'ON_HOLD': return 'On Hold';\n    case 'COMPLETED': return 'Completed';\n    case 'CANCELLED': return 'Cancelled';\n    default: return status;\n  }\n};\n\n// Map API status to component status type\nconst mapStatusToType = (status: string): 'planning' | 'inProgress' | 'onHold' | 'completed' | 'cancelled' | 'todo' | 'review' | 'overdue' => {\n  if (status === 'PLANNING') return 'planning';\n  if (status === 'IN_PROGRESS') return 'inProgress';\n  if (status === 'ON_HOLD') return 'onHold';\n  if (status === 'COMPLETED') return 'completed';\n  if (status === 'CANCELLED') return 'cancelled';\n  return 'todo';\n};\n\nconst ProjectsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('All');\n  const [departmentFilter, setDepartmentFilter] = useState('All');\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [departmentOptions, setDepartmentOptions] = useState<string[]>([]);\n  const [isAddProjectDialogOpen, setIsAddProjectDialogOpen] = useState(false);\n  const [departments, setDepartments] = useState(mockDepartments);\n  const [users, setUsers] = useState(mockUsers);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [goals, setGoals] = useState<Goal[]>([\n    ...initialStrategicGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'STRATEGIC',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    })),\n    ...initialAnnualGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'ANNUAL',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    }))\n  ]);\n  \n  const navigate = useNavigate();\n  const { isProjectManager, isAdmin, token, user } = useAuth();\n  \n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Get mock projects\n        setTimeout(() => {\n          setProjects(mockProjects);\n          \n          // Get unique departments\n          const departmentSet = new Set<string>(\n            mockDepartments.map(dept => dept.name)\n          );\n          \n          // Convert Set to Array and add 'All' at the beginning\n          const deptOptions = ['All', ...Array.from(departmentSet)];\n          setDepartmentOptions(deptOptions);\n          setDepartments(mockDepartments);\n          setLoading(false);\n        }, 1000); // Simulate loading delay\n        \n      } catch (error) {\n        console.error('Error fetching projects:', error);\n        setProjects([]);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n  \n  const handleChangePage = (event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n  \n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n  const handleStatusFilterChange = (event: SelectChangeEvent) => {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleDepartmentFilterChange = (event: SelectChangeEvent) => {\n    setDepartmentFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n    setPage(0);\n  };\n  \n  const handleCreateProject = () => {\n    setIsAddProjectDialogOpen(true);\n  };\n  \n  const handleProjectAdded = (newProject: Project) => {\n    // Add the new project to the existing projects list\n    setProjects([...projects, newProject]);\n  };\n  \n  const handleProjectClick = (id: string) => {\n    // Find the project to determine its template type\n    const project = projects.find(p => p.id === id);\n    \n    if (!project) {\n      // If project not found, navigate to default project detail page\n      navigate(`/projects/${id}`);\n      return;\n    }\n    \n    // Ensure templateType has a value, defaulting to DEFAULT if missing\n    const templateType = project.templateType || ProjectTemplateType.DEFAULT;\n    \n    // Navigate to the specialized route based on template type\n    switch (templateType) {\n      case ProjectTemplateType.ERP:\n        navigate(`/projects/${id}/erp`);\n        break;\n      case ProjectTemplateType.MARKETING:\n        navigate(`/projects/${id}/marketing`);\n        break;\n      case ProjectTemplateType.FINANCE:\n        navigate(`/projects/${id}/finance`);\n        break;\n      case ProjectTemplateType.SUPPLY_CHAIN:\n        navigate(`/projects/${id}/supply-chain`);\n        break;\n      case ProjectTemplateType.WEBSITE:\n        navigate(`/projects/${id}/website`);\n        break;\n      case ProjectTemplateType.INFRASTRUCTURE:\n        navigate(`/projects/${id}/infrastructure`);\n        break;\n      default:\n        // Fall back to default project detail page\n        navigate(`/projects/${id}`);\n    }\n  };\n  \n  // Filter projects based on search query and filters\n  const filteredProjects = Array.isArray(projects) \n    ? projects.filter((project) => {\n        // Search query filter\n        const projectManagerName = project.projectManager \n          ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim().toLowerCase()\n          : '';\n          \n        const matchesSearch = \n          project.name.toLowerCase().includes(searchQuery.toLowerCase()) || \n          projectManagerName.includes(searchQuery.toLowerCase());\n        \n        // Status filter (handle both string and enum values)\n        const matchesStatus = statusFilter === 'All' || \n          project.status === statusFilter || \n          (typeof project.status === 'string' && project.status.replace(/([A-Z])/g, '_$1').toUpperCase() === statusFilter);\n        \n        // Department filter\n        const matchesDepartment = departmentFilter === 'All' || \n          (project as Project).department.name === departmentFilter;\n        \n        return matchesSearch && matchesStatus && matchesDepartment;\n      })\n    : [];\n  \n  // Calculate pagination\n  const paginatedProjects = filteredProjects.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n  \n  // Helper function to get translated status label\n  const getTranslatedStatusLabel = (status: string): string => {\n    // Try to use the projectStatus namespace first for more granular control\n    const projectStatusKey = `projectStatus.${status}`;\n    const translatedStatus = t(projectStatusKey);\n\n    // If the translation key exists and returns a valid translation (not the key itself)\n    if (translatedStatus !== projectStatusKey) {\n      return translatedStatus;\n    }\n\n    // Fall back to the older status namespace if needed\n    switch(status) {\n      case 'PLANNING': return t('status.planning');\n      case 'IN_PROGRESS': return t('status.inProgress');\n      case 'ON_HOLD': return t('status.onHold');\n      case 'COMPLETED': return t('status.completed');\n      case 'CANCELLED': return t('status.cancelled');\n      default: return status;\n    }\n  };\n\n  // Check if a project is overdue\n  const isOverdue = (endDate?: string): boolean => {\n    return endDate ? new Date(endDate) < new Date() : false;\n  };\n\n  // Find goals associated with a project\n  const findProjectGoals = (projectId: string) => {\n    return goals.filter(goal => \n      goal.linkedProjects.some(projectLink => projectLink.projectId === projectId)\n    );\n  };\n\n  // Get project weight for a specific goal\n  const getProjectWeight = (goal: Goal, projectId: string) => {\n    const projectLink = goal.linkedProjects.find(projectLink => projectLink.projectId === projectId);\n    return projectLink ? projectLink.weight : 0;\n  };\n\n  // Render grid view\n  const renderGridView = () => (\n    <GridContainer spacing={3}>\n      {paginatedProjects.map((project) => {\n        const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n          typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n        );\n        \n        return (\n          <GridItem xs={12} sm={6} md={4} key={project.id}>\n            <EnhancedCard\n              title={project.name}\n              subtitle={project.department.name}\n              onClick={() => handleProjectClick(project.id)}\n              sx={{ \n                height: '100%',\n                transition: 'all 0.3s ease',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n                },\n                borderRadius: 2,\n                overflow: 'hidden',\n                position: 'relative'\n              }}\n              headerProps={{\n                sx: {\n                  pb: 1,\n                  borderBottom: '1px solid',\n                  borderColor: 'divider'\n                }\n              }}\n              footer={\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', pt: 1 }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                    <Box\n                      sx={{\n                        width: 8,\n                        height: 8,\n                        borderRadius: '50%',\n                        bgcolor: theme.palette.primary.main,\n                        mr: 1,\n                      }}\n                    />\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"caption\" fontWeight=\"medium\">\n                    {project.projectManager\n                      ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                      : t('project.unassigned')}\n                  </Typography>\n                </Box>\n              }\n            >\n              <Box \n                sx={{ \n                  position: 'absolute',\n                  top: 10,\n                  right: 10,\n                  zIndex: 2\n                }}\n              >\n                <StatusBadge \n                  status={statusType}\n                  label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  size=\"small\"\n                />\n              </Box>\n            \n              <Box sx={{ mb: 2, mt: 1 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ \n                  height: 40, \n                  overflow: 'hidden', \n                  textOverflow: 'ellipsis',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                }}>\n                  {project.description}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 2 }}>\n                <Box>\n                  {findProjectGoals(project.id).length > 0 && (\n                    <Tooltip title={t('goals.linkedGoals', 'Linked Goals')}>\n                      <Chip\n                        size=\"small\"\n                        label={`${findProjectGoals(project.id).length} ${t('goals.linked', 'Goals')}`}\n                        sx={{ mr: 1, fontSize: '0.7rem' }}\n                      />\n                    </Tooltip>\n                  )}\n                </Box>\n                <CircularProgressWithLabel \n                  value={project.progress} \n                  size={40} \n                  thickness={4}\n                  sx={{\n                    color: project.progress < 30 ? theme.palette.error.main :\n                           project.progress < 70 ? theme.palette.warning.main :\n                           theme.palette.success.main\n                  }}\n                />\n              </Box>\n            </EnhancedCard>\n          </GridItem>\n        );\n      })}\n    </GridContainer>\n  );\n\n  // Render list view\n  const renderListView = () => (\n    <TableContainer>\n      <Table sx={{ minWidth: 750 }} aria-label=\"projects table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>{t('project.name')}</TableCell>\n            <TableCell>{t('project.department')}</TableCell>\n            <TableCell>{t('project.status')}</TableCell>\n            <TableCell>{t('project.projectManager')}</TableCell>\n            <TableCell>{t('common.timeline')}</TableCell>\n            <TableCell>{t('project.progress')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {paginatedProjects.map((project) => {\n            const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n              typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n            );\n            \n            return (\n              <TableRow\n                hover\n                key={project.id}\n                onClick={() => handleProjectClick(project.id)}\n                sx={{ cursor: 'pointer' }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  <Typography variant=\"body1\" fontWeight=\"medium\">\n                    {project.name}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" noWrap sx={{ maxWidth: 300 }}>\n                    {project.description}\n                  </Typography>\n                </TableCell>\n                <TableCell>{project.department.name}</TableCell>\n                <TableCell>\n                  <StatusBadge \n                    status={statusType}\n                    label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  />\n                </TableCell>\n                <TableCell>\n                  {project.projectManager\n                    ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                    : t('project.unassigned')}\n                </TableCell>\n                <TableCell>\n                  <Typography variant=\"body2\">\n                    {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  <CircularProgressWithLabel value={project.progress} size={46} thickness={4} />\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n  \n  const handleAddLegacyProject = () => {\n    navigate('/projects/legacy/new');\n  };\n\n  const isPMO = (userRole?: string) => {\n    // Update to include Admin users\n    return userRole === 'SUB_PMO' || userRole === 'MAIN_PMO' || userRole === 'ADMIN';\n  };\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Paper \n        elevation={0} \n        sx={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center', \n          mb: 4,\n          p: 3,\n          borderRadius: 2,\n          background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\n          color: 'white',\n          position: 'relative',\n          overflow: 'hidden'\n        }}\n      >\n        <Box sx={{ \n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          opacity: 0.1,\n          background: 'url(https://www.transparenttextures.com/patterns/cubes.png)',\n          zIndex: 0\n        }} />\n        \n        <Box sx={{ zIndex: 1 }}>\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\" gutterBottom>{t('navigation.projects')}</Typography>\n          <Typography variant=\"subtitle1\">{t('project.subtitle', 'Manage and monitor all your organizational projects')}</Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', gap: 2, zIndex: 1 }}>\n          {(isAdmin || isProjectManager) && (\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<AddIcon />}\n              onClick={handleCreateProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                boxShadow: '0 4px 10px rgba(0,0,0,0.15)',\n                fontWeight: 'bold',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-3px)',\n                  boxShadow: '0 6px 15px rgba(0,0,0,0.2)'\n                }\n              }}\n            >\n              {t('project.add')}\n            </Button>\n          )}\n          \n          {isPMO(user?.role) && (\n            <Button\n              variant=\"outlined\"\n              color=\"inherit\"\n              startIcon={<HistoryIcon />}\n              onClick={handleAddLegacyProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                borderColor: 'rgba(255,255,255,0.5)',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  borderColor: 'white',\n                  backgroundColor: 'rgba(255,255,255,0.1)',\n                  transform: 'translateY(-3px)'\n                }\n              }}\n            >\n              {t('project.addLegacy', 'Add Legacy Project')}\n            </Button>\n          )}\n        </Box>\n      </Paper>\n      \n      <Paper sx={{ width: '100%', mb: 4, borderRadius: 2, overflow: 'hidden', boxShadow: '0 4px 20px rgba(0,0,0,0.05)' }}>\n        <Toolbar \n          sx={{ \n            p: 2, \n            display: 'flex', \n            justifyContent: 'space-between', \n            flexWrap: 'wrap',\n            gap: 2,\n            borderBottom: '1px solid',\n            borderColor: 'divider'\n          }}\n        >\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, flexWrap: 'wrap' }}>\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder={t('common.search')}\n              value={searchQuery}\n              onChange={handleSearchChange}\n              InputProps={{\n                startAdornment: <SearchIcon fontSize=\"small\" sx={{ mr: 1, color: 'action.active' }} />,\n              }}\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  borderRadius: 8,\n                  transition: 'all 0.2s',\n                  '&.Mui-focused': {\n                    boxShadow: '0 0 0 3px rgba(0,0,0,0.05)'\n                  }\n                }\n              }}\n            />\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 120 }}>\n              <InputLabel>{t('project.status')}</InputLabel>\n              <Select\n                label={t('project.status')}\n                value={statusFilter}\n                onChange={handleStatusFilterChange}\n                input={<OutlinedInput label={t('project.status')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {statusOptions.map((status) => (\n                  <MenuItem key={status} value={status}>\n                    {status === 'All' ? t('common.all') : getTranslatedStatusLabel(status)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 150 }}>\n              <InputLabel>{t('project.department')}</InputLabel>\n              <Select\n                label={t('project.department')}\n                value={departmentFilter}\n                onChange={handleDepartmentFilterChange}\n                input={<OutlinedInput label={t('project.department')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {departmentOptions.map((department) => (\n                  <MenuItem key={department} value={department}>\n                    {department === 'All' ? t('common.all') : department}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n          \n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Tooltip title={viewMode === 'grid' ? t('common.listView') : t('common.gridView')}>\n              <IconButton \n                onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n                color=\"primary\"\n                sx={{\n                  bgcolor: theme.palette.action.hover,\n                  '&:hover': {\n                    bgcolor: alpha(theme.palette.primary.main, 0.1)\n                  }\n                }}\n              >\n                {viewMode === 'grid' ? <ViewListIcon /> : <ViewModuleIcon />}\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </Toolbar>\n        \n        {loading ? (\n          <Box sx={{ p: 4, display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\n            <CircularProgress />\n          </Box>\n        ) : error ? (\n          <Box sx={{ p: 4, textAlign: 'center' }}>\n            <Alert \n              severity=\"error\" \n              sx={{ \n                maxWidth: 500, \n                mx: 'auto',\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(211,47,47,0.1)'\n              }}\n            >\n              {error}\n            </Alert>\n          </Box>\n        ) : paginatedProjects.length === 0 ? (\n          <Box sx={{ p: 8, textAlign: 'center' }}>\n            <Box sx={{ mb: 3, opacity: 0.7 }}>\n              <svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M8 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M16 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M3 9H21\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                <path d=\"M9 13H15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              </svg>\n            </Box>\n            <Typography variant=\"h6\" sx={{ fontWeight: 'medium', mb: 1 }}>\n              {t('common.noData')}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3, maxWidth: 400, mx: 'auto' }}>\n              {searchQuery || statusFilter !== 'All' || departmentFilter !== 'All'\n                ? t('common.adjustSearchCriteria')\n                : t('project.createNewToStart')}\n            </Typography>\n            \n            {(isAdmin || isProjectManager) && (searchQuery === '' && statusFilter === 'All' && departmentFilter === 'All') && (\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                onClick={handleCreateProject}\n                sx={{ \n                  borderRadius: 8,\n                  px: 3,\n                  py: 1\n                }}\n              >\n                {t('project.add')}\n              </Button>\n            )}\n          </Box>\n        ) : (\n          <Box sx={{ p: 3 }}>\n            {viewMode === 'grid' ? renderGridView() : renderListView()}\n          </Box>\n        )}\n        \n        <TablePagination\n          rowsPerPageOptions={[6, 12, 24]}\n          component=\"div\"\n          count={filteredProjects.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          labelRowsPerPage={t('common.rowsPerPage')}\n          labelDisplayedRows={({ from, to, count }) =>\n            `${from}-${to} ${t('common.of')} ${count}`\n          }\n          sx={{\n            borderTop: '1px solid',\n            borderColor: 'divider',\n            '& .MuiTablePagination-selectIcon': {\n              color: theme.palette.action.active\n            }\n          }}\n        />\n      </Paper>\n      \n      {/* Add Project Dialog */}\n      <AddProjectDialog\n        open={isAddProjectDialogOpen}\n        onClose={() => setIsAddProjectDialogOpen(false)}\n        onProjectAdded={handleProjectAdded}\n        departments={departments}\n        users={users}\n      />\n    </Box>\n  );\n};\n\nexport default ProjectsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}