{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/GoalsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Paper, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, MenuItem, IconButton, Box, Chip, LinearProgress, Slider, Tabs, Tab, FormControlLabel, Switch, Select, FormControl, InputLabel, ListItemText, Checkbox, OutlinedInput } from '@mui/material';\nimport { Add as AddIcon, Edit as EditIcon, Delete as DeleteIcon, Link as LinkIcon } from '@mui/icons-material';\nimport { GridContainer, GridItem } from '../components/common/MuiGridWrapper';\nimport { useTranslation } from 'react-i18next';\nimport api from '../services/api';\n\n// Enums used in this component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar GoalType = /*#__PURE__*/function (GoalType) {\n  GoalType[\"STRATEGIC\"] = \"STRATEGIC\";\n  GoalType[\"ANNUAL\"] = \"ANNUAL\";\n  GoalType[\"QUARTERLY\"] = \"QUARTERLY\";\n  GoalType[\"MONTHLY\"] = \"MONTHLY\";\n  return GoalType;\n}(GoalType || {});\nvar GoalCategory = /*#__PURE__*/function (GoalCategory) {\n  GoalCategory[\"PERFORMANCE\"] = \"PERFORMANCE\";\n  GoalCategory[\"FINANCIAL\"] = \"FINANCIAL\";\n  GoalCategory[\"CUSTOMER\"] = \"CUSTOMER\";\n  GoalCategory[\"LEARNING\"] = \"LEARNING\";\n  GoalCategory[\"PROCESS\"] = \"PROCESS\";\n  return GoalCategory;\n}(GoalCategory || {});\nvar GoalStatus = /*#__PURE__*/function (GoalStatus) {\n  GoalStatus[\"NOT_STARTED\"] = \"NOT_STARTED\";\n  GoalStatus[\"IN_PROGRESS\"] = \"IN_PROGRESS\";\n  GoalStatus[\"COMPLETED\"] = \"COMPLETED\";\n  GoalStatus[\"ON_HOLD\"] = \"ON_HOLD\";\n  return GoalStatus;\n}(GoalStatus || {}); // Local interfaces\n// Tab panel component\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `goals-tabpanel-${index}`,\n    \"aria-labelledby\": `goals-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        pt: 3\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 27\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_c = TabPanel;\nfunction a11yProps(index) {\n  return {\n    id: `goals-tab-${index}`,\n    'aria-controls': `goals-tabpanel-${index}`\n  };\n}\nconst GoalsPage = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [tabValue, setTabValue] = useState(0);\n  const [strategicGoals, setStrategicGoals] = useState([]);\n  const [annualGoals, setAnnualGoals] = useState([]);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [currentGoal, setCurrentGoal] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [projectWeights, setProjectWeights] = useState({});\n\n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchProjects = async () => {\n      setLoading(true);\n      try {\n        const response = await api.projects.getAllProjects('');\n        if (response.success) {\n          setProjects(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProjects();\n  }, []);\n\n  // Calculate a goal's progress based on the progress of its linked projects\n  const calculateGoalProgressFromProjects = linkedProjectWeights => {\n    if (linkedProjectWeights.length === 0) return 0;\n    let weightedProgress = 0;\n    let totalWeight = 0;\n    linkedProjectWeights.forEach(projectWeight => {\n      const project = projects.find(p => p.id === projectWeight.projectId);\n      if (project) {\n        weightedProgress += project.progress * projectWeight.weight;\n        totalWeight += projectWeight.weight;\n      }\n    });\n\n    // Return weighted average, or 0 if no valid projects were found\n    return totalWeight > 0 ? Math.round(weightedProgress / totalWeight) : 0;\n  };\n  const handleTabChange = (_event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handleOpenDialog = (goal = null, editing = false) => {\n    setIsEditing(editing);\n    if (goal) {\n      setCurrentGoal(goal);\n\n      // Initialize project weights from existing linked projects\n      const weights = {};\n      goal.linkedProjects.forEach(link => {\n        weights[link.projectId] = link.weight;\n      });\n      setProjectWeights(weights);\n    } else {\n      // Create a new goal with default values\n      setCurrentGoal({\n        id: Date.now().toString(),\n        title: '',\n        description: '',\n        type: tabValue === 0 ? GoalType.STRATEGIC : GoalType.ANNUAL,\n        category: GoalCategory.PERFORMANCE,\n        status: GoalStatus.NOT_STARTED,\n        progress: 0,\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n        assignedTo: '',\n        linkedProjects: [],\n        isProgressAutoCalculated: false,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      });\n      setProjectWeights({});\n    }\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setCurrentGoal(null);\n    setIsEditing(false);\n    setProjectWeights({});\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCurrentGoal(prevGoal => prevGoal ? {\n      ...prevGoal,\n      [name]: value\n    } : null);\n  };\n  const handleSelectChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return prevGoal;\n      return {\n        ...prevGoal,\n        [name]: value\n      };\n    });\n  };\n  const handleProgressChange = (event, newValue) => {\n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return prevGoal;\n      return {\n        ...prevGoal,\n        progress: newValue\n      };\n    });\n  };\n  const handleLinkedProjectsChange = event => {\n    if (!currentGoal) return;\n    const selectedProjectIds = event.target.value;\n\n    // Initialize weights for newly selected projects\n    const updatedWeights = {\n      ...projectWeights\n    };\n    selectedProjectIds.forEach(projectId => {\n      // If this is a newly selected project, initialize its weight to a default value\n      if (!updatedWeights[projectId]) {\n        updatedWeights[projectId] = 100 / selectedProjectIds.length; // Default to equal weights\n      }\n    });\n\n    // Remove weights for projects that are no longer selected\n    Object.keys(updatedWeights).forEach(projectId => {\n      if (!selectedProjectIds.includes(projectId)) {\n        delete updatedWeights[projectId];\n      }\n    });\n\n    // Normalize weights to ensure they sum to 100%\n    normalizeWeights(updatedWeights);\n    setProjectWeights(updatedWeights);\n\n    // Update the linked projects with new weights\n    const updatedLinkedProjects = selectedProjectIds.map(projectId => ({\n      projectId,\n      weight: updatedWeights[projectId]\n    }));\n    setCurrentGoal({\n      ...currentGoal,\n      linkedProjects: updatedLinkedProjects\n    });\n  };\n  const handleAutoCalculateChange = event => {\n    const isAutoCalculated = event.target.checked;\n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return null;\n      const updatedGoal = {\n        ...prevGoal,\n        isProgressAutoCalculated: isAutoCalculated\n      };\n\n      // If enabling auto-calculation, update the progress based on linked projects\n      if (isAutoCalculated) {\n        updatedGoal.progress = calculateGoalProgressFromProjects(prevGoal.linkedProjects.map(p => p));\n      }\n      return updatedGoal;\n    });\n  };\n  const handleWeightChange = (projectId, newWeight) => {\n    if (!currentGoal) return;\n    const updatedWeights = {\n      ...projectWeights\n    };\n    updatedWeights[projectId] = newWeight;\n\n    // Ensure weights sum to 100%\n    normalizeWeights(updatedWeights);\n    setProjectWeights(updatedWeights);\n\n    // Update linked projects with new weights\n    const updatedLinkedProjects = currentGoal.linkedProjects.map(project => project.projectId === projectId ? {\n      ...project,\n      weight: newWeight\n    } : {\n      ...project,\n      weight: updatedWeights[project.projectId]\n    });\n    setCurrentGoal({\n      ...currentGoal,\n      linkedProjects: updatedLinkedProjects\n    });\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!currentGoal) return;\n\n    // Ensure project weights are properly set before saving\n    const finalLinkedProjects = currentGoal.linkedProjects.map(project => ({\n      projectId: project.projectId,\n      weight: projectWeights[project.projectId] || 0\n    }));\n    const finalGoal = {\n      ...currentGoal,\n      linkedProjects: finalLinkedProjects,\n      updatedAt: new Date().toISOString()\n    };\n\n    // Save the goal\n    if (isEditing) {\n      // Update existing goal\n      if (currentGoal.type === GoalType.STRATEGIC) {\n        setStrategicGoals(prevGoals => prevGoals.map(goal => goal.id === currentGoal.id ? finalGoal : goal));\n      } else {\n        setAnnualGoals(prevGoals => prevGoals.map(goal => goal.id === currentGoal.id ? finalGoal : goal));\n      }\n    } else {\n      // Add new goal\n      if (finalGoal.type === GoalType.STRATEGIC) {\n        setStrategicGoals(prevGoals => [...prevGoals, finalGoal]);\n      } else {\n        setAnnualGoals(prevGoals => [...prevGoals, finalGoal]);\n      }\n    }\n    setOpenDialog(false);\n    setCurrentGoal(null);\n    setProjectWeights({});\n  };\n  const handleDeleteGoal = id => {\n    if (tabValue === 0) {\n      setStrategicGoals(strategicGoals.filter(goal => goal.id !== id));\n    } else {\n      setAnnualGoals(annualGoals.filter(goal => goal.id !== id));\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case GoalStatus.NOT_STARTED:\n        return 'default';\n      case GoalStatus.IN_PROGRESS:\n        return 'primary';\n      case GoalStatus.COMPLETED:\n        return 'success';\n      case GoalStatus.ON_HOLD:\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n  const getTranslatedStatus = status => {\n    switch (status) {\n      case GoalStatus.NOT_STARTED:\n        return t('goals.notStarted');\n      case GoalStatus.IN_PROGRESS:\n        return t('status.inProgress');\n      case GoalStatus.COMPLETED:\n        return t('status.completed');\n      case GoalStatus.ON_HOLD:\n        return t('status.onHold');\n      default:\n        return status;\n    }\n  };\n  const getTranslatedCategory = category => {\n    switch (category) {\n      case GoalCategory.PERFORMANCE:\n        return t('goals.performance');\n      case GoalCategory.FINANCIAL:\n        return t('goals.financial');\n      case GoalCategory.CUSTOMER:\n        return t('goals.customer');\n      case GoalCategory.LEARNING:\n        return t('goals.learning');\n      case GoalCategory.PROCESS:\n        return t('goals.process');\n      default:\n        return category;\n    }\n  };\n  const renderGoalCards = goals => /*#__PURE__*/_jsxDEV(GridContainer, {\n    spacing: 3,\n    children: goals.map(goal => /*#__PURE__*/_jsxDEV(GridItem, {\n      xs: 12,\n      md: 6,\n      lg: 4,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 2,\n        sx: {\n          p: 2,\n          height: '100%',\n          display: 'flex',\n          flexDirection: 'column',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'absolute',\n            top: 10,\n            right: 10,\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            onClick: () => handleOpenDialog(goal, true),\n            sx: {\n              mr: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            onClick: () => handleDeleteGoal(goal.id),\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: goal.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 2,\n            minHeight: '40px'\n          },\n          children: goal.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: getTranslatedStatus(goal.status),\n            size: \"small\",\n            sx: {\n              mr: 1,\n              mb: 1\n            },\n            color: getStatusColor(goal.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: getTranslatedCategory(goal.category),\n            size: \"small\",\n            sx: {\n              mb: 1\n            },\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            display: \"flex\",\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              component: \"span\",\n              sx: {\n                width: '50%',\n                fontWeight: 'bold',\n                mr: 1\n              },\n              children: [t('goals.progress'), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              component: \"span\",\n              sx: {\n                width: '50%'\n              },\n              children: [goal.progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n            variant: \"determinate\",\n            value: goal.progress,\n            sx: {\n              mt: 1,\n              mb: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: goal.isProgressAutoCalculated,\n                size: \"small\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 28\n              }, this),\n              label: t('goals.autoCalculated'),\n              sx: {\n                '& .MuiFormControlLabel-label': {\n                  fontSize: '0.75rem'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontWeight: 'bold'\n            },\n            children: [t('timeline'), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [new Date(goal.startDate).toLocaleDateString(), \" - \", new Date(goal.endDate).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 'auto',\n            pt: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [t('goals.assignedTo'), \": \", goal.assignedTo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this), goal.linkedProjects.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontWeight: 'bold',\n              mb: 1\n            },\n            children: [t('goals.linkedProjects'), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 17\n          }, this), goal.linkedProjects.map(projectWeight => {\n            const project = projects.find(p => p.id === projectWeight.projectId);\n            return /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                mb: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                icon: /*#__PURE__*/_jsxDEV(LinkIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 31\n                }, this),\n                label: project ? project.name : projectWeight.projectId,\n                size: \"small\",\n                variant: \"outlined\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  fontWeight: 'medium'\n                },\n                children: [projectWeight.weight, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 23\n              }, this)]\n            }, projectWeight.projectId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this)\n    }, goal.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n\n  // Function to normalize weights to sum to 100%\n  const normalizeWeights = weights => {\n    const projectIds = Object.keys(weights);\n    if (projectIds.length === 0) return;\n\n    // Calculate the total of all weights\n    const total = projectIds.reduce((sum, id) => sum + weights[id], 0);\n\n    // If the total is not 100, normalize\n    if (total !== 100 && total !== 0) {\n      projectIds.forEach(id => {\n        weights[id] = Math.round(weights[id] / total * 100);\n      });\n\n      // Handle any rounding errors to ensure the sum is exactly 100\n      const newTotal = projectIds.reduce((sum, id) => sum + weights[id], 0);\n      if (newTotal !== 100) {\n        weights[projectIds[0]] += 100 - newTotal;\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mb: 3,\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: t('navigation.goals')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 22\n        }, this),\n        onClick: () => handleOpenDialog(),\n        children: t('goals.add')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: tabValue,\n        onChange: handleTabChange,\n        \"aria-label\": \"goal types\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: t('goals.strategic'),\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: t('goals.annual'),\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: tabValue,\n      index: 0,\n      children: renderGoalCards(strategicGoals)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: tabValue,\n      index: 1,\n      children: renderGoalCards(annualGoals)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: handleCloseDialog,\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: isEditing ? t('goals.edit') : `${t('goals.addNew')} ${tabValue === 0 ? t('goals.strategic') : t('goals.annual')} ${t('goals.goal')}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(GridContainer, {\n          spacing: 2,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('goals.title'),\n              name: \"title\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.title) || '',\n              onChange: handleChange,\n              fullWidth: true,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('common.description'),\n              name: \"description\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.description) || '',\n              onChange: handleChange,\n              fullWidth: true,\n              multiline: true,\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              select: true,\n              label: t('goals.category'),\n              name: \"category\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.category) || GoalCategory.PERFORMANCE,\n              onChange: handleSelectChange,\n              fullWidth: true,\n              children: Object.values(GoalCategory).map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: category,\n                children: getTranslatedCategory(category)\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              select: true,\n              label: t('status.status'),\n              name: \"status\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.status) || GoalStatus.NOT_STARTED,\n              onChange: handleSelectChange,\n              fullWidth: true,\n              children: Object.values(GoalStatus).map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: status,\n                children: getTranslatedStatus(status)\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('common.startDate'),\n              name: \"startDate\",\n              type: \"date\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.startDate) || '',\n              onChange: handleChange,\n              fullWidth: true,\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('common.endDate'),\n              name: \"endDate\",\n              type: \"date\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.endDate) || '',\n              onChange: handleChange,\n              fullWidth: true,\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('goals.assignedTo'),\n              name: \"assignedTo\",\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.assignedTo) || '',\n              onChange: handleChange,\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              margin: \"normal\",\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"linked-projects-label\",\n                children: t('goals.linkedProjects')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"linked-projects-label\",\n                multiple: true,\n                value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.linkedProjects.map(p => p.projectId)) || [],\n                onChange: handleLinkedProjectsChange,\n                input: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                  label: t('goals.linkedProjects')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 26\n                }, this),\n                renderValue: selected => /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    gap: 0.5\n                  },\n                  children: selected.map(value => {\n                    const project = projects.find(p => p.id === value);\n                    return /*#__PURE__*/_jsxDEV(Chip, {\n                      label: project ? project.name : value,\n                      size: \"small\"\n                    }, value, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 698,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 21\n                }, this),\n                MenuProps: {\n                  PaperProps: {\n                    style: {\n                      maxHeight: 224,\n                      width: 250\n                    }\n                  }\n                },\n                children: projects.map(project => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: project.id,\n                  children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.linkedProjects.some(p => p.projectId === project.id)) || false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: project.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 23\n                  }, this)]\n                }, project.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.isProgressAutoCalculated) || false,\n                onChange: handleAutoCalculateChange,\n                name: \"isProgressAutoCalculated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this),\n              label: t('goals.autoCalculateProgress')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              display: \"block\",\n              children: t('goals.autoCalculateDescription')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 13\n          }, this), !(currentGoal !== null && currentGoal !== void 0 && currentGoal.isProgressAutoCalculated) && /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              id: \"progress-slider\",\n              gutterBottom: true,\n              children: [t('project.progress'), \": \", (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.progress) || 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.progress) || 0,\n              onChange: handleProgressChange,\n              \"aria-labelledby\": \"progress-slider\",\n              valueLabelDisplay: \"auto\",\n              step: 5,\n              marks: true,\n              min: 0,\n              max: 100\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 15\n          }, this), (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.linkedProjects) && currentGoal.linkedProjects.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              children: t('Project Weights')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              paragraph: true,\n              children: t('Adjust the weight of each project\\'s contribution to this goal. Weights will automatically balance to 100%.')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 17\n            }, this), (currentGoal === null || currentGoal === void 0 ? void 0 : currentGoal.linkedProjects) && currentGoal.linkedProjects.map(projectLink => {\n              const project = projects.find(p => p.id === projectLink.projectId);\n              return /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mb: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: project ? project.name : projectLink.projectId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 775,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    fontWeight: \"medium\",\n                    children: [projectWeights[projectLink.projectId] || projectLink.weight, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                  value: projectWeights[projectLink.projectId] || projectLink.weight,\n                  onChange: (_, newValue) => handleWeightChange(projectLink.projectId, newValue),\n                  \"aria-labelledby\": \"project-weight-slider\",\n                  valueLabelDisplay: \"auto\",\n                  step: 5,\n                  marks: true,\n                  min: 5,\n                  max: 100\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 23\n                }, this)]\n              }, projectLink.projectId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDialog,\n          children: t('common.cancel')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          color: \"primary\",\n          children: isEditing ? t('common.update') : t('common.create')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 556,\n    columnNumber: 5\n  }, this);\n};\n_s(GoalsPage, \"TwlmGGjst2heouDGJLT8eBggA3E=\", false, function () {\n  return [useTranslation];\n});\n_c2 = GoalsPage;\nexport default GoalsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"GoalsPage\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Paper","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","MenuItem","IconButton","Box","Chip","LinearProgress","Slider","Tabs","Tab","FormControlLabel","Switch","Select","FormControl","InputLabel","ListItemText","Checkbox","OutlinedInput","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Link","LinkIcon","GridContainer","GridItem","useTranslation","api","jsxDEV","_jsxDEV","GoalType","GoalCategory","GoalStatus","TabPanel","props","children","value","index","other","role","hidden","id","sx","pt","fileName","_jsxFileName","lineNumber","columnNumber","_c","a11yProps","GoalsPage","_s","t","tabValue","setTabValue","strategicGoals","setStrategicGoals","annualGoals","setAnnualGoals","openDialog","setOpenDialog","currentGoal","setCurrentGoal","isEditing","setIsEditing","projects","setProjects","loading","setLoading","projectWeights","setProjectWeights","fetchProjects","response","getAllProjects","success","data","error","console","calculateGoalProgressFromProjects","linkedProjectWeights","length","weightedProgress","totalWeight","forEach","projectWeight","project","find","p","projectId","progress","weight","Math","round","handleTabChange","_event","newValue","handleOpenDialog","goal","editing","weights","linkedProjects","link","Date","now","toString","title","description","type","STRATEGIC","ANNUAL","category","PERFORMANCE","status","NOT_STARTED","startDate","toISOString","split","endDate","setFullYear","getFullYear","assignedTo","isProgressAutoCalculated","createdAt","updatedAt","handleCloseDialog","handleChange","e","name","target","prevGoal","handleSelectChange","event","handleProgressChange","handleLinkedProjectsChange","selectedProjectIds","updatedWeights","Object","keys","includes","normalizeWeights","updatedLinkedProjects","map","handleAutoCalculateChange","isAutoCalculated","checked","updatedGoal","handleWeightChange","newWeight","handleSubmit","preventDefault","finalLinkedProjects","finalGoal","prevGoals","handleDeleteGoal","filter","getStatusColor","IN_PROGRESS","COMPLETED","ON_HOLD","getTranslatedStatus","getTranslatedCategory","FINANCIAL","CUSTOMER","LEARNING","PROCESS","renderGoalCards","goals","spacing","xs","md","lg","elevation","height","display","flexDirection","position","top","right","size","onClick","mr","fontSize","variant","gutterBottom","color","mb","minHeight","label","alignItems","component","width","fontWeight","mt","control","disabled","toLocaleDateString","justifyContent","icon","projectIds","total","reduce","sum","newTotal","startIcon","borderBottom","borderColor","onChange","open","onClose","maxWidth","fullWidth","required","multiline","rows","sm","select","values","InputLabelProps","shrink","margin","labelId","multiple","input","renderValue","selected","flexWrap","gap","MenuProps","PaperProps","style","maxHeight","some","primary","valueLabelDisplay","step","marks","min","max","paragraph","projectLink","_","_c2","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/GoalsPage.tsx"],"sourcesContent":["import React, { useState, useEffect, ReactNode, ChangeEvent, MouseEvent } from 'react';\nimport {\n  Typography,\n  Paper,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  MenuItem,\n  IconButton,\n  Box,\n  Chip,\n  LinearProgress,\n  Slider,\n  Tabs,\n  Tab,\n  FormControlLabel,\n  Switch,\n  Select,\n  FormControl,\n  InputLabel,\n  ListItemText,\n  Checkbox,\n  OutlinedInput,\n  SelectChangeEvent\n} from '@mui/material';\nimport { Add as AddIcon, Edit as EditIcon, Delete as DeleteIcon, Link as LinkIcon } from '@mui/icons-material';\nimport { GridContainer, GridItem } from '../components/common/MuiGridWrapper';\nimport { useTranslation } from 'react-i18next';\nimport api from '../services/api';\n\n// Enums used in this component\nenum GoalType {\n  STRATEGIC = 'STRATEGIC',\n  ANNUAL = 'ANNUAL',\n  QUARTERLY = 'QUARTERLY',\n  MONTHLY = 'MONTHLY'\n}\n\nenum GoalCategory {\n  PERFORMANCE = 'PERFORMANCE',\n  FINANCIAL = 'FINANCIAL',\n  CUSTOMER = 'CUSTOMER',\n  LEARNING = 'LEARNING',\n  PROCESS = 'PROCESS'\n}\n\nenum GoalStatus {\n  NOT_STARTED = 'NOT_STARTED',\n  IN_PROGRESS = 'IN_PROGRESS',\n  COMPLETED = 'COMPLETED',\n  ON_HOLD = 'ON_HOLD'\n}\n\n// Local interfaces\ninterface GoalInterface {\n  id: string;\n  title: string;\n  description: string;\n  type: GoalType;\n  category: GoalCategory;\n  status: GoalStatus;\n  progress: number;\n  startDate: string;\n  endDate: string;\n  assignedTo: string;\n  linkedProjects: ProjectWeight[];\n  isProgressAutoCalculated: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface ProjectWeight {\n  projectId: string;\n  weight: number; // Weight as a percentage (0-100)\n}\n\ninterface Project {\n  id: string;\n  name: string;\n  status: string;\n  progress: number;\n}\n\n// Tab panel component\ninterface TabPanelProps {\n  children?: ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`goals-tabpanel-${index}`}\n      aria-labelledby={`goals-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ pt: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nfunction a11yProps(index: number) {\n  return {\n    id: `goals-tab-${index}`,\n    'aria-controls': `goals-tabpanel-${index}`,\n  };\n}\n\nconst GoalsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const [tabValue, setTabValue] = useState(0);\n  const [strategicGoals, setStrategicGoals] = useState<GoalInterface[]>([]);\n  const [annualGoals, setAnnualGoals] = useState<GoalInterface[]>([]);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [currentGoal, setCurrentGoal] = useState<GoalInterface | null>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [projectWeights, setProjectWeights] = useState<{ [key: string]: number }>({});\n\n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchProjects = async () => {\n      setLoading(true);\n      try {\n        const response = await api.projects.getAllProjects('');\n        if (response.success) {\n          setProjects(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProjects();\n  }, []);\n\n  // Calculate a goal's progress based on the progress of its linked projects\n  const calculateGoalProgressFromProjects = (linkedProjectWeights: ProjectWeight[]): number => {\n    if (linkedProjectWeights.length === 0) return 0;\n    \n    let weightedProgress = 0;\n    let totalWeight = 0;\n    \n    linkedProjectWeights.forEach(projectWeight => {\n      const project = projects.find(p => p.id === projectWeight.projectId);\n      if (project) {\n        weightedProgress += (project.progress * projectWeight.weight);\n        totalWeight += projectWeight.weight;\n      }\n    });\n    \n    // Return weighted average, or 0 if no valid projects were found\n    return totalWeight > 0 ? Math.round(weightedProgress / totalWeight) : 0;\n  };\n\n  const handleTabChange = (_event: React.SyntheticEvent, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const handleOpenDialog = (goal: GoalInterface | null = null, editing = false) => {\n    setIsEditing(editing);\n    \n    if (goal) {\n      setCurrentGoal(goal);\n      \n      // Initialize project weights from existing linked projects\n      const weights: { [key: string]: number } = {};\n      goal.linkedProjects.forEach(link => {\n        weights[link.projectId] = link.weight;\n      });\n      setProjectWeights(weights);\n    } else {\n      // Create a new goal with default values\n      setCurrentGoal({\n        id: Date.now().toString(),\n        title: '',\n        description: '',\n        type: tabValue === 0 ? GoalType.STRATEGIC : GoalType.ANNUAL,\n        category: GoalCategory.PERFORMANCE,\n        status: GoalStatus.NOT_STARTED,\n        progress: 0,\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n        assignedTo: '',\n        linkedProjects: [],\n        isProgressAutoCalculated: false,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      });\n      setProjectWeights({});\n    }\n    \n    setOpenDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setCurrentGoal(null);\n    setIsEditing(false);\n    setProjectWeights({});\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setCurrentGoal(prevGoal => prevGoal ? { ...prevGoal, [name]: value } : null);\n  };\n\n  const handleSelectChange = (event: SelectChangeEvent<string>) => {\n    const { name, value } = event.target;\n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return prevGoal;\n      return { ...prevGoal, [name]: value };\n    });\n  };\n\n  const handleProgressChange = (event: Event, newValue: number | number[]) => {\n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return prevGoal;\n      return { ...prevGoal, progress: newValue as number };\n    });\n  };\n\n  const handleLinkedProjectsChange = (event: SelectChangeEvent<string[]>) => {\n    if (!currentGoal) return;\n    \n    const selectedProjectIds = event.target.value as string[];\n    \n    // Initialize weights for newly selected projects\n    const updatedWeights = { ...projectWeights };\n    \n    selectedProjectIds.forEach(projectId => {\n      // If this is a newly selected project, initialize its weight to a default value\n      if (!updatedWeights[projectId]) {\n        updatedWeights[projectId] = 100 / selectedProjectIds.length; // Default to equal weights\n      }\n    });\n    \n    // Remove weights for projects that are no longer selected\n    Object.keys(updatedWeights).forEach(projectId => {\n      if (!selectedProjectIds.includes(projectId)) {\n        delete updatedWeights[projectId];\n      }\n    });\n    \n    // Normalize weights to ensure they sum to 100%\n    normalizeWeights(updatedWeights);\n    setProjectWeights(updatedWeights);\n    \n    // Update the linked projects with new weights\n    const updatedLinkedProjects = selectedProjectIds.map(projectId => ({\n      projectId,\n      weight: updatedWeights[projectId]\n    }));\n    \n    setCurrentGoal({\n      ...currentGoal,\n      linkedProjects: updatedLinkedProjects\n    });\n  };\n\n  const handleAutoCalculateChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const isAutoCalculated = event.target.checked;\n    \n    setCurrentGoal(prevGoal => {\n      if (!prevGoal) return null;\n      \n      const updatedGoal = { ...prevGoal, isProgressAutoCalculated: isAutoCalculated };\n      \n      // If enabling auto-calculation, update the progress based on linked projects\n      if (isAutoCalculated) {\n        updatedGoal.progress = calculateGoalProgressFromProjects(prevGoal.linkedProjects.map(p => p));\n      }\n      \n      return updatedGoal;\n    });\n  };\n\n  const handleWeightChange = (projectId: string, newWeight: number) => {\n    if (!currentGoal) return;\n    \n    const updatedWeights = { ...projectWeights };\n    updatedWeights[projectId] = newWeight;\n    \n    // Ensure weights sum to 100%\n    normalizeWeights(updatedWeights);\n    setProjectWeights(updatedWeights);\n    \n    // Update linked projects with new weights\n    const updatedLinkedProjects = currentGoal.linkedProjects.map(project => \n      project.projectId === projectId \n        ? { ...project, weight: newWeight }\n        : { ...project, weight: updatedWeights[project.projectId] }\n    );\n    \n    setCurrentGoal({\n      ...currentGoal,\n      linkedProjects: updatedLinkedProjects\n    });\n  };\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    if (!currentGoal) return;\n    \n    // Ensure project weights are properly set before saving\n    const finalLinkedProjects = currentGoal.linkedProjects.map(project => ({\n      projectId: project.projectId,\n      weight: projectWeights[project.projectId] || 0\n    }));\n    \n    const finalGoal = {\n      ...currentGoal,\n      linkedProjects: finalLinkedProjects,\n      updatedAt: new Date().toISOString()\n    };\n    \n    // Save the goal\n    if (isEditing) {\n      // Update existing goal\n      if (currentGoal.type === GoalType.STRATEGIC) {\n        setStrategicGoals(prevGoals =>\n          prevGoals.map(goal => goal.id === currentGoal.id ? finalGoal : goal)\n        );\n      } else {\n        setAnnualGoals(prevGoals =>\n          prevGoals.map(goal => goal.id === currentGoal.id ? finalGoal : goal)\n        );\n      }\n    } else {\n      // Add new goal\n      if (finalGoal.type === GoalType.STRATEGIC) {\n        setStrategicGoals(prevGoals => [...prevGoals, finalGoal]);\n      } else {\n        setAnnualGoals(prevGoals => [...prevGoals, finalGoal]);\n      }\n    }\n    \n    setOpenDialog(false);\n    setCurrentGoal(null);\n    setProjectWeights({});\n  };\n\n  const handleDeleteGoal = (id: string) => {\n    if (tabValue === 0) {\n      setStrategicGoals(strategicGoals.filter(goal => goal.id !== id));\n    } else {\n      setAnnualGoals(annualGoals.filter(goal => goal.id !== id));\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case GoalStatus.NOT_STARTED:\n        return 'default';\n      case GoalStatus.IN_PROGRESS:\n        return 'primary';\n      case GoalStatus.COMPLETED:\n        return 'success';\n      case GoalStatus.ON_HOLD:\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n\n  const getTranslatedStatus = (status: string): string => {\n    switch (status) {\n      case GoalStatus.NOT_STARTED: return t('goals.notStarted');\n      case GoalStatus.IN_PROGRESS: return t('status.inProgress');\n      case GoalStatus.COMPLETED: return t('status.completed');\n      case GoalStatus.ON_HOLD: return t('status.onHold');\n      default: return status;\n    }\n  };\n\n  const getTranslatedCategory = (category: string): string => {\n    switch (category) {\n      case GoalCategory.PERFORMANCE: return t('goals.performance');\n      case GoalCategory.FINANCIAL: return t('goals.financial');\n      case GoalCategory.CUSTOMER: return t('goals.customer');\n      case GoalCategory.LEARNING: return t('goals.learning');\n      case GoalCategory.PROCESS: return t('goals.process');\n      default: return category;\n    }\n  };\n\n  const renderGoalCards = (goals: GoalInterface[]) => (\n    <GridContainer spacing={3}>\n      {goals.map(goal => (\n        <GridItem key={goal.id} xs={12} md={6} lg={4}>\n          <Paper \n            elevation={2} \n            sx={{ \n              p: 2, \n              height: '100%', \n              display: 'flex', \n              flexDirection: 'column',\n              position: 'relative'\n            }}\n          >\n            <Box sx={{ \n              position: 'absolute', \n              top: 10, \n              right: 10,\n              display: 'flex'\n            }}>\n              <IconButton \n                size=\"small\" \n                onClick={() => handleOpenDialog(goal, true)}\n                sx={{ mr: 1 }}\n              >\n                <EditIcon fontSize=\"small\" />\n              </IconButton>\n              <IconButton \n                size=\"small\" \n                onClick={() => handleDeleteGoal(goal.id)}\n              >\n                <DeleteIcon fontSize=\"small\" />\n              </IconButton>\n            </Box>\n            \n            <Typography variant=\"h6\" gutterBottom>\n              {goal.title}\n            </Typography>\n\n            <Typography \n              variant=\"body2\" \n              color=\"text.secondary\" \n              sx={{ mb: 2, minHeight: '40px' }}\n            >\n              {goal.description}\n            </Typography>\n            \n            <Box sx={{ mb: 2 }}>\n              <Chip \n                label={getTranslatedStatus(goal.status)} \n                size=\"small\" \n                sx={{ mr: 1, mb: 1 }}\n                color={getStatusColor(goal.status)}\n              />\n              <Chip \n                label={getTranslatedCategory(goal.category)} \n                size=\"small\"\n                sx={{ mb: 1 }}\n                variant=\"outlined\"\n              />\n            </Box>\n            \n            <Box sx={{ mb: 1 }}>\n              <Typography variant=\"body2\" display=\"flex\" alignItems=\"center\">\n                <Box component=\"span\" sx={{ width: '50%', fontWeight: 'bold', mr: 1 }}>\n                  {t('goals.progress')}:\n                </Box>\n                <Box component=\"span\" sx={{ width: '50%' }}>\n                  {goal.progress}%\n                </Box>\n              </Typography>\n              <LinearProgress \n                variant=\"determinate\" \n                value={goal.progress} \n                sx={{ mt: 1, mb: 1 }}\n              />\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                <FormControlLabel\n                  control={<Checkbox checked={goal.isProgressAutoCalculated} size=\"small\" disabled />}\n                  label={t('goals.autoCalculated')}\n                  sx={{ '& .MuiFormControlLabel-label': { fontSize: '0.75rem' } }}\n                />\n              </Typography>\n            </Box>\n            \n            <Box sx={{ mb: 1 }}>\n              <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                {t('timeline')}:\n              </Typography>\n              <Typography variant=\"body2\">\n                {new Date(goal.startDate).toLocaleDateString()} - {new Date(goal.endDate).toLocaleDateString()}\n              </Typography>\n            </Box>\n            \n            <Box sx={{ mt: 'auto', pt: 1 }}>\n              <Typography variant=\"body2\">\n                {t('goals.assignedTo')}: {goal.assignedTo}\n              </Typography>\n            </Box>\n            \n            {goal.linkedProjects.length > 0 && (\n              <Box sx={{ mt: 2 }}>\n                <Typography variant=\"body2\" sx={{ fontWeight: 'bold', mb: 1 }}>\n                  {t('goals.linkedProjects')}:\n                </Typography>\n                {goal.linkedProjects.map((projectWeight) => {\n                  const project = projects.find(p => p.id === projectWeight.projectId);\n                  return (\n                    <Box key={projectWeight.projectId} sx={{ \n                      display: 'flex', \n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      mb: 0.5 \n                    }}>\n                      <Chip\n                        icon={<LinkIcon fontSize=\"small\" />}\n                        label={project ? project.name : projectWeight.projectId}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        sx={{ mr: 1 }}\n                      />\n                      <Typography variant=\"caption\" sx={{ fontWeight: 'medium' }}>\n                        {projectWeight.weight}%\n                      </Typography>\n                    </Box>\n                  );\n                })}\n              </Box>\n            )}\n          </Paper>\n        </GridItem>\n      ))}\n    </GridContainer>\n  );\n\n  // Function to normalize weights to sum to 100%\n  const normalizeWeights = (weights: { [key: string]: number }) => {\n    const projectIds = Object.keys(weights);\n    if (projectIds.length === 0) return;\n    \n    // Calculate the total of all weights\n    const total = projectIds.reduce((sum, id) => sum + weights[id], 0);\n    \n    // If the total is not 100, normalize\n    if (total !== 100 && total !== 0) {\n      projectIds.forEach(id => {\n        weights[id] = Math.round((weights[id] / total) * 100);\n      });\n      \n      // Handle any rounding errors to ensure the sum is exactly 100\n      const newTotal = projectIds.reduce((sum, id) => sum + weights[id], 0);\n      if (newTotal !== 100) {\n        weights[projectIds[0]] += (100 - newTotal);\n      }\n    }\n  };\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 3, alignItems: 'center' }}>\n        <Typography variant=\"h4\">{t('navigation.goals')}</Typography>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={() => handleOpenDialog()}\n        >\n          {t('goals.add')}\n        </Button>\n      </Box>\n\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tabs value={tabValue} onChange={handleTabChange} aria-label=\"goal types\">\n          <Tab label={t('goals.strategic')} {...a11yProps(0)} />\n          <Tab label={t('goals.annual')} {...a11yProps(1)} />\n        </Tabs>\n      </Box>\n      \n      <TabPanel value={tabValue} index={0}>\n        {renderGoalCards(strategicGoals)}\n      </TabPanel>\n      \n      <TabPanel value={tabValue} index={1}>\n        {renderGoalCards(annualGoals)}\n      </TabPanel>\n\n      {/* Goal Edit/Create Dialog */}\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          {isEditing \n            ? t('goals.edit')\n            : `${t('goals.addNew')} ${tabValue === 0 ? t('goals.strategic') : t('goals.annual')} ${t('goals.goal')}`}\n        </DialogTitle>\n        <DialogContent>\n          <GridContainer spacing={2} sx={{ mt: 1 }}>\n            <GridItem xs={12}>\n              <TextField\n                label={t('goals.title')}\n                name=\"title\"\n                value={currentGoal?.title || ''}\n                onChange={handleChange}\n                fullWidth\n                required\n              />\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <TextField\n                label={t('common.description')}\n                name=\"description\"\n                value={currentGoal?.description || ''}\n                onChange={handleChange}\n                fullWidth\n                multiline\n                rows={3}\n              />\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <TextField\n                select\n                label={t('goals.category')}\n                name=\"category\"\n                value={currentGoal?.category || GoalCategory.PERFORMANCE}\n                onChange={handleSelectChange as any}\n                fullWidth\n              >\n                {Object.values(GoalCategory).map((category) => (\n                  <MenuItem key={category} value={category}>\n                    {getTranslatedCategory(category as string)}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <TextField\n                select\n                label={t('status.status')}\n                name=\"status\"\n                value={currentGoal?.status || GoalStatus.NOT_STARTED}\n                onChange={handleSelectChange as any}\n                fullWidth\n              >\n                {Object.values(GoalStatus).map((status) => (\n                  <MenuItem key={status} value={status}>\n                    {getTranslatedStatus(status as string)}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <TextField\n                label={t('common.startDate')}\n                name=\"startDate\"\n                type=\"date\"\n                value={currentGoal?.startDate || ''}\n                onChange={handleChange}\n                fullWidth\n                InputLabelProps={{ shrink: true }}\n              />\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <TextField\n                label={t('common.endDate')}\n                name=\"endDate\"\n                type=\"date\"\n                value={currentGoal?.endDate || ''}\n                onChange={handleChange}\n                fullWidth\n                InputLabelProps={{ shrink: true }}\n              />\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <TextField\n                label={t('goals.assignedTo')}\n                name=\"assignedTo\"\n                value={currentGoal?.assignedTo || ''}\n                onChange={handleChange}\n                fullWidth\n              />\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <FormControl fullWidth margin=\"normal\">\n                <InputLabel id=\"linked-projects-label\">{t('goals.linkedProjects')}</InputLabel>\n                <Select\n                  labelId=\"linked-projects-label\"\n                  multiple\n                  value={currentGoal?.linkedProjects.map(p => p.projectId) || []}\n                  onChange={handleLinkedProjectsChange}\n                  input={<OutlinedInput label={t('goals.linkedProjects')} />}\n                  renderValue={(selected) => (\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                      {selected.map((value) => {\n                        const project = projects.find(p => p.id === value);\n                        return (\n                          <Chip \n                            key={value} \n                            label={project ? project.name : value} \n                            size=\"small\" \n                          />\n                        );\n                      })}\n                    </Box>\n                  )}\n                  MenuProps={{\n                    PaperProps: {\n                      style: {\n                        maxHeight: 224,\n                        width: 250,\n                      },\n                    },\n                  }}\n                >\n                  {projects.map((project) => (\n                    <MenuItem key={project.id} value={project.id}>\n                      <Checkbox checked={currentGoal?.linkedProjects.some(p => p.projectId === project.id) || false} />\n                      <ListItemText primary={project.name} />\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={currentGoal?.isProgressAutoCalculated || false}\n                    onChange={handleAutoCalculateChange}\n                    name=\"isProgressAutoCalculated\"\n                  />\n                }\n                label={t('goals.autoCalculateProgress')}\n              />\n              <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                {t('goals.autoCalculateDescription')}\n              </Typography>\n            </GridItem>\n            \n            {!currentGoal?.isProgressAutoCalculated && (\n              <GridItem xs={12}>\n                <Typography id=\"progress-slider\" gutterBottom>\n                  {t('project.progress')}: {currentGoal?.progress || 0}%\n                </Typography>\n                <Slider\n                  value={currentGoal?.progress || 0}\n                  onChange={handleProgressChange}\n                  aria-labelledby=\"progress-slider\"\n                  valueLabelDisplay=\"auto\"\n                  step={5}\n                  marks\n                  min={0}\n                  max={100}\n                />\n              </GridItem>\n            )}\n            \n            {/* Project Weights Section */}\n            {currentGoal?.linkedProjects && currentGoal.linkedProjects.length > 0 && (\n              <Box sx={{ mt: 2 }}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  {t('Project Weights')}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\" paragraph>\n                  {t('Adjust the weight of each project\\'s contribution to this goal. Weights will automatically balance to 100%.')}\n                </Typography>\n                \n                {currentGoal?.linkedProjects && currentGoal.linkedProjects.map((projectLink) => {\n                  const project = projects.find(p => p.id === projectLink.projectId);\n                  return (\n                    <Box key={projectLink.projectId} sx={{ mb: 2 }}>\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <Typography variant=\"body2\">\n                          {project ? project.name : projectLink.projectId}\n                        </Typography>\n                        <Typography variant=\"body2\" fontWeight=\"medium\">\n                          {projectWeights[projectLink.projectId] || projectLink.weight}%\n                        </Typography>\n                      </Box>\n                      <Slider\n                        value={projectWeights[projectLink.projectId] || projectLink.weight}\n                        onChange={(_, newValue) => handleWeightChange(projectLink.projectId, newValue as number)}\n                        aria-labelledby=\"project-weight-slider\"\n                        valueLabelDisplay=\"auto\"\n                        step={5}\n                        marks\n                        min={5}\n                        max={100}\n                      />\n                    </Box>\n                  );\n                })}\n              </Box>\n            )}\n          </GridContainer>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog}>{t('common.cancel')}</Button>\n          <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\n            {isEditing ? t('common.update') : t('common.create')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default GoalsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}