{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Project/AddProjectDialog.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, TextField, Button, FormControl, InputLabel, Select, MenuItem, Box, FormHelperText, Typography, IconButton, List, ListItem, ListItemText, Paper, Alert, AlertTitle, ListItemIcon, CircularProgress, Divider, InputAdornment } from '@mui/material';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider, DatePicker } from '@mui/x-date-pickers';\nimport { ProjectStatus, ProjectPriority, ProjectTemplateType } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport api from '../../services/api';\nimport { useTranslation } from 'react-i18next';\nimport { CalendarMonth as CalendarIcon, Business as BusinessIcon, Person as PersonIcon, PriorityHigh as PriorityIcon } from '@mui/icons-material';\nimport { GridItem, GridContainer } from '../../components/common/MuiGridWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FILE_SIZE_LIMIT = 10 * 1024 * 1024; // 10MB\nconst ALLOWED_FILE_TYPES = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'image/jpeg', 'image/png', 'image/gif', 'text/plain'];\nconst AddProjectDialog = ({\n  open,\n  onClose,\n  onProjectAdded,\n  departments,\n  users\n}) => {\n  _s();\n  const {\n    token\n  } = useAuth();\n  const fileInputRef = useRef(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [attachments, setAttachments] = useState([]);\n  const [attachmentErrors, setAttachmentErrors] = useState([]);\n  const {\n    t\n  } = useTranslation();\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n    // Default to 30 days from now\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    client: '',\n    teamMembers: [],\n    priority: ProjectPriority.MEDIUM,\n    templateType: ProjectTemplateType.DEFAULT\n  });\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when field is edited\n    if (formErrors[name]) {\n      setFormErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n  const handleNumberInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const numValue = parseFloat(value);\n    if (!isNaN(numValue) || value === '') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value === '' ? 0 : numValue\n      }));\n    }\n  };\n  const handleSelectChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleStartDateChange = date => {\n    if (date) {\n      setFormData(prev => ({\n        ...prev,\n        startDate: date\n      }));\n    }\n  };\n  const handleEndDateChange = date => {\n    if (date) {\n      setFormData(prev => ({\n        ...prev,\n        endDate: date\n      }));\n    }\n  };\n  const handleFileUploadClick = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n  const validateFile = file => {\n    // Check file size\n    if (file.size > FILE_SIZE_LIMIT) {\n      return `File size exceeds ${FILE_SIZE_LIMIT / (1024 * 1024)}MB limit`;\n    }\n\n    // Check file type\n    if (!ALLOWED_FILE_TYPES.includes(file.type)) {\n      return 'File type not supported';\n    }\n    return null;\n  };\n  const handleFileChange = e => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const newFiles = Array.from(files);\n      const errors = [];\n\n      // Validate each file\n      const validFiles = newFiles.filter((file, index) => {\n        const error = validateFile(file);\n        if (error) {\n          errors.push(`${file.name}: ${error}`);\n          return false;\n        }\n        return true;\n      });\n      setAttachments(prev => [...prev, ...validFiles]);\n      setAttachmentErrors(errors);\n\n      // Clear the input so the same file can be selected again if needed\n      e.target.value = '';\n    }\n  };\n  const handleRemoveAttachment = index => {\n    setAttachments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Format file size for display\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  // Get icon for file type\n  const getFileIcon = fileType => {\n    if (fileType.includes('pdf')) {\n      return /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n        color: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 14\n      }, this);\n    } else if (fileType.includes('image')) {\n      return /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 14\n      }, this);\n    } else if (fileType.includes('word') || fileType.includes('document')) {\n      return /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n        color: \"info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 14\n      }, this);\n    } else if (fileType.includes('excel') || fileType.includes('sheet')) {\n      return /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n        color: \"success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Add handler for team members selection\n  const handleTeamMembersChange = event => {\n    const {\n      value\n    } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      teamMembers: typeof value === 'string' ? value.split(',') : value\n    }));\n  };\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.name.trim()) {\n      errors.name = t('validation.required');\n    }\n    if (!formData.departmentId) {\n      errors.departmentId = t('validation.required');\n    }\n    if (!formData.projectManagerId) {\n      errors.projectManagerId = t('validation.required');\n    }\n    if (!formData.client.trim()) {\n      errors.client = t('validation.required');\n    }\n    if (formData.startDate > formData.endDate) {\n      errors.endDate = t('validation.endDateAfterStart');\n    }\n    if (formData.budget < 0) {\n      errors.budget = t('validation.invalidNumber');\n    }\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleSubmit = async () => {\n    if (!validateForm()) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      var _projectResponse$data;\n      // Find the selected project manager\n      const selectedProjectManager = users.find(u => u.id === formData.projectManagerId);\n      const selectedDepartment = departments.find(d => d.id === formData.departmentId);\n\n      // Create project data\n      const projectData = {\n        name: formData.name,\n        description: formData.description,\n        status: formData.status,\n        priority: formData.priority,\n        startDate: formData.startDate.toISOString().split('T')[0],\n        endDate: formData.endDate.toISOString().split('T')[0],\n        department: selectedDepartment,\n        budget: formData.budget,\n        actualCost: 0,\n        projectManager: selectedProjectManager,\n        teamMembers: formData.teamMembers,\n        client: formData.client,\n        progress: 0,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        templateType: formData.templateType\n      };\n\n      // First, clear localStorage to avoid any inconsistencies\n      localStorage.removeItem('themis_projects');\n      const projectResponse = await api.projects.createProject(projectData, token || '');\n\n      // If we have attachments, upload them\n      if (attachments.length > 0 && (_projectResponse$data = projectResponse.data) !== null && _projectResponse$data !== void 0 && _projectResponse$data.id) {\n        const projectId = projectResponse.data.id;\n        const uploadPromises = attachments.map(file => {\n          const formData = new FormData();\n          formData.append('file', file);\n          return api.projects.uploadAttachment(projectId, formData, token || '');\n        });\n        await Promise.all(uploadPromises);\n      }\n\n      // Check if we have a project response with data\n      if (projectResponse.data) {\n        // Force update localStorage before proceeding\n        const existingProjects = JSON.parse(localStorage.getItem('themis_projects') || '[]');\n        localStorage.setItem('themis_projects', JSON.stringify([...existingProjects, {\n          ...projectResponse.data,\n          templateType: ProjectTemplateType.DEFAULT\n        }]));\n        onProjectAdded(projectResponse.data);\n        onClose();\n      } else {\n        throw new Error('No project data returned from API');\n      }\n    } catch (error) {\n      console.error('Error creating project:', error);\n      setFormErrors(prev => ({\n        ...prev,\n        submit: 'Failed to create project. Please try again.'\n      }));\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const getProjectManagers = () => {\n    return users.filter(user => user.role === 'PROJECT_MANAGER' || user.role === 'SUB_PMO' || user.role === 'MAIN_PMO');\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"div\",\n        fontWeight: \"bold\",\n        children: t('project.addNew')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          mt: 0.5\n        },\n        children: t('project.fillDetails')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        noValidate: true,\n        autoComplete: \"off\",\n        children: /*#__PURE__*/_jsxDEV(GridContainer, {\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('project.name'),\n              name: \"name\",\n              value: formData.name,\n              onChange: handleInputChange,\n              fullWidth: true,\n              required: true,\n              error: !!formErrors.name,\n              helperText: formErrors.name,\n              InputProps: {\n                sx: {\n                  borderRadius: 1.5\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('project.description'),\n              name: \"description\",\n              value: formData.description,\n              onChange: handleInputChange,\n              fullWidth: true,\n              required: true,\n              multiline: true,\n              rows: 3,\n              error: !!formErrors.description,\n              helperText: formErrors.description,\n              InputProps: {\n                sx: {\n                  borderRadius: 1.5\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n              dateAdapter: AdapterDateFns,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: t('project.startDate'),\n                value: formData.startDate,\n                onChange: handleStartDateChange,\n                slotProps: {\n                  textField: {\n                    fullWidth: true,\n                    required: true,\n                    error: !!formErrors.startDate,\n                    helperText: formErrors.startDate,\n                    InputProps: {\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                          color: \"action\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 27\n                      }, this),\n                      sx: {\n                        borderRadius: 1.5\n                      }\n                    }\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n              dateAdapter: AdapterDateFns,\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                label: t('project.endDate'),\n                value: formData.endDate,\n                onChange: handleEndDateChange,\n                minDate: formData.startDate || undefined,\n                slotProps: {\n                  textField: {\n                    fullWidth: true,\n                    required: true,\n                    error: !!formErrors.endDate,\n                    helperText: formErrors.endDate,\n                    InputProps: {\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                          color: \"action\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 443,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 27\n                      }, this),\n                      sx: {\n                        borderRadius: 1.5\n                      }\n                    }\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              error: !!formErrors.departmentId,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"department-label\",\n                children: t('project.department')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"departmentId\",\n                value: formData.departmentId,\n                label: t('project.department'),\n                onChange: handleSelectChange,\n                required: true,\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(BusinessIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this),\n                sx: {\n                  borderRadius: 1.5\n                },\n                children: departments.map(dept => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: dept.id,\n                  children: dept.name\n                }, dept.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), formErrors.departmentId && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: formErrors.departmentId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              error: !!formErrors.projectManagerId,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"manager-label\",\n                children: t('project.projectManager')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"projectManagerId\",\n                value: formData.projectManagerId,\n                label: t('project.projectManager'),\n                onChange: handleSelectChange,\n                required: true,\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(PersonIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this),\n                sx: {\n                  borderRadius: 1.5\n                },\n                children: getProjectManagers().map(pm => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: pm.id,\n                  children: `${pm.firstName} ${pm.lastName}`\n                }, pm.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 17\n              }, this), formErrors.projectManagerId && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: formErrors.projectManagerId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('project.budget'),\n              name: \"budget\",\n              type: \"number\",\n              value: formData.budget,\n              onChange: handleNumberInputChange,\n              fullWidth: true,\n              required: true,\n              error: !!formErrors.budget,\n              helperText: formErrors.budget,\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: \"$\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 35\n                }, this),\n                sx: {\n                  borderRadius: 1.5\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"status-label\",\n                children: t('project.status')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"status\",\n                value: formData.status,\n                label: t('project.status'),\n                onChange: handleSelectChange,\n                required: true,\n                sx: {\n                  borderRadius: 1.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectStatus.PLANNING,\n                  children: t('projectStatus.PLANNING')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectStatus.IN_PROGRESS,\n                  children: t('projectStatus.IN_PROGRESS')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectStatus.ON_HOLD,\n                  children: t('projectStatus.ON_HOLD')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"priority-label\",\n                children: t('project.priority')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                name: \"priority\",\n                value: formData.priority,\n                label: t('project.priority'),\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  priority: e.target.value\n                })),\n                required: true,\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(PriorityIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this),\n                sx: {\n                  borderRadius: 1.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectPriority.LOW,\n                  children: t('projectPriority.LOW')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectPriority.MEDIUM,\n                  children: t('projectPriority.MEDIUM')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectPriority.HIGH,\n                  children: t('projectPriority.HIGH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: ProjectPriority.CRITICAL,\n                  children: t('projectPriority.CRITICAL')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              label: t('project.client'),\n              name: \"client\",\n              value: formData.client,\n              onChange: handleInputChange,\n              fullWidth: true,\n              required: true,\n              error: !!formErrors.client,\n              helperText: formErrors.client,\n              InputProps: {\n                sx: {\n                  borderRadius: 1.5\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              children: t('project.attachments')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: t('project.supportedTypes')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              style: {\n                display: 'none'\n              },\n              onChange: handleFileChange,\n              multiple: true,\n              accept: \".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Paper, {\n              variant: \"outlined\",\n              sx: {\n                p: 2,\n                mb: 2,\n                textAlign: 'center',\n                cursor: 'pointer',\n                backgroundColor: 'rgba(0, 0, 0, 0.02)'\n              },\n              onClick: handleFileUploadClick,\n              children: [/*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mt: 1\n                },\n                children: t('project.clickToSelect')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this), attachmentErrors.length > 0 && /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n                children: t('project.errorUploading')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                style: {\n                  margin: 0,\n                  paddingLeft: '1rem'\n                },\n                children: attachmentErrors.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: error\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this), attachments.length > 0 && /*#__PURE__*/_jsxDEV(List, {\n              dense: true,\n              children: attachments.map((file, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                secondaryAction: /*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"end\",\n                  \"aria-label\": \"delete\",\n                  onClick: () => handleRemoveAttachment(index),\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 25\n                }, this),\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: getFileIcon(file.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: file.name,\n                  secondary: formatFileSize(file.size)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), formErrors.submit && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mt: 2\n        },\n        children: formErrors.submit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        disabled: isSubmitting,\n        children: t('common.cancel')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        variant: \"contained\",\n        disabled: isSubmitting,\n        startIcon: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 37\n        }, this) : null,\n        children: isSubmitting ? t('common.creating') : t('common.create')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n};\n_s(AddProjectDialog, \"JLAyczryIRq/2d0HsqmqHE5Hb2Y=\", false, function () {\n  return [useAuth, useTranslation];\n});\n_c = AddProjectDialog;\nexport default AddProjectDialog;\nvar _c;\n$RefreshReg$(_c, \"AddProjectDialog\");","map":{"version":3,"names":["React","useState","useRef","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","FormControl","InputLabel","Select","MenuItem","Box","FormHelperText","Typography","IconButton","List","ListItem","ListItemText","Paper","Alert","AlertTitle","ListItemIcon","CircularProgress","Divider","InputAdornment","AdapterDateFns","LocalizationProvider","DatePicker","ProjectStatus","ProjectPriority","ProjectTemplateType","useAuth","CloudUploadIcon","DeleteIcon","DescriptionIcon","api","useTranslation","CalendarMonth","CalendarIcon","Business","BusinessIcon","Person","PersonIcon","PriorityHigh","PriorityIcon","GridItem","GridContainer","jsxDEV","_jsxDEV","FILE_SIZE_LIMIT","ALLOWED_FILE_TYPES","AddProjectDialog","open","onClose","onProjectAdded","departments","users","_s","token","fileInputRef","isSubmitting","setIsSubmitting","formErrors","setFormErrors","attachments","setAttachments","attachmentErrors","setAttachmentErrors","t","formData","setFormData","name","description","departmentId","startDate","Date","endDate","now","status","PLANNING","projectManagerId","budget","client","teamMembers","priority","MEDIUM","templateType","DEFAULT","handleInputChange","e","value","target","prev","newErrors","handleNumberInputChange","numValue","parseFloat","isNaN","handleSelectChange","handleStartDateChange","date","handleEndDateChange","handleFileUploadClick","current","click","validateFile","file","size","includes","type","handleFileChange","files","length","newFiles","Array","from","errors","validFiles","filter","index","error","push","handleRemoveAttachment","_","i","formatFileSize","bytes","k","sizes","Math","floor","log","pow","toFixed","getFileIcon","fileType","color","fileName","_jsxFileName","lineNumber","columnNumber","handleTeamMembersChange","event","split","validateForm","trim","Object","keys","handleSubmit","_projectResponse$data","selectedProjectManager","find","u","id","selectedDepartment","d","projectData","toISOString","department","actualCost","projectManager","progress","createdAt","updatedAt","localStorage","removeItem","projectResponse","projects","createProject","data","projectId","uploadPromises","map","FormData","append","uploadAttachment","Promise","all","existingProjects","JSON","parse","getItem","setItem","stringify","Error","console","submit","getProjectManagers","user","role","maxWidth","fullWidth","children","variant","component","fontWeight","sx","mt","noValidate","autoComplete","spacing","xs","label","onChange","required","helperText","InputProps","borderRadius","multiline","rows","sm","dateAdapter","slotProps","textField","startAdornment","position","minDate","undefined","dept","pm","firstName","lastName","IN_PROGRESS","ON_HOLD","LOW","HIGH","CRITICAL","gutterBottom","ref","style","display","multiple","accept","p","mb","textAlign","cursor","backgroundColor","onClick","severity","margin","paddingLeft","dense","secondaryAction","edge","primary","secondary","disabled","startIcon","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Project/AddProjectDialog.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { \n  Dialog, \n  DialogTitle, \n  DialogContent, \n  DialogActions, \n  TextField,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Box,\n  Stack,\n  FormHelperText,\n  Typography,\n  SelectChangeEvent,\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  Paper,\n  OutlinedInput,\n  Checkbox,\n  ListItemAvatar,\n  Alert,\n  AlertTitle,\n  ListItemIcon,\n  CircularProgress,\n  Grid,\n  Divider,\n  InputAdornment\n} from '@mui/material';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider, DatePicker } from '@mui/x-date-pickers';\nimport { ProjectStatus, User, ProjectPriority, ProjectTemplateType } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport api from '../../services/api';\nimport { useTranslation } from 'react-i18next';\nimport { \n  CalendarMonth as CalendarIcon,\n  Business as BusinessIcon,\n  Person as PersonIcon,\n  PriorityHigh as PriorityIcon\n} from '@mui/icons-material';\nimport { GridItem, GridContainer } from '../../components/common/MuiGridWrapper';\nimport { Project, Department } from '../../types';\nimport { mockProjects } from '../../services/mockData';\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface ApiResponse<T> {\n  data: T;\n  success: boolean;\n  message?: string;\n}\n\ninterface ProjectResponse {\n  id: string;\n  name: string;\n  [key: string]: any;\n}\n\ninterface AddProjectDialogProps {\n  open: boolean;\n  onClose: () => void;\n  onProjectAdded: (project: Project) => void;\n  departments: Department[];\n  users: User[];\n}\n\nconst FILE_SIZE_LIMIT = 10 * 1024 * 1024; // 10MB\nconst ALLOWED_FILE_TYPES = [\n  'application/pdf',\n  'application/msword',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  'application/vnd.ms-excel',\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  'image/jpeg',\n  'image/png',\n  'image/gif',\n  'text/plain'\n];\n\nconst AddProjectDialog: React.FC<AddProjectDialogProps> = ({ \n  open, \n  onClose, \n  onProjectAdded,\n  departments,\n  users\n}) => {\n  const { token } = useAuth();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\n  const [attachments, setAttachments] = useState<File[]>([]);\n  const [attachmentErrors, setAttachmentErrors] = useState<string[]>([]);\n  const { t } = useTranslation();\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // Default to 30 days from now\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    client: '',\n    teamMembers: [] as string[],\n    priority: ProjectPriority.MEDIUM,\n    templateType: ProjectTemplateType.DEFAULT\n  });\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Clear error when field is edited\n    if (formErrors[name]) {\n      setFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleNumberInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    const numValue = parseFloat(value);\n    if (!isNaN(numValue) || value === '') {\n      setFormData(prev => ({ ...prev, [name]: value === '' ? 0 : numValue }));\n    }\n  };\n\n  const handleSelectChange = (e: SelectChangeEvent<string>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleStartDateChange = (date: Date | null) => {\n    if (date) {\n      setFormData(prev => ({ ...prev, startDate: date }));\n    }\n  };\n\n  const handleEndDateChange = (date: Date | null) => {\n    if (date) {\n      setFormData(prev => ({ ...prev, endDate: date }));\n    }\n  };\n\n  const handleFileUploadClick = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n\n  const validateFile = (file: File): string | null => {\n    // Check file size\n    if (file.size > FILE_SIZE_LIMIT) {\n      return `File size exceeds ${FILE_SIZE_LIMIT / (1024 * 1024)}MB limit`;\n    }\n    \n    // Check file type\n    if (!ALLOWED_FILE_TYPES.includes(file.type)) {\n      return 'File type not supported';\n    }\n    \n    return null;\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const newFiles = Array.from(files);\n      const errors: string[] = [];\n      \n      // Validate each file\n      const validFiles = newFiles.filter((file, index) => {\n        const error = validateFile(file);\n        if (error) {\n          errors.push(`${file.name}: ${error}`);\n          return false;\n        }\n        return true;\n      });\n      \n      setAttachments(prev => [...prev, ...validFiles]);\n      setAttachmentErrors(errors);\n      \n      // Clear the input so the same file can be selected again if needed\n      e.target.value = '';\n    }\n  };\n\n  const handleRemoveAttachment = (index: number) => {\n    setAttachments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Format file size for display\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  // Get icon for file type\n  const getFileIcon = (fileType: string) => {\n    if (fileType.includes('pdf')) {\n      return <DescriptionIcon color=\"error\" />;\n    } else if (fileType.includes('image')) {\n      return <DescriptionIcon color=\"primary\" />;\n    } else if (fileType.includes('word') || fileType.includes('document')) {\n      return <DescriptionIcon color=\"info\" />;\n    } else if (fileType.includes('excel') || fileType.includes('sheet')) {\n      return <DescriptionIcon color=\"success\" />;\n    }\n    return <DescriptionIcon />;\n  };\n\n  // Add handler for team members selection\n  const handleTeamMembersChange = (event: SelectChangeEvent<string[]>) => {\n    const { value } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      teamMembers: typeof value === 'string' ? value.split(',') : value\n    }));\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Record<string, string> = {};\n    \n    if (!formData.name.trim()) {\n      errors.name = t('validation.required');\n    }\n    \n    if (!formData.departmentId) {\n      errors.departmentId = t('validation.required');\n    }\n    \n    if (!formData.projectManagerId) {\n      errors.projectManagerId = t('validation.required');\n    }\n    \n    if (!formData.client.trim()) {\n      errors.client = t('validation.required');\n    }\n    \n    if (formData.startDate > formData.endDate) {\n      errors.endDate = t('validation.endDateAfterStart');\n    }\n    \n    if (formData.budget < 0) {\n      errors.budget = t('validation.invalidNumber');\n    }\n    \n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateForm()) {\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      // Find the selected project manager\n      const selectedProjectManager = users.find(u => u.id === formData.projectManagerId);\n      const selectedDepartment = departments.find(d => d.id === formData.departmentId);\n      \n      // Create project data\n      const projectData = {\n        name: formData.name,\n        description: formData.description,\n        status: formData.status,\n        priority: formData.priority,\n        startDate: formData.startDate.toISOString().split('T')[0],\n        endDate: formData.endDate.toISOString().split('T')[0],\n        department: selectedDepartment,\n        budget: formData.budget,\n        actualCost: 0,\n        projectManager: selectedProjectManager,\n        teamMembers: formData.teamMembers,\n        client: formData.client,\n        progress: 0,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        templateType: formData.templateType\n      };\n      \n      // First, clear localStorage to avoid any inconsistencies\n      localStorage.removeItem('themis_projects');\n      \n      const projectResponse = await api.projects.createProject(projectData, token || '');\n      \n      // If we have attachments, upload them\n      if (attachments.length > 0 && projectResponse.data?.id) {\n        const projectId = projectResponse.data.id;\n        const uploadPromises = attachments.map(file => {\n          const formData = new FormData();\n          formData.append('file', file);\n          return api.projects.uploadAttachment(projectId, formData, token || '');\n        });\n        \n        await Promise.all(uploadPromises);\n      }\n      \n      // Check if we have a project response with data\n      if (projectResponse.data) {\n        // Force update localStorage before proceeding\n        const existingProjects = JSON.parse(localStorage.getItem('themis_projects') || '[]');\n        localStorage.setItem('themis_projects', JSON.stringify([\n          ...existingProjects,\n          { ...projectResponse.data, templateType: ProjectTemplateType.DEFAULT }\n        ]));\n        \n        onProjectAdded(projectResponse.data as Project);\n        onClose();\n      } else {\n        throw new Error('No project data returned from API');\n      }\n    } catch (error) {\n      console.error('Error creating project:', error);\n      setFormErrors(prev => ({ \n        ...prev, \n        submit: 'Failed to create project. Please try again.' \n      }));\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getProjectManagers = () => {\n    return users.filter(user => \n      user.role === 'PROJECT_MANAGER' || \n      user.role === 'SUB_PMO' || \n      user.role === 'MAIN_PMO'\n    );\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        <Typography variant=\"h5\" component=\"div\" fontWeight=\"bold\">\n          {t('project.addNew')}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 0.5 }}>\n          {t('project.fillDetails')}\n        </Typography>\n      </DialogTitle>\n      \n      <Divider />\n      \n      <DialogContent>\n        <Box component=\"form\" noValidate autoComplete=\"off\">\n          <GridContainer spacing={3}>\n            <GridItem xs={12}>\n              <TextField\n                label={t('project.name')}\n                name=\"name\"\n                value={formData.name}\n                onChange={handleInputChange}\n                fullWidth\n                required\n                error={!!formErrors.name}\n                helperText={formErrors.name}\n                InputProps={{\n                  sx: { borderRadius: 1.5 }\n                }}\n              />\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <TextField\n                label={t('project.description')}\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                fullWidth\n                required\n                multiline\n                rows={3}\n                error={!!formErrors.description}\n                helperText={formErrors.description}\n                InputProps={{\n                  sx: { borderRadius: 1.5 }\n                }}\n              />\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <DatePicker\n                  label={t('project.startDate')}\n                  value={formData.startDate}\n                  onChange={handleStartDateChange}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      required: true,\n                      error: !!formErrors.startDate,\n                      helperText: formErrors.startDate,\n                      InputProps: {\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <CalendarIcon color=\"action\" />\n                          </InputAdornment>\n                        ),\n                        sx: { borderRadius: 1.5 }\n                      }\n                    }\n                  }}\n                />\n              </LocalizationProvider>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <LocalizationProvider dateAdapter={AdapterDateFns}>\n                <DatePicker\n                  label={t('project.endDate')}\n                  value={formData.endDate}\n                  onChange={handleEndDateChange}\n                  minDate={formData.startDate || undefined}\n                  slotProps={{\n                    textField: {\n                      fullWidth: true,\n                      required: true,\n                      error: !!formErrors.endDate,\n                      helperText: formErrors.endDate,\n                      InputProps: {\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <CalendarIcon color=\"action\" />\n                          </InputAdornment>\n                        ),\n                        sx: { borderRadius: 1.5 }\n                      }\n                    }\n                  }}\n                />\n              </LocalizationProvider>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <FormControl \n                fullWidth \n                required\n                error={!!formErrors.departmentId}\n              >\n                <InputLabel id=\"department-label\">\n                  {t('project.department')}\n                </InputLabel>\n                <Select\n                  name=\"departmentId\"\n                  value={formData.departmentId}\n                  label={t('project.department')}\n                  onChange={handleSelectChange}\n                  required\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <BusinessIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  sx={{ borderRadius: 1.5 }}\n                >\n                  {departments.map((dept) => (\n                    <MenuItem key={dept.id} value={dept.id}>\n                      {dept.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n                {formErrors.departmentId && <FormHelperText>{formErrors.departmentId}</FormHelperText>}\n              </FormControl>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <FormControl \n                fullWidth \n                required\n                error={!!formErrors.projectManagerId}\n              >\n                <InputLabel id=\"manager-label\">\n                  {t('project.projectManager')}\n                </InputLabel>\n                <Select\n                  name=\"projectManagerId\"\n                  value={formData.projectManagerId}\n                  label={t('project.projectManager')}\n                  onChange={handleSelectChange}\n                  required\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <PersonIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  sx={{ borderRadius: 1.5 }}\n                >\n                  {getProjectManagers().map((pm) => (\n                    <MenuItem key={pm.id} value={pm.id}>\n                      {`${pm.firstName} ${pm.lastName}`}\n                    </MenuItem>\n                  ))}\n                </Select>\n                {formErrors.projectManagerId && <FormHelperText>{formErrors.projectManagerId}</FormHelperText>}\n              </FormControl>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <TextField\n                label={t('project.budget')}\n                name=\"budget\"\n                type=\"number\"\n                value={formData.budget}\n                onChange={handleNumberInputChange}\n                fullWidth\n                required\n                error={!!formErrors.budget}\n                helperText={formErrors.budget}\n                InputProps={{\n                  startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n                  sx: { borderRadius: 1.5 }\n                }}\n              />\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <FormControl fullWidth>\n                <InputLabel id=\"status-label\">\n                  {t('project.status')}\n                </InputLabel>\n                <Select\n                  name=\"status\"\n                  value={formData.status}\n                  label={t('project.status')}\n                  onChange={handleSelectChange}\n                  required\n                  sx={{ borderRadius: 1.5 }}\n                >\n                  <MenuItem value={ProjectStatus.PLANNING}>{t('projectStatus.PLANNING')}</MenuItem>\n                  <MenuItem value={ProjectStatus.IN_PROGRESS}>{t('projectStatus.IN_PROGRESS')}</MenuItem>\n                  <MenuItem value={ProjectStatus.ON_HOLD}>{t('projectStatus.ON_HOLD')}</MenuItem>\n                </Select>\n              </FormControl>\n            </GridItem>\n            \n            <GridItem xs={12} sm={6}>\n              <FormControl fullWidth>\n                <InputLabel id=\"priority-label\">\n                  {t('project.priority')}\n                </InputLabel>\n                <Select\n                  name=\"priority\"\n                  value={formData.priority}\n                  label={t('project.priority')}\n                  onChange={(e) => setFormData(prev => ({ ...prev, priority: e.target.value as ProjectPriority }))}\n                  required\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <PriorityIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  sx={{ borderRadius: 1.5 }}\n                >\n                  <MenuItem value={ProjectPriority.LOW}>{t('projectPriority.LOW')}</MenuItem>\n                  <MenuItem value={ProjectPriority.MEDIUM}>{t('projectPriority.MEDIUM')}</MenuItem>\n                  <MenuItem value={ProjectPriority.HIGH}>{t('projectPriority.HIGH')}</MenuItem>\n                  <MenuItem value={ProjectPriority.CRITICAL}>{t('projectPriority.CRITICAL')}</MenuItem>\n                </Select>\n              </FormControl>\n            </GridItem>\n            \n            <GridItem xs={12}>\n              <TextField\n                label={t('project.client')}\n                name=\"client\"\n                value={formData.client}\n                onChange={handleInputChange}\n                fullWidth\n                required\n                error={!!formErrors.client}\n                helperText={formErrors.client}\n                InputProps={{\n                  sx: { borderRadius: 1.5 }\n                }}\n              />\n            </GridItem>\n            \n            {/* File Attachments */}\n            <GridItem xs={12}>\n              <Typography variant=\"subtitle1\" gutterBottom>\n                {t('project.attachments')}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                {t('project.supportedTypes')}\n              </Typography>\n              \n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                style={{ display: 'none' }}\n                onChange={handleFileChange}\n                multiple\n                accept=\".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt\"\n              />\n              \n              <Paper\n                variant=\"outlined\"\n                sx={{\n                  p: 2,\n                  mb: 2,\n                  textAlign: 'center',\n                  cursor: 'pointer',\n                  backgroundColor: 'rgba(0, 0, 0, 0.02)',\n                }}\n                onClick={handleFileUploadClick}\n              >\n                <CloudUploadIcon color=\"primary\" />\n                <Typography variant=\"body2\" sx={{ mt: 1 }}>\n                  {t('project.clickToSelect')}\n                </Typography>\n              </Paper>\n              \n              {attachmentErrors.length > 0 && (\n                <Alert severity=\"error\" sx={{ mb: 2 }}>\n                  <AlertTitle>{t('project.errorUploading')}</AlertTitle>\n                  <ul style={{ margin: 0, paddingLeft: '1rem' }}>\n                    {attachmentErrors.map((error, index) => (\n                      <li key={index}>{error}</li>\n                    ))}\n                  </ul>\n                </Alert>\n              )}\n              \n              {attachments.length > 0 && (\n                <List dense>\n                  {attachments.map((file, index) => (\n                    <ListItem\n                      key={index}\n                      secondaryAction={\n                        <IconButton\n                          edge=\"end\"\n                          aria-label=\"delete\"\n                          onClick={() => handleRemoveAttachment(index)}\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      }\n                    >\n                      <ListItemIcon>\n                        {getFileIcon(file.type)}\n                      </ListItemIcon>\n                      <ListItemText\n                        primary={file.name}\n                        secondary={formatFileSize(file.size)}\n                      />\n                    </ListItem>\n                  ))}\n                </List>\n              )}\n            </GridItem>\n          </GridContainer>\n        </Box>\n        \n        {formErrors.submit && (\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\n            {formErrors.submit}\n          </Alert>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} disabled={isSubmitting}>\n          {t('common.cancel')}\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          variant=\"contained\"\n          disabled={isSubmitting}\n          startIcon={isSubmitting ? <CircularProgress size={24} /> : null}\n        >\n          {isSubmitting ? t('common.creating') : t('common.create')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddProjectDialog; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}