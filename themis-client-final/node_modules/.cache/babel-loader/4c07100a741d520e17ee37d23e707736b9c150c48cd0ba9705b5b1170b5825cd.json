{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Project/LegacyProjectForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FormWithValidation, { FormTextField, FormSelect, FormDatePicker } from '../shared/FormWithValidation';\nimport { Box, Paper, Typography, Stepper, Step, StepLabel, Button, Divider, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, InputAdornment, Alert, Snackbar, FormControlLabel, Switch } from '@mui/material';\nimport { GridContainer, GridItem } from '../common/MuiGridWrapper';\nimport { CalendarMonth as CalendarIcon, Business as BusinessIcon, Person as PersonIcon, PriorityHigh as PriorityIcon, Save as SaveIcon, Delete as DeleteIcon, ArrowBack as ArrowBackIcon, Add as AddIcon } from '@mui/icons-material';\nimport { ProjectPriority, ProjectStatus, UserRole } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { useTranslation } from 'react-i18next';\nimport api from '../../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Define a simple TeamMemberList component for now\nconst TeamMemberList = ({\n  users,\n  selectedMembers,\n  onMembersChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      children: \"Team members selection will be implemented here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 26\n      }, this),\n      variant: \"outlined\",\n      sx: {\n        mt: 1\n      },\n      children: \"Add Team Member\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n// Define a simple MilestoneList component for now\n_c = TeamMemberList;\nconst MilestoneList = ({\n  milestones,\n  onMilestonesChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      children: \"Milestones will be implemented here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 26\n      }, this),\n      variant: \"outlined\",\n      sx: {\n        mt: 1\n      },\n      children: \"Add Milestone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n// Define a simple BudgetForm component for now\n_c2 = MilestoneList;\nconst BudgetForm = ({\n  items,\n  onItemsChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      children: \"Budget items will be implemented here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 26\n      }, this),\n      variant: \"outlined\",\n      sx: {\n        mt: 1\n      },\n      children: \"Add Budget Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n// Enum for audit actions\n_c3 = BudgetForm;\nvar AuditAction = /*#__PURE__*/function (AuditAction) {\n  AuditAction[\"CREATE\"] = \"CREATE\";\n  AuditAction[\"UPDATE\"] = \"UPDATE\";\n  AuditAction[\"DELETE\"] = \"DELETE\";\n  AuditAction[\"LOGIN\"] = \"LOGIN\";\n  AuditAction[\"LOGOUT\"] = \"LOGOUT\";\n  AuditAction[\"APPROVE\"] = \"APPROVE\";\n  AuditAction[\"REJECT\"] = \"REJECT\";\n  AuditAction[\"SUBMIT\"] = \"SUBMIT\";\n  return AuditAction;\n}(AuditAction || {}); // Update the interface\n// Extend the audit logs API interface\n// Add the createAuditLog function to the auditLogs API\napi.auditLogs.createAuditLog = async (auditData, token) => {\n  console.log('Creating audit log:', auditData);\n  // This is a stub - in a real implementation, it would call the API\n  return {\n    success: true\n  };\n};\n\n// Continue with the component\n\nconst steps = ['Basic Information', 'Team & Timeline', 'Budget & Documents'];\nconst LegacyProjectForm = ({\n  departments,\n  users,\n  onCancel\n}) => {\n  _s();\n  const {\n    token,\n    user\n  } = useAuth();\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState(null);\n  const [activeStep, setActiveStep] = useState(0);\n  const [projectData, setProjectData] = useState({\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    goalsLink: '',\n    teamMembers: [],\n    client: '',\n    priority: ProjectPriority.MEDIUM,\n    legacyImport: true,\n    milestones: [],\n    budgetItems: []\n  });\n  const [saveAsDraft, setSaveAsDraft] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [teamMembers, setTeamMembers] = useState([]);\n  const [milestones, setMilestones] = useState([]);\n  const [budgetItems, setBudgetItems] = useState([]);\n\n  // Check if user has appropriate role (SUB_PMO, MAIN_PMO, or ADMIN)\n  const hasPermission = (user === null || user === void 0 ? void 0 : user.role) === UserRole.SUB_PMO || (user === null || user === void 0 ? void 0 : user.role) === UserRole.MAIN_PMO || (user === null || user === void 0 ? void 0 : user.role) === UserRole.ADMIN;\n\n  // Redirect if user doesn't have permission\n  useEffect(() => {\n    if (!hasPermission) {\n      navigate('/dashboard');\n    }\n  }, [hasPermission, navigate]);\n\n  // Default values for the form\n  const defaultValues = {\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n    // Default to 30 days from now\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    goalsLink: '',\n    teamMembers: [],\n    client: '',\n    priority: ProjectPriority.MEDIUM,\n    legacyImport: true,\n    // Default to true for legacy import\n    milestones: [],\n    budgetItems: []\n  };\n\n  // Get project managers\n  const getProjectManagers = () => {\n    return users.filter(user => user.role === UserRole.PROJECT_MANAGER || user.role === UserRole.SUB_PMO || user.role === UserRole.MAIN_PMO).map(pm => ({\n      value: pm.id,\n      label: `${pm.firstName} ${pm.lastName}`\n    }));\n  };\n\n  // Handle closing the snackbar\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n\n  // Custom function to create audit log since the API endpoint might be missing\n  const createProjectAuditLog = async (projectId, details, metadata) => {\n    try {\n      // In a real implementation, this would call api.auditLogs.createAuditLog\n      // For now, we'll just log the information\n      console.log('Creating audit log:', {\n        action: AuditAction.CREATE,\n        entityType: 'Project',\n        entityId: projectId,\n        details,\n        metadata\n      });\n      // Return a success response\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('Error creating audit log:', error);\n      return {\n        success: false\n      };\n    }\n  };\n\n  // Function to save as draft\n  const saveProjectAsDraft = async data => {\n    setIsSubmitting(true);\n    setSubmitError(null);\n    try {\n      const projectDataToSave = {\n        ...data,\n        startDate: data.startDate.toISOString(),\n        endDate: data.endDate.toISOString(),\n        client: data.client.trim(),\n        budget: data.budget,\n        teamMembers: teamMembers,\n        milestones: milestones,\n        budgetItems: budgetItems,\n        priority: data.priority,\n        legacyImport: true,\n        isDraft: true,\n        status: ProjectStatus.PLANNING\n      };\n      const projectResponse = await api.projects.createProject(projectDataToSave, token || '');\n      if (projectResponse.data) {\n        // Create audit log for the legacy import\n        await createProjectAuditLog(projectResponse.data.id, `Manual legacy import created as draft by ${user === null || user === void 0 ? void 0 : user.firstName} ${user === null || user === void 0 ? void 0 : user.lastName}`, {\n          legacyImport: true,\n          createdBy: user === null || user === void 0 ? void 0 : user.id,\n          createdAt: new Date().toISOString()\n        });\n        setSnackbarMessage('Legacy project saved as draft');\n        setSnackbarOpen(true);\n\n        // Redirect to projects list after a short delay\n        setTimeout(() => {\n          navigate('/projects');\n        }, 2000);\n      } else {\n        setSubmitError('Failed to save project draft. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error saving project draft:', error);\n      setSubmitError('An error occurred while saving the project draft.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Function to publish the project\n  const publishProject = async data => {\n    setIsSubmitting(true);\n    setSubmitError(null);\n    try {\n      const projectDataToSave = {\n        ...data,\n        startDate: data.startDate.toISOString(),\n        endDate: data.endDate.toISOString(),\n        client: data.client.trim(),\n        budget: data.budget,\n        teamMembers: teamMembers,\n        milestones: milestones,\n        budgetItems: budgetItems,\n        priority: data.priority,\n        legacyImport: true,\n        isDraft: false,\n        status: data.status\n      };\n      const projectResponse = await api.projects.createProject(projectDataToSave, token || '');\n      if (projectResponse.data) {\n        // Create audit log for the legacy import\n        await createProjectAuditLog(projectResponse.data.id, `Manual legacy import published by ${user === null || user === void 0 ? void 0 : user.firstName} ${user === null || user === void 0 ? void 0 : user.lastName}`, {\n          legacyImport: true,\n          createdBy: user === null || user === void 0 ? void 0 : user.id,\n          createdAt: new Date().toISOString()\n        });\n        setSnackbarMessage('Legacy project published successfully');\n        setSnackbarOpen(true);\n\n        // Redirect to projects list after a short delay\n        setTimeout(() => {\n          navigate('/projects');\n        }, 2000);\n      } else {\n        setSubmitError('Failed to publish project. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error publishing project:', error);\n      setSubmitError('An error occurred while publishing the project.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Handle team members update\n  const handleTeamMembersUpdate = members => {\n    setTeamMembers(members);\n  };\n\n  // Handle milestones update\n  const handleMilestonesUpdate = milestoneList => {\n    setMilestones(milestoneList);\n  };\n\n  // Handle budget items update\n  const handleBudgetItemsUpdate = items => {\n    setBudgetItems(items);\n  };\n\n  // Form validation\n  const validateForm = data => {\n    const errors = {};\n    if (!data.name) {\n      errors.name = 'Project name is required';\n    }\n    if (!data.departmentId) {\n      errors.departmentId = 'Department is required';\n    }\n    if (!data.projectManagerId) {\n      errors.projectManagerId = 'Project manager is required';\n    }\n    if (!data.startDate) {\n      errors.startDate = 'Start date is required';\n    }\n    if (!data.endDate) {\n      errors.endDate = 'End date is required';\n    } else if (data.endDate < data.startDate) {\n      errors.endDate = 'End date must be after start date';\n    }\n    if (!data.status) {\n      errors.status = 'Status is required';\n    }\n    return errors;\n  };\n\n  // Handle step navigation\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  // Handle form submission on each step\n  const handleStepSubmit = data => {\n    const errors = validateForm(data);\n    if (Object.keys(errors).length === 0) {\n      setProjectData(prevData => ({\n        ...prevData,\n        ...data\n      }));\n      if (activeStep === steps.length - 1) {\n        if (saveAsDraft) {\n          saveProjectAsDraft({\n            ...projectData,\n            ...data\n          });\n        } else {\n          publishProject({\n            ...projectData,\n            ...data\n          });\n        }\n      } else {\n        handleNext();\n      }\n    } else {\n      setSubmitError('Please fix the errors before continuing');\n    }\n  };\n\n  // Handle deleting the draft\n  const handleDeleteDraft = async () => {\n    if (!(projectData !== null && projectData !== void 0 && projectData.id)) {\n      setOpenDeleteDialog(false);\n      onCancel();\n      return;\n    }\n    try {\n      await api.projects.deleteProject(projectData.id, token || '');\n      setSnackbarMessage('Draft deleted successfully');\n      setSnackbarOpen(true);\n      setOpenDeleteDialog(false);\n\n      // Redirect to projects list after a short delay\n      setTimeout(() => {\n        navigate('/projects');\n      }, 1500);\n    } catch (error) {\n      console.error('Error deleting draft:', error);\n      setSnackbarMessage('Failed to delete draft');\n      setSnackbarOpen(true);\n      setOpenDeleteDialog(false);\n    }\n  };\n\n  // Then update the getStepContent function with proper types\n  const getStepContent = (step, control, errors) => {\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3,\n            mt: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(GridContainer, {\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormTextField, {\n                name: \"name\",\n                label: t('project.name'),\n                required: true,\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormTextField, {\n                name: \"description\",\n                label: t('project.description'),\n                multiline: true,\n                rows: 3,\n                required: true,\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                name: \"departmentId\",\n                label: t('project.department'),\n                required: true,\n                options: departments.map(dept => ({\n                  value: dept.id,\n                  label: dept.name\n                })),\n                startIcon: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(BusinessIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                name: \"projectManagerId\",\n                label: t('project.projectManager'),\n                required: true,\n                options: getProjectManagers(),\n                startIcon: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(PersonIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 21\n                }, this),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormTextField, {\n                name: \"client\",\n                label: t('project.client'),\n                required: true,\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                name: \"priority\",\n                label: t('project.priority'),\n                required: true,\n                options: [{\n                  value: ProjectPriority.LOW,\n                  label: t('projectPriority.LOW')\n                }, {\n                  value: ProjectPriority.MEDIUM,\n                  label: t('projectPriority.MEDIUM')\n                }, {\n                  value: ProjectPriority.HIGH,\n                  label: t('projectPriority.HIGH')\n                }, {\n                  value: ProjectPriority.CRITICAL,\n                  label: t('projectPriority.CRITICAL')\n                }],\n                startIcon: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(PriorityIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                control: /*#__PURE__*/_jsxDEV(Switch, {\n                  checked: true,\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 21\n                }, this),\n                label: \"Imported from Legacy PMO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3,\n            mt: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(GridContainer, {\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormDatePicker, {\n                name: \"startDate\",\n                label: t('project.startDate'),\n                required: true,\n                startIcon: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 21\n                }, this),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormDatePicker, {\n                name: \"endDate\",\n                label: t('project.endDate'),\n                required: true,\n                minDate: defaultValues.startDate,\n                startIcon: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(CalendarIcon, {\n                    color: \"action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 615,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 21\n                }, this),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                name: \"status\",\n                label: t('project.status'),\n                required: true,\n                options: [{\n                  value: ProjectStatus.PLANNING,\n                  label: t('projectStatus.PLANNING')\n                }, {\n                  value: ProjectStatus.IN_PROGRESS,\n                  label: t('projectStatus.IN_PROGRESS')\n                }, {\n                  value: ProjectStatus.ON_HOLD,\n                  label: t('projectStatus.ON_HOLD')\n                }, {\n                  value: ProjectStatus.COMPLETED,\n                  label: t('projectStatus.COMPLETED')\n                }, {\n                  value: ProjectStatus.CANCELLED,\n                  label: t('projectStatus.CANCELLED')\n                }],\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Team Members\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TeamMemberList, {\n                users: users,\n                selectedMembers: teamMembers,\n                onMembersChange: handleTeamMembersUpdate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Milestones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MilestoneList, {\n                milestones: milestones,\n                onMilestonesChange: handleMilestonesUpdate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3,\n            mt: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(GridContainer, {\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormTextField, {\n                name: \"budget\",\n                label: t('project.budget'),\n                type: \"number\",\n                required: true,\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormTextField, {\n                name: \"goalsLink\",\n                label: t('project.goalsLink'),\n                control: control,\n                errors: errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Divider, {\n                sx: {\n                  my: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Budget Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(BudgetForm, {\n                items: budgetItems,\n                onItemsChange: handleBudgetItemsUpdate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this);\n      default:\n        return 'Unknown step';\n    }\n  };\n  if (!hasPermission) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"You do not have permission to access this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      minHeight: '100vh',\n      bgcolor: 'background.default',\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxWidth: 1200,\n        mx: 'auto',\n        px: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          children: \"Add Legacy Project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 24\n          }, this),\n          onClick: onCancel,\n          children: \"Back to Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stepper, {\n          activeStep: activeStep,\n          alternativeLabel: true,\n          sx: {\n            mb: 4\n          },\n          children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n            children: /*#__PURE__*/_jsxDEV(StepLabel, {\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this)\n          }, label, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormWithValidation, {\n          defaultValues: defaultValues,\n          onSubmit: handleStepSubmit,\n          submitButtonText: activeStep === steps.length - 1 ? 'Publish Project' : 'Next',\n          cancelButtonText: activeStep === 0 ? 'Cancel' : 'Back',\n          onCancel: activeStep === 0 ? onCancel : handleBack,\n          isLoading: isSubmitting,\n          error: submitError || undefined,\n          children: (control, errors) => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [getStepContent(activeStep, control, errors), activeStep === steps.length - 1 && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                mt: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"primary\",\n                startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 34\n                }, this),\n                onClick: () => {\n                  setSaveAsDraft(true);\n                  // Submit form is triggered which will check saveAsDraft flag\n                },\n                sx: {\n                  mr: 1\n                },\n                disabled: isSubmitting,\n                children: \"Save as Draft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"error\",\n                startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 34\n                }, this),\n                onClick: () => setOpenDeleteDialog(true),\n                disabled: isSubmitting,\n                children: \"Delete Draft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDeleteDialog,\n      onClose: () => setOpenDeleteDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Delete Draft Project?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Are you sure you want to delete this draft project? This action cannot be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDeleteDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteDraft,\n          color: \"error\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbarOpen,\n      autoHideDuration: 4000,\n      onClose: handleSnackbarClose,\n      message: snackbarMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 718,\n    columnNumber: 5\n  }, this);\n};\n_s(LegacyProjectForm, \"3OuW3c6H8z+3P9DzvzxYscmkD4g=\", false, function () {\n  return [useAuth, useTranslation, useNavigate];\n});\n_c4 = LegacyProjectForm;\nexport default LegacyProjectForm;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TeamMemberList\");\n$RefreshReg$(_c2, \"MilestoneList\");\n$RefreshReg$(_c3, \"BudgetForm\");\n$RefreshReg$(_c4, \"LegacyProjectForm\");","map":{"version":3,"names":["React","useState","useEffect","FormWithValidation","FormTextField","FormSelect","FormDatePicker","Box","Paper","Typography","Stepper","Step","StepLabel","Button","Divider","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","InputAdornment","Alert","Snackbar","FormControlLabel","Switch","GridContainer","GridItem","CalendarMonth","CalendarIcon","Business","BusinessIcon","Person","PersonIcon","PriorityHigh","PriorityIcon","Save","SaveIcon","Delete","DeleteIcon","ArrowBack","ArrowBackIcon","Add","AddIcon","ProjectPriority","ProjectStatus","UserRole","useAuth","useTranslation","api","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","TeamMemberList","users","selectedMembers","onMembersChange","children","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","sx","mt","_c","MilestoneList","milestones","onMilestonesChange","_c2","BudgetForm","items","onItemsChange","_c3","AuditAction","auditLogs","createAuditLog","auditData","token","console","log","success","steps","LegacyProjectForm","departments","onCancel","_s","user","t","navigate","isSubmitting","setIsSubmitting","submitError","setSubmitError","activeStep","setActiveStep","projectData","setProjectData","name","description","departmentId","startDate","Date","endDate","now","status","PLANNING","projectManagerId","budget","goalsLink","teamMembers","client","priority","MEDIUM","legacyImport","budgetItems","saveAsDraft","setSaveAsDraft","openDeleteDialog","setOpenDeleteDialog","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","setTeamMembers","setMilestones","setBudgetItems","hasPermission","role","SUB_PMO","MAIN_PMO","ADMIN","defaultValues","getProjectManagers","filter","PROJECT_MANAGER","map","pm","value","id","label","firstName","lastName","handleSnackbarClose","createProjectAuditLog","projectId","details","metadata","action","CREATE","entityType","entityId","error","saveProjectAsDraft","data","projectDataToSave","toISOString","trim","isDraft","projectResponse","projects","createProject","createdBy","createdAt","setTimeout","publishProject","handleTeamMembersUpdate","members","handleMilestonesUpdate","milestoneList","handleBudgetItemsUpdate","validateForm","errors","handleNext","prevActiveStep","handleBack","handleStepSubmit","Object","keys","length","prevData","handleDeleteDraft","deleteProject","getStepContent","step","control","p","spacing","xs","required","multiline","rows","sm","options","dept","position","LOW","HIGH","CRITICAL","checked","disabled","minDate","IN_PROGRESS","ON_HOLD","COMPLETED","CANCELLED","my","gutterBottom","type","severity","width","minHeight","bgcolor","py","maxWidth","mx","px","display","justifyContent","alignItems","mb","component","onClick","alternativeLabel","onSubmit","submitButtonText","cancelButtonText","isLoading","undefined","mr","open","onClose","autoHideDuration","message","_c4","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Project/LegacyProjectForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm, Control, FieldErrors } from 'react-hook-form';\nimport FormWithValidation, { \n  FormTextField, \n  FormSelect, \n  FormDatePicker\n} from '../shared/FormWithValidation';\nimport { \n  Box, \n  Paper, \n  Typography, \n  Stepper, \n  Step, \n  StepLabel, \n  Button, \n  Divider, \n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  InputAdornment, \n  IconButton,\n  Alert,\n  Snackbar,\n  CircularProgress,\n  FormControlLabel,\n  Switch\n} from '@mui/material';\nimport { GridContainer, GridItem } from '../common/MuiGridWrapper';\nimport { \n  CalendarMonth as CalendarIcon,\n  Business as BusinessIcon,\n  Person as PersonIcon,\n  PriorityHigh as PriorityIcon,\n  Save as SaveIcon,\n  Delete as DeleteIcon,\n  Publish as PublishIcon,\n  ArrowBack as ArrowBackIcon,\n  Add as AddIcon\n} from '@mui/icons-material';\nimport { Department, Project, ProjectPriority, ProjectStatus, User, UserRole } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { useTranslation } from 'react-i18next';\nimport api from '../../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { canManageProjects } from '../../utils/permissions';\n\n// Define a simple TeamMemberList component for now\nconst TeamMemberList: React.FC<{\n  users: User[];\n  selectedMembers: string[];\n  onMembersChange: (members: string[]) => void;\n}> = ({ users, selectedMembers, onMembersChange }) => {\n  return (\n    <Box>\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        Team members selection will be implemented here\n      </Typography>\n      {/* Placeholder UI for team member selection */}\n      <Button startIcon={<AddIcon />} variant=\"outlined\" sx={{ mt: 1 }}>\n        Add Team Member\n      </Button>\n    </Box>\n  );\n};\n\n// Define a simple MilestoneList component for now\nconst MilestoneList: React.FC<{\n  milestones: any[];\n  onMilestonesChange: (milestones: any[]) => void;\n}> = ({ milestones, onMilestonesChange }) => {\n  return (\n    <Box>\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        Milestones will be implemented here\n      </Typography>\n      {/* Placeholder UI for milestones */}\n      <Button startIcon={<AddIcon />} variant=\"outlined\" sx={{ mt: 1 }}>\n        Add Milestone\n      </Button>\n    </Box>\n  );\n};\n\n// Define a simple BudgetForm component for now\nconst BudgetForm: React.FC<{\n  items: any[];\n  onItemsChange: (items: any[]) => void;\n}> = ({ items, onItemsChange }) => {\n  return (\n    <Box>\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        Budget items will be implemented here\n      </Typography>\n      {/* Placeholder UI for budget items */}\n      <Button startIcon={<AddIcon />} variant=\"outlined\" sx={{ mt: 1 }}>\n        Add Budget Item\n      </Button>\n    </Box>\n  );\n};\n\n// Enum for audit actions\nenum AuditAction {\n  CREATE = 'CREATE',\n  UPDATE = 'UPDATE',\n  DELETE = 'DELETE',\n  LOGIN = 'LOGIN',\n  LOGOUT = 'LOGOUT',\n  APPROVE = 'APPROVE',\n  REJECT = 'REJECT',\n  SUBMIT = 'SUBMIT'\n}\n\n// Update the interface\ninterface LegacyProjectFormData {\n  name: string;\n  description: string;\n  departmentId: string;\n  startDate: Date;\n  endDate: Date;\n  status: ProjectStatus;\n  projectManagerId: string;\n  budget: number;\n  goalsLink: string;\n  teamMembers: string[];\n  client: string;\n  priority: ProjectPriority;\n  legacyImport: boolean;\n  milestones: any[];\n  budgetItems: any[];\n  id?: string; // Add optional id property\n}\n\n// Extend the audit logs API interface\ninterface AuditLogAPI {\n  getAuditLogs: (token: string) => Promise<any>;\n  getAuditLogById: (logId: string, token: string) => Promise<any>;\n  createAuditLog: (auditData: any, token: string) => Promise<any>;\n}\n\n// Add the createAuditLog function to the auditLogs API\n(api.auditLogs as AuditLogAPI).createAuditLog = async (auditData: any, token: string) => {\n  console.log('Creating audit log:', auditData);\n  // This is a stub - in a real implementation, it would call the API\n  return { success: true };\n};\n\n// Continue with the component\ninterface LegacyProjectFormProps {\n  departments: Department[];\n  users: User[];\n  onCancel: () => void;\n}\n\nconst steps = ['Basic Information', 'Team & Timeline', 'Budget & Documents'];\n\nconst LegacyProjectForm: React.FC<LegacyProjectFormProps> = ({\n  departments,\n  users,\n  onCancel\n}) => {\n  const { token, user } = useAuth();\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n  const [activeStep, setActiveStep] = useState(0);\n  const [projectData, setProjectData] = useState<LegacyProjectFormData>({\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    goalsLink: '',\n    teamMembers: [],\n    client: '',\n    priority: ProjectPriority.MEDIUM,\n    legacyImport: true,\n    milestones: [],\n    budgetItems: []\n  });\n  const [saveAsDraft, setSaveAsDraft] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [teamMembers, setTeamMembers] = useState<string[]>([]);\n  const [milestones, setMilestones] = useState<any[]>([]);\n  const [budgetItems, setBudgetItems] = useState<any[]>([]);\n\n  // Check if user has appropriate role (SUB_PMO, MAIN_PMO, or ADMIN)\n  const hasPermission = user?.role === UserRole.SUB_PMO || \n                       user?.role === UserRole.MAIN_PMO || \n                       user?.role === UserRole.ADMIN;\n\n  // Redirect if user doesn't have permission\n  useEffect(() => {\n    if (!hasPermission) {\n      navigate('/dashboard');\n    }\n  }, [hasPermission, navigate]);\n\n  // Default values for the form\n  const defaultValues: LegacyProjectFormData = {\n    name: '',\n    description: '',\n    departmentId: '',\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // Default to 30 days from now\n    status: ProjectStatus.PLANNING,\n    projectManagerId: '',\n    budget: 0,\n    goalsLink: '',\n    teamMembers: [],\n    client: '',\n    priority: ProjectPriority.MEDIUM,\n    legacyImport: true, // Default to true for legacy import\n    milestones: [],\n    budgetItems: []\n  };\n\n  // Get project managers\n  const getProjectManagers = () => {\n    return users\n      .filter(user => \n        user.role === UserRole.PROJECT_MANAGER || \n        user.role === UserRole.SUB_PMO || \n        user.role === UserRole.MAIN_PMO\n      )\n      .map(pm => ({\n        value: pm.id,\n        label: `${pm.firstName} ${pm.lastName}`\n      }));\n  };\n\n  // Handle closing the snackbar\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n\n  // Custom function to create audit log since the API endpoint might be missing\n  const createProjectAuditLog = async (projectId: string, details: string, metadata: any) => {\n    try {\n      // In a real implementation, this would call api.auditLogs.createAuditLog\n      // For now, we'll just log the information\n      console.log('Creating audit log:', {\n        action: AuditAction.CREATE,\n        entityType: 'Project',\n        entityId: projectId,\n        details,\n        metadata\n      });\n      // Return a success response\n      return { success: true };\n    } catch (error) {\n      console.error('Error creating audit log:', error);\n      return { success: false };\n    }\n  };\n\n  // Function to save as draft\n  const saveProjectAsDraft = async (data: LegacyProjectFormData) => {\n    setIsSubmitting(true);\n    setSubmitError(null);\n    \n    try {\n      const projectDataToSave = {\n        ...data,\n        startDate: data.startDate.toISOString(),\n        endDate: data.endDate.toISOString(),\n        client: data.client.trim(),\n        budget: data.budget,\n        teamMembers: teamMembers,\n        milestones: milestones,\n        budgetItems: budgetItems,\n        priority: data.priority,\n        legacyImport: true,\n        isDraft: true,\n        status: ProjectStatus.PLANNING\n      };\n      \n      const projectResponse = await api.projects.createProject(projectDataToSave, token || '');\n      \n      if (projectResponse.data) {\n        // Create audit log for the legacy import\n        await createProjectAuditLog(\n          projectResponse.data.id,\n          `Manual legacy import created as draft by ${user?.firstName} ${user?.lastName}`,\n          {\n            legacyImport: true,\n            createdBy: user?.id,\n            createdAt: new Date().toISOString()\n          }\n        );\n        \n        setSnackbarMessage('Legacy project saved as draft');\n        setSnackbarOpen(true);\n        \n        // Redirect to projects list after a short delay\n        setTimeout(() => {\n          navigate('/projects');\n        }, 2000);\n      } else {\n        setSubmitError('Failed to save project draft. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error saving project draft:', error);\n      setSubmitError('An error occurred while saving the project draft.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Function to publish the project\n  const publishProject = async (data: LegacyProjectFormData) => {\n    setIsSubmitting(true);\n    setSubmitError(null);\n    \n    try {\n      const projectDataToSave = {\n        ...data,\n        startDate: data.startDate.toISOString(),\n        endDate: data.endDate.toISOString(),\n        client: data.client.trim(),\n        budget: data.budget,\n        teamMembers: teamMembers,\n        milestones: milestones,\n        budgetItems: budgetItems,\n        priority: data.priority,\n        legacyImport: true,\n        isDraft: false,\n        status: data.status\n      };\n      \n      const projectResponse = await api.projects.createProject(projectDataToSave, token || '');\n      \n      if (projectResponse.data) {\n        // Create audit log for the legacy import\n        await createProjectAuditLog(\n          projectResponse.data.id,\n          `Manual legacy import published by ${user?.firstName} ${user?.lastName}`,\n          {\n            legacyImport: true,\n            createdBy: user?.id,\n            createdAt: new Date().toISOString()\n          }\n        );\n        \n        setSnackbarMessage('Legacy project published successfully');\n        setSnackbarOpen(true);\n        \n        // Redirect to projects list after a short delay\n        setTimeout(() => {\n          navigate('/projects');\n        }, 2000);\n      } else {\n        setSubmitError('Failed to publish project. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error publishing project:', error);\n      setSubmitError('An error occurred while publishing the project.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Handle team members update\n  const handleTeamMembersUpdate = (members: string[]) => {\n    setTeamMembers(members);\n  };\n\n  // Handle milestones update\n  const handleMilestonesUpdate = (milestoneList: any[]) => {\n    setMilestones(milestoneList);\n  };\n\n  // Handle budget items update\n  const handleBudgetItemsUpdate = (items: any[]) => {\n    setBudgetItems(items);\n  };\n\n  // Form validation\n  const validateForm = (data: LegacyProjectFormData) => {\n    const errors: Partial<Record<keyof LegacyProjectFormData, string>> = {};\n    \n    if (!data.name) {\n      errors.name = 'Project name is required';\n    }\n    \n    if (!data.departmentId) {\n      errors.departmentId = 'Department is required';\n    }\n    \n    if (!data.projectManagerId) {\n      errors.projectManagerId = 'Project manager is required';\n    }\n    \n    if (!data.startDate) {\n      errors.startDate = 'Start date is required';\n    }\n    \n    if (!data.endDate) {\n      errors.endDate = 'End date is required';\n    } else if (data.endDate < data.startDate) {\n      errors.endDate = 'End date must be after start date';\n    }\n    \n    if (!data.status) {\n      errors.status = 'Status is required';\n    }\n    \n    return errors;\n  };\n\n  // Handle step navigation\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  // Handle form submission on each step\n  const handleStepSubmit = (data: LegacyProjectFormData) => {\n    const errors = validateForm(data);\n    \n    if (Object.keys(errors).length === 0) {\n      setProjectData(prevData => ({ ...prevData, ...data }));\n      \n      if (activeStep === steps.length - 1) {\n        if (saveAsDraft) {\n          saveProjectAsDraft({ ...projectData, ...data });\n        } else {\n          publishProject({ ...projectData, ...data });\n        }\n      } else {\n        handleNext();\n      }\n    } else {\n      setSubmitError('Please fix the errors before continuing');\n    }\n  };\n\n  // Handle deleting the draft\n  const handleDeleteDraft = async () => {\n    if (!projectData?.id) {\n      setOpenDeleteDialog(false);\n      onCancel();\n      return;\n    }\n    \n    try {\n      await api.projects.deleteProject(projectData.id as string, token || '');\n      setSnackbarMessage('Draft deleted successfully');\n      setSnackbarOpen(true);\n      setOpenDeleteDialog(false);\n      \n      // Redirect to projects list after a short delay\n      setTimeout(() => {\n        navigate('/projects');\n      }, 1500);\n    } catch (error) {\n      console.error('Error deleting draft:', error);\n      setSnackbarMessage('Failed to delete draft');\n      setSnackbarOpen(true);\n      setOpenDeleteDialog(false);\n    }\n  };\n\n  // Then update the getStepContent function with proper types\n  const getStepContent = (\n    step: number, \n    control: Control<LegacyProjectFormData>, \n    errors: FieldErrors<LegacyProjectFormData>\n  ): React.ReactNode => {\n    switch (step) {\n      case 0:\n        return (\n          <Box sx={{ p: 3, mt: 2 }}>\n            <GridContainer spacing={3}>\n              <GridItem xs={12}>\n                <FormTextField\n                  name=\"name\"\n                  label={t('project.name')}\n                  required\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12}>\n                <FormTextField\n                  name=\"description\"\n                  label={t('project.description')}\n                  multiline\n                  rows={3}\n                  required\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormSelect\n                  name=\"departmentId\"\n                  label={t('project.department')}\n                  required\n                  options={departments.map(dept => ({\n                    value: dept.id,\n                    label: dept.name\n                  }))}\n                  startIcon={\n                    <InputAdornment position=\"start\">\n                      <BusinessIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormSelect\n                  name=\"projectManagerId\"\n                  label={t('project.projectManager')}\n                  required\n                  options={getProjectManagers()}\n                  startIcon={\n                    <InputAdornment position=\"start\">\n                      <PersonIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormTextField\n                  name=\"client\"\n                  label={t('project.client')}\n                  required\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormSelect\n                  name=\"priority\"\n                  label={t('project.priority')}\n                  required\n                  options={[\n                    { value: ProjectPriority.LOW, label: t('projectPriority.LOW') },\n                    { value: ProjectPriority.MEDIUM, label: t('projectPriority.MEDIUM') },\n                    { value: ProjectPriority.HIGH, label: t('projectPriority.HIGH') },\n                    { value: ProjectPriority.CRITICAL, label: t('projectPriority.CRITICAL') }\n                  ]}\n                  startIcon={\n                    <InputAdornment position=\"start\">\n                      <PriorityIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={true}\n                      disabled={true}\n                    />\n                  }\n                  label=\"Imported from Legacy PMO\"\n                />\n              </GridItem>\n            </GridContainer>\n          </Box>\n        );\n      case 1:\n        return (\n          <Box sx={{ p: 3, mt: 2 }}>\n            <GridContainer spacing={3}>\n              <GridItem xs={12} sm={6}>\n                <FormDatePicker\n                  name=\"startDate\"\n                  label={t('project.startDate')}\n                  required\n                  startIcon={\n                    <InputAdornment position=\"start\">\n                      <CalendarIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormDatePicker\n                  name=\"endDate\"\n                  label={t('project.endDate')}\n                  required\n                  minDate={defaultValues.startDate}\n                  startIcon={\n                    <InputAdornment position=\"start\">\n                      <CalendarIcon color=\"action\" />\n                    </InputAdornment>\n                  }\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormSelect\n                  name=\"status\"\n                  label={t('project.status')}\n                  required\n                  options={[\n                    { value: ProjectStatus.PLANNING, label: t('projectStatus.PLANNING') },\n                    { value: ProjectStatus.IN_PROGRESS, label: t('projectStatus.IN_PROGRESS') },\n                    { value: ProjectStatus.ON_HOLD, label: t('projectStatus.ON_HOLD') },\n                    { value: ProjectStatus.COMPLETED, label: t('projectStatus.COMPLETED') },\n                    { value: ProjectStatus.CANCELLED, label: t('projectStatus.CANCELLED') }\n                  ]}\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12}>\n                <Divider sx={{ my: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  Team Members\n                </Typography>\n                <TeamMemberList \n                  users={users}\n                  selectedMembers={teamMembers}\n                  onMembersChange={handleTeamMembersUpdate}\n                />\n              </GridItem>\n              \n              <GridItem xs={12}>\n                <Divider sx={{ my: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  Milestones\n                </Typography>\n                <MilestoneList\n                  milestones={milestones}\n                  onMilestonesChange={handleMilestonesUpdate}\n                />\n              </GridItem>\n            </GridContainer>\n          </Box>\n        );\n      case 2:\n        return (\n          <Box sx={{ p: 3, mt: 2 }}>\n            <GridContainer spacing={3}>\n              <GridItem xs={12} sm={6}>\n                <FormTextField\n                  name=\"budget\"\n                  label={t('project.budget')}\n                  type=\"number\"\n                  required\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12} sm={6}>\n                <FormTextField\n                  name=\"goalsLink\"\n                  label={t('project.goalsLink')}\n                  control={control}\n                  errors={errors}\n                />\n              </GridItem>\n              \n              <GridItem xs={12}>\n                <Divider sx={{ my: 2 }} />\n                <Typography variant=\"h6\" gutterBottom>\n                  Budget Items\n                </Typography>\n                <BudgetForm\n                  items={budgetItems}\n                  onItemsChange={handleBudgetItemsUpdate}\n                />\n              </GridItem>\n            </GridContainer>\n          </Box>\n        );\n      default:\n        return 'Unknown step';\n    }\n  };\n\n  if (!hasPermission) {\n    return (\n      <Box sx={{ p: 3 }}>\n        <Alert severity=\"error\">\n          You do not have permission to access this page.\n        </Alert>\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ width: '100%', minHeight: '100vh', bgcolor: 'background.default', py: 4 }}>\n      <Box sx={{ maxWidth: 1200, mx: 'auto', px: 2 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\n          <Typography variant=\"h4\" component=\"h1\">\n            Add Legacy Project\n          </Typography>\n          <Button \n            variant=\"outlined\" \n            startIcon={<ArrowBackIcon />} \n            onClick={onCancel}\n          >\n            Back to Projects\n          </Button>\n        </Box>\n        \n        <Paper sx={{ p: 3, mb: 4 }}>\n          <Stepper activeStep={activeStep} alternativeLabel sx={{ mb: 4 }}>\n            {steps.map((label) => (\n              <Step key={label}>\n                <StepLabel>{label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n\n          <FormWithValidation<LegacyProjectFormData>\n            defaultValues={defaultValues}\n            onSubmit={handleStepSubmit}\n            submitButtonText={activeStep === steps.length - 1 ? 'Publish Project' : 'Next'}\n            cancelButtonText={activeStep === 0 ? 'Cancel' : 'Back'}\n            onCancel={activeStep === 0 ? onCancel : handleBack}\n            isLoading={isSubmitting}\n            error={submitError || undefined}\n          >\n            {(control, errors) => (\n              <>\n                {getStepContent(activeStep, control, errors)}\n                {activeStep === steps.length - 1 && (\n                  <Box sx={{ display: 'flex', mt: 3 }}>\n                    <Button\n                      variant=\"outlined\"\n                      color=\"primary\"\n                      startIcon={<SaveIcon />}\n                      onClick={() => {\n                        setSaveAsDraft(true);\n                        // Submit form is triggered which will check saveAsDraft flag\n                      }}\n                      sx={{ mr: 1 }}\n                      disabled={isSubmitting}\n                    >\n                      Save as Draft\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      color=\"error\"\n                      startIcon={<DeleteIcon />}\n                      onClick={() => setOpenDeleteDialog(true)}\n                      disabled={isSubmitting}\n                    >\n                      Delete Draft\n                    </Button>\n                  </Box>\n                )}\n              </>\n            )}\n          </FormWithValidation>\n        </Paper>\n      </Box>\n      \n      {/* Delete Draft Confirmation Dialog */}\n      <Dialog\n        open={openDeleteDialog}\n        onClose={() => setOpenDeleteDialog(false)}\n      >\n        <DialogTitle>Delete Draft Project?</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this draft project? This action cannot be undone.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenDeleteDialog(false)}>Cancel</Button>\n          <Button onClick={handleDeleteDraft} color=\"error\">Delete</Button>\n        </DialogActions>\n      </Dialog>\n      \n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbarOpen}\n        autoHideDuration={4000}\n        onClose={handleSnackbarClose}\n        message={snackbarMessage}\n      />\n    </Box>\n  );\n};\n\nexport default LegacyProjectForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}