{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ProjectsPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Chip, Button, TextField, MenuItem, IconButton, Tooltip, FormControl, InputLabel, Select, OutlinedInput, Toolbar, CircularProgress, Alert, useMediaQuery, useTheme } from '@mui/material';\nimport { Add as AddIcon, Search as SearchIcon, ViewList as ViewListIcon, ViewModule as ViewModuleIcon, History as HistoryIcon } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { ProjectStatus } from '../types';\nimport AddProjectDialog from '../components/Project/AddProjectDialog';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedCard from '../components/common/EnhancedCard';\nimport StatusBadge from '../components/common/StatusBadge';\nimport CircularProgressWithLabel from '../components/common/CircularProgressWithLabel';\nimport { GridItem, GridContainer } from '../components/common/MuiGridWrapper';\nimport { mockProjects, mockUsers, mockDepartments } from '../services/mockData';\nimport { initialStrategicGoals, initialAnnualGoals } from './GoalsPage';\nimport { alpha } from '@mui/material/styles';\n\n// Define Department type for the dialog\n\n// Define our own Goal interface for project linking\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Define status options\nconst statusOptions = ['All', 'PLANNING', 'IN_PROGRESS', 'ON_HOLD', 'COMPLETED', 'CANCELLED'];\n\n// Helper function to get status color\nconst getStatusColor = (status, endDate) => {\n  // Check if the project is overdue (end date is before current date)\n  if (endDate && new Date(endDate) < new Date()) {\n    return 'error'; // Red color for overdue projects\n  }\n  switch (status) {\n    case 'PLANNING':\n      return 'info';\n    case 'IN_PROGRESS':\n      return 'primary';\n    case 'ON_HOLD':\n      return 'warning';\n    case 'COMPLETED':\n      return 'success';\n    case 'CANCELLED':\n      return 'error';\n    default:\n      return 'default';\n  }\n};\n\n// Helper function to get status label\nconst getStatusLabel = status => {\n  switch (status) {\n    case 'PLANNING':\n      return 'Planning';\n    case 'IN_PROGRESS':\n      return 'In Progress';\n    case 'ON_HOLD':\n      return 'On Hold';\n    case 'COMPLETED':\n      return 'Completed';\n    case 'CANCELLED':\n      return 'Cancelled';\n    default:\n      return status;\n  }\n};\n\n// Map API status to component status type\nconst mapStatusToType = status => {\n  if (status === 'PLANNING') return 'planning';\n  if (status === 'IN_PROGRESS') return 'inProgress';\n  if (status === 'ON_HOLD') return 'onHold';\n  if (status === 'COMPLETED') return 'completed';\n  if (status === 'CANCELLED') return 'cancelled';\n  return 'todo';\n};\nconst ProjectsPage = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('All');\n  const [departmentFilter, setDepartmentFilter] = useState('All');\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [departmentOptions, setDepartmentOptions] = useState([]);\n  const [isAddProjectDialogOpen, setIsAddProjectDialogOpen] = useState(false);\n  const [departments, setDepartments] = useState(mockDepartments);\n  const [users, setUsers] = useState(mockUsers);\n  const [viewMode, setViewMode] = useState('grid');\n  const [goals, setGoals] = useState([...initialStrategicGoals.map(goal => ({\n    ...goal,\n    name: goal.title,\n    type: 'STRATEGIC',\n    category: 'MAIN',\n    status: 'ACTIVE'\n  })), ...initialAnnualGoals.map(goal => ({\n    ...goal,\n    name: goal.title,\n    type: 'ANNUAL',\n    category: 'MAIN',\n    status: 'ACTIVE'\n  }))]);\n  const navigate = useNavigate();\n  const {\n    isProjectManager,\n    isAdmin,\n    token,\n    user\n  } = useAuth();\n\n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Get mock projects\n        setTimeout(() => {\n          setProjects(mockProjects);\n\n          // Get unique departments\n          const departmentSet = new Set(mockDepartments.map(dept => dept.name));\n\n          // Convert Set to Array and add 'All' at the beginning\n          const deptOptions = ['All', ...Array.from(departmentSet)];\n          setDepartmentOptions(deptOptions);\n          setDepartments(mockDepartments);\n          setLoading(false);\n        }, 1000); // Simulate loading delay\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n        setProjects([]);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  const handleStatusFilterChange = event => {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  };\n  const handleDepartmentFilterChange = event => {\n    setDepartmentFilter(event.target.value);\n    setPage(0);\n  };\n  const handleSearchChange = event => {\n    setSearchQuery(event.target.value);\n    setPage(0);\n  };\n  const handleCreateProject = () => {\n    setIsAddProjectDialogOpen(true);\n  };\n  const handleProjectAdded = newProject => {\n    // Add the new project to the existing projects list\n    setProjects([...projects, newProject]);\n  };\n  const handleProjectClick = id => {\n    navigate(`/projects/${id}`);\n  };\n\n  // Filter projects based on search query and filters\n  const filteredProjects = Array.isArray(projects) ? projects.filter(project => {\n    // Search query filter\n    const projectManagerName = project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim().toLowerCase() : '';\n    const matchesSearch = project.name.toLowerCase().includes(searchQuery.toLowerCase()) || projectManagerName.includes(searchQuery.toLowerCase());\n\n    // Status filter (handle both string and enum values)\n    const matchesStatus = statusFilter === 'All' || project.status === statusFilter || typeof project.status === 'string' && project.status.replace(/([A-Z])/g, '_$1').toUpperCase() === statusFilter;\n\n    // Department filter\n    const matchesDepartment = departmentFilter === 'All' || project.department.name === departmentFilter;\n    return matchesSearch && matchesStatus && matchesDepartment;\n  }) : [];\n\n  // Calculate pagination\n  const paginatedProjects = filteredProjects.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n\n  // Helper function to get translated status label\n  const getTranslatedStatusLabel = status => {\n    // Try to use the projectStatus namespace first for more granular control\n    const projectStatusKey = `projectStatus.${status}`;\n    const translatedStatus = t(projectStatusKey);\n\n    // If the translation key exists and returns a valid translation (not the key itself)\n    if (translatedStatus !== projectStatusKey) {\n      return translatedStatus;\n    }\n\n    // Fall back to the older status namespace if needed\n    switch (status) {\n      case 'PLANNING':\n        return t('status.planning');\n      case 'IN_PROGRESS':\n        return t('status.inProgress');\n      case 'ON_HOLD':\n        return t('status.onHold');\n      case 'COMPLETED':\n        return t('status.completed');\n      case 'CANCELLED':\n        return t('status.cancelled');\n      default:\n        return status;\n    }\n  };\n\n  // Check if a project is overdue\n  const isOverdue = endDate => {\n    return endDate ? new Date(endDate) < new Date() : false;\n  };\n\n  // Find goals associated with a project\n  const findProjectGoals = projectId => {\n    return goals.filter(goal => goal.linkedProjects.some(projectLink => projectLink.projectId === projectId));\n  };\n\n  // Get project weight for a specific goal\n  const getProjectWeight = (goal, projectId) => {\n    const projectLink = goal.linkedProjects.find(projectLink => projectLink.projectId === projectId);\n    return projectLink ? projectLink.weight : 0;\n  };\n\n  // Render grid view\n  const renderGridView = () => /*#__PURE__*/_jsxDEV(GridContainer, {\n    spacing: 3,\n    children: paginatedProjects.map(project => {\n      const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]);\n      return /*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(EnhancedCard, {\n          title: project.name,\n          subtitle: project.department.name,\n          onClick: () => handleProjectClick(project.id),\n          sx: {\n            height: '100%',\n            transition: 'all 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-5px)',\n              boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n            },\n            borderRadius: 2,\n            overflow: 'hidden',\n            position: 'relative'\n          },\n          headerProps: {\n            sx: {\n              pb: 1,\n              borderBottom: '1px solid',\n              borderColor: 'divider'\n            }\n          },\n          footer: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              width: '100%',\n              pt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 8,\n                  height: 8,\n                  borderRadius: '50%',\n                  bgcolor: theme.palette.primary.main,\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                children: [new Date(project.startDate).toLocaleDateString(), \" - \", new Date(project.endDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              fontWeight: \"medium\",\n              children: project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim() : t('project.unassigned')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'absolute',\n              top: 10,\n              right: 10,\n              zIndex: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n              status: statusType,\n              label: getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]),\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2,\n              mt: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                height: 40,\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical'\n              },\n              children: project.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              children: findProjectGoals(project.id).length > 0 && /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: t('goals.linkedGoals', 'Linked Goals'),\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  size: \"small\",\n                  label: `${findProjectGoals(project.id).length} ${t('goals.linked', 'Goals')}`,\n                  sx: {\n                    mr: 1,\n                    fontSize: '0.7rem'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n              value: project.progress,\n              size: 40,\n              thickness: 4,\n              sx: {\n                color: project.progress < 30 ? theme.palette.error.main : project.progress < 70 ? theme.palette.warning.main : theme.palette.success.main\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this)\n      }, project.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n\n  // Render list view\n  const renderListView = () => /*#__PURE__*/_jsxDEV(TableContainer, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      sx: {\n        minWidth: 750\n      },\n      \"aria-label\": \"projects table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.name')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.department')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.status')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.projectManager')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('common.timeline')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: t('project.progress')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: paginatedProjects.map(project => {\n          const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(typeof project.status === 'string' ? project.status : ProjectStatus[project.status]);\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            onClick: () => handleProjectClick(project.id),\n            sx: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"medium\",\n                children: project.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                noWrap: true,\n                sx: {\n                  maxWidth: 300\n                },\n                children: project.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: project.department.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: statusType,\n                label: getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: project.projectManager ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim() : t('project.unassigned')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [new Date(project.startDate).toLocaleDateString(), \" - \", new Date(project.endDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n                value: project.progress,\n                size: 46,\n                thickness: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, project.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n  const handleAddLegacyProject = () => {\n    navigate('/projects/legacy/new');\n  };\n  const isPMO = userRole => {\n    // Update to include Admin users\n    return userRole === 'SUB_PMO' || userRole === 'MAIN_PMO' || userRole === 'ADMIN';\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4,\n        p: 3,\n        borderRadius: 2,\n        background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\n        color: 'white',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          opacity: 0.1,\n          background: 'url(https://www.transparenttextures.com/patterns/cubes.png)',\n          zIndex: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          zIndex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          fontWeight: \"bold\",\n          gutterBottom: true,\n          children: t('navigation.projects')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: t('project.subtitle', 'Manage and monitor all your organizational projects')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 2,\n          zIndex: 1\n        },\n        children: [(isAdmin || isProjectManager) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 26\n          }, this),\n          onClick: handleCreateProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1.2,\n            boxShadow: '0 4px 10px rgba(0,0,0,0.15)',\n            fontWeight: 'bold',\n            transition: 'all 0.3s',\n            '&:hover': {\n              transform: 'translateY(-3px)',\n              boxShadow: '0 6px 15px rgba(0,0,0,0.2)'\n            }\n          },\n          children: t('project.add')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this), isPMO(user === null || user === void 0 ? void 0 : user.role) && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"inherit\",\n          startIcon: /*#__PURE__*/_jsxDEV(HistoryIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 26\n          }, this),\n          onClick: handleAddLegacyProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1.2,\n            borderColor: 'rgba(255,255,255,0.5)',\n            transition: 'all 0.3s',\n            '&:hover': {\n              borderColor: 'white',\n              backgroundColor: 'rgba(255,255,255,0.1)',\n              transform: 'translateY(-3px)'\n            }\n          },\n          children: t('project.addLegacy', 'Add Legacy Project')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: '100%',\n        mb: 4,\n        borderRadius: 2,\n        overflow: 'hidden',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.05)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n        sx: {\n          p: 2,\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexWrap: 'wrap',\n          gap: 2,\n          borderBottom: '1px solid',\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            size: \"small\",\n            variant: \"outlined\",\n            placeholder: t('common.search'),\n            value: searchQuery,\n            onChange: handleSearchChange,\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                fontSize: \"small\",\n                sx: {\n                  mr: 1,\n                  color: 'action.active'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 33\n              }, this)\n            },\n            sx: {\n              '& .MuiOutlinedInput-root': {\n                borderRadius: 8,\n                transition: 'all 0.2s',\n                '&.Mui-focused': {\n                  boxShadow: '0 0 0 3px rgba(0,0,0,0.05)'\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            size: \"small\",\n            sx: {\n              minWidth: 120\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: t('project.status')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: t('project.status'),\n              value: statusFilter,\n              onChange: handleStatusFilterChange,\n              input: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                label: t('project.status')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 24\n              }, this),\n              sx: {\n                borderRadius: 8\n              },\n              children: statusOptions.map(status => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: status,\n                children: status === 'All' ? t('common.all') : getTranslatedStatusLabel(status)\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            size: \"small\",\n            sx: {\n              minWidth: 150\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: t('project.department')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: t('project.department'),\n              value: departmentFilter,\n              onChange: handleDepartmentFilterChange,\n              input: /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                label: t('project.department')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 24\n              }, this),\n              sx: {\n                borderRadius: 8\n              },\n              children: departmentOptions.map(department => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: department,\n                children: department === 'All' ? t('common.all') : department\n              }, department, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: viewMode === 'grid' ? t('common.listView') : t('common.gridView'),\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setViewMode(viewMode === 'grid' ? 'list' : 'grid'),\n              color: \"primary\",\n              sx: {\n                bgcolor: theme.palette.action.hover,\n                '&:hover': {\n                  bgcolor: alpha(theme.palette.primary.main, 0.1)\n                }\n              },\n              children: viewMode === 'grid' ? /*#__PURE__*/_jsxDEV(ViewListIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 40\n              }, this) : /*#__PURE__*/_jsxDEV(ViewModuleIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 4,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          minHeight: 400\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 4,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            maxWidth: 500,\n            mx: 'auto',\n            borderRadius: 2,\n            boxShadow: '0 4px 12px rgba(211,47,47,0.1)'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 11\n      }, this) : paginatedProjects.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 8,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3,\n            opacity: 0.7\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"100\",\n            height: \"100\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 5V3\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 5V3\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 9H21\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M9 13H15\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            fontWeight: 'medium',\n            mb: 1\n          },\n          children: t('common.noData')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 3,\n            maxWidth: 400,\n            mx: 'auto'\n          },\n          children: searchQuery || statusFilter !== 'All' || departmentFilter !== 'All' ? t('common.adjustSearchCriteria') : t('project.createNewToStart')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 13\n        }, this), (isAdmin || isProjectManager) && searchQuery === '' && statusFilter === 'All' && departmentFilter === 'All' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 28\n          }, this),\n          onClick: handleCreateProject,\n          sx: {\n            borderRadius: 8,\n            px: 3,\n            py: 1\n          },\n          children: t('project.add')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 3\n        },\n        children: viewMode === 'grid' ? renderGridView() : renderListView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: [6, 12, 24],\n        component: \"div\",\n        count: filteredProjects.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onPageChange: handleChangePage,\n        onRowsPerPageChange: handleChangeRowsPerPage,\n        labelRowsPerPage: t('common.rowsPerPage'),\n        labelDisplayedRows: ({\n          from,\n          to,\n          count\n        }) => `${from}-${to} ${t('common.of')} ${count}`,\n        sx: {\n          borderTop: '1px solid',\n          borderColor: 'divider',\n          '& .MuiTablePagination-selectIcon': {\n            color: theme.palette.action.active\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddProjectDialog, {\n      open: isAddProjectDialogOpen,\n      onClose: () => setIsAddProjectDialogOpen(false),\n      onProjectAdded: handleProjectAdded,\n      departments: departments,\n      users: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 500,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectsPage, \"O8zR0pEfUhGf4mnA5V9fCDIV5ZI=\", false, function () {\n  return [useTranslation, useTheme, useMediaQuery, useNavigate, useAuth];\n});\n_c = ProjectsPage;\nexport default ProjectsPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectsPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","Button","TextField","MenuItem","IconButton","Tooltip","FormControl","InputLabel","Select","OutlinedInput","Toolbar","CircularProgress","Alert","useMediaQuery","useTheme","Add","AddIcon","Search","SearchIcon","ViewList","ViewListIcon","ViewModule","ViewModuleIcon","History","HistoryIcon","useNavigate","useAuth","ProjectStatus","AddProjectDialog","useTranslation","EnhancedCard","StatusBadge","CircularProgressWithLabel","GridItem","GridContainer","mockProjects","mockUsers","mockDepartments","initialStrategicGoals","initialAnnualGoals","alpha","jsxDEV","_jsxDEV","statusOptions","getStatusColor","status","endDate","Date","getStatusLabel","mapStatusToType","ProjectsPage","_s","t","theme","isMobile","breakpoints","down","page","setPage","rowsPerPage","setRowsPerPage","searchQuery","setSearchQuery","statusFilter","setStatusFilter","departmentFilter","setDepartmentFilter","projects","setProjects","loading","setLoading","error","setError","departmentOptions","setDepartmentOptions","isAddProjectDialogOpen","setIsAddProjectDialogOpen","departments","setDepartments","users","setUsers","viewMode","setViewMode","goals","setGoals","map","goal","name","title","type","category","navigate","isProjectManager","isAdmin","token","user","fetchData","setTimeout","departmentSet","Set","dept","deptOptions","Array","from","console","handleChangePage","event","newPage","handleChangeRowsPerPage","parseInt","target","value","handleStatusFilterChange","handleDepartmentFilterChange","handleSearchChange","handleCreateProject","handleProjectAdded","newProject","handleProjectClick","id","filteredProjects","isArray","filter","project","projectManagerName","projectManager","firstName","lastName","trim","toLowerCase","matchesSearch","includes","matchesStatus","replace","toUpperCase","matchesDepartment","department","paginatedProjects","slice","getTranslatedStatusLabel","projectStatusKey","translatedStatus","isOverdue","findProjectGoals","projectId","linkedProjects","some","projectLink","getProjectWeight","find","weight","renderGridView","spacing","children","statusType","xs","sm","md","subtitle","onClick","sx","height","transition","transform","boxShadow","borderRadius","overflow","position","headerProps","pb","borderBottom","borderColor","footer","display","justifyContent","alignItems","width","pt","bgcolor","palette","primary","main","mr","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","startDate","toLocaleDateString","fontWeight","top","right","zIndex","label","size","mb","mt","textOverflow","WebkitLineClamp","WebkitBoxOrient","description","length","fontSize","progress","thickness","warning","success","renderListView","minWidth","hover","cursor","component","scope","noWrap","maxWidth","handleAddLegacyProject","isPMO","userRole","p","elevation","background","dark","left","bottom","opacity","gutterBottom","gap","startIcon","px","py","role","backgroundColor","flexWrap","placeholder","onChange","InputProps","startAdornment","input","action","minHeight","textAlign","severity","mx","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","rowsPerPageOptions","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","to","borderTop","active","open","onClose","onProjectAdded","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/pages/ProjectsPage.tsx"],"sourcesContent":["import React, { useState, ReactNode, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  Chip,\n  Button,\n  TextField,\n  MenuItem,\n  IconButton,\n  Tooltip,\n  FormControl,\n  InputLabel,\n  Select,\n  SelectChangeEvent,\n  OutlinedInput,\n  Toolbar,\n  Stack,\n  CircularProgress,\n  Alert,\n  useMediaQuery,\n  useTheme,\n  Menu,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Link\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  FilterList as FilterIcon,\n  Search as SearchIcon,\n  MoreVert as MoreIcon,\n  ViewList as ViewListIcon,\n  ViewModule as ViewModuleIcon,\n  History as HistoryIcon,\n  ExpandMore as ExpandMoreIcon\n} from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { Project, ProjectStatus, User } from '../types';\nimport api from '../services/api';\nimport AddProjectDialog from '../components/Project/AddProjectDialog';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedCard from '../components/common/EnhancedCard';\nimport StatusBadge from '../components/common/StatusBadge';\nimport SkeletonLoader from '../components/common/SkeletonLoader';\nimport CircularProgressWithLabel from '../components/common/CircularProgressWithLabel';\nimport { GridItem, GridContainer } from '../components/common/MuiGridWrapper';\nimport { mockProjects, mockUsers, mockDepartments } from '../services/mockData';\nimport { canManageProjects } from '../utils/permissions';\nimport { initialStrategicGoals, initialAnnualGoals } from './GoalsPage';\nimport { alpha } from '@mui/material/styles';\n\n// Define Department type for the dialog\ninterface Department {\n  id: string;\n  name: string;\n}\n\n// Define our own Goal interface for project linking\ninterface Goal {\n  id: string;\n  name?: string;\n  title?: string;\n  description: string;\n  type: string;\n  category: string;\n  status: string;\n  progress?: number;\n  startDate?: string;\n  endDate?: string;\n  assignedTo?: string;\n  linkedProjects: { projectId: string; weight: number }[];\n  isProgressAutoCalculated?: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\n// Define status options\nconst statusOptions = [\n  'All',\n  'PLANNING',\n  'IN_PROGRESS',\n  'ON_HOLD',\n  'COMPLETED',\n  'CANCELLED'\n];\n\n// Helper function to get status color\nconst getStatusColor = (status: string, endDate?: string) => {\n  // Check if the project is overdue (end date is before current date)\n  if (endDate && new Date(endDate) < new Date()) {\n    return 'error'; // Red color for overdue projects\n  }\n  \n  switch(status) {\n    case 'PLANNING': return 'info';\n    case 'IN_PROGRESS': return 'primary';\n    case 'ON_HOLD': return 'warning';\n    case 'COMPLETED': return 'success';\n    case 'CANCELLED': return 'error';\n    default: return 'default';\n  }\n};\n\n// Helper function to get status label\nconst getStatusLabel = (status: string) => {\n  switch(status) {\n    case 'PLANNING': return 'Planning';\n    case 'IN_PROGRESS': return 'In Progress';\n    case 'ON_HOLD': return 'On Hold';\n    case 'COMPLETED': return 'Completed';\n    case 'CANCELLED': return 'Cancelled';\n    default: return status;\n  }\n};\n\n// Map API status to component status type\nconst mapStatusToType = (status: string): 'planning' | 'inProgress' | 'onHold' | 'completed' | 'cancelled' | 'todo' | 'review' | 'overdue' => {\n  if (status === 'PLANNING') return 'planning';\n  if (status === 'IN_PROGRESS') return 'inProgress';\n  if (status === 'ON_HOLD') return 'onHold';\n  if (status === 'COMPLETED') return 'completed';\n  if (status === 'CANCELLED') return 'cancelled';\n  return 'todo';\n};\n\nconst ProjectsPage: React.FC = () => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(6);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('All');\n  const [departmentFilter, setDepartmentFilter] = useState('All');\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [departmentOptions, setDepartmentOptions] = useState<string[]>([]);\n  const [isAddProjectDialogOpen, setIsAddProjectDialogOpen] = useState(false);\n  const [departments, setDepartments] = useState(mockDepartments);\n  const [users, setUsers] = useState(mockUsers);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [goals, setGoals] = useState<Goal[]>([\n    ...initialStrategicGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'STRATEGIC',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    })),\n    ...initialAnnualGoals.map(goal => ({\n      ...goal,\n      name: goal.title,\n      type: 'ANNUAL',\n      category: 'MAIN',\n      status: 'ACTIVE'\n    }))\n  ]);\n  \n  const navigate = useNavigate();\n  const { isProjectManager, isAdmin, token, user } = useAuth();\n  \n  // Fetch projects when component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Get mock projects\n        setTimeout(() => {\n          setProjects(mockProjects);\n          \n          // Get unique departments\n          const departmentSet = new Set<string>(\n            mockDepartments.map(dept => dept.name)\n          );\n          \n          // Convert Set to Array and add 'All' at the beginning\n          const deptOptions = ['All', ...Array.from(departmentSet)];\n          setDepartmentOptions(deptOptions);\n          setDepartments(mockDepartments);\n          setLoading(false);\n        }, 1000); // Simulate loading delay\n        \n      } catch (error) {\n        console.error('Error fetching projects:', error);\n        setProjects([]);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n  \n  const handleChangePage = (event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n  \n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n  const handleStatusFilterChange = (event: SelectChangeEvent) => {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleDepartmentFilterChange = (event: SelectChangeEvent) => {\n    setDepartmentFilter(event.target.value);\n    setPage(0);\n  };\n  \n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n    setPage(0);\n  };\n  \n  const handleCreateProject = () => {\n    setIsAddProjectDialogOpen(true);\n  };\n  \n  const handleProjectAdded = (newProject: Project) => {\n    // Add the new project to the existing projects list\n    setProjects([...projects, newProject]);\n  };\n  \n  const handleProjectClick = (id: string) => {\n    navigate(`/projects/${id}`);\n  };\n  \n  // Filter projects based on search query and filters\n  const filteredProjects = Array.isArray(projects) \n    ? projects.filter((project) => {\n        // Search query filter\n        const projectManagerName = project.projectManager \n          ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim().toLowerCase()\n          : '';\n          \n        const matchesSearch = \n          project.name.toLowerCase().includes(searchQuery.toLowerCase()) || \n          projectManagerName.includes(searchQuery.toLowerCase());\n        \n        // Status filter (handle both string and enum values)\n        const matchesStatus = statusFilter === 'All' || \n          project.status === statusFilter || \n          (typeof project.status === 'string' && project.status.replace(/([A-Z])/g, '_$1').toUpperCase() === statusFilter);\n        \n        // Department filter\n        const matchesDepartment = departmentFilter === 'All' || \n          (project as Project).department.name === departmentFilter;\n        \n        return matchesSearch && matchesStatus && matchesDepartment;\n      })\n    : [];\n  \n  // Calculate pagination\n  const paginatedProjects = filteredProjects.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n  \n  // Helper function to get translated status label\n  const getTranslatedStatusLabel = (status: string): string => {\n    // Try to use the projectStatus namespace first for more granular control\n    const projectStatusKey = `projectStatus.${status}`;\n    const translatedStatus = t(projectStatusKey);\n\n    // If the translation key exists and returns a valid translation (not the key itself)\n    if (translatedStatus !== projectStatusKey) {\n      return translatedStatus;\n    }\n\n    // Fall back to the older status namespace if needed\n    switch(status) {\n      case 'PLANNING': return t('status.planning');\n      case 'IN_PROGRESS': return t('status.inProgress');\n      case 'ON_HOLD': return t('status.onHold');\n      case 'COMPLETED': return t('status.completed');\n      case 'CANCELLED': return t('status.cancelled');\n      default: return status;\n    }\n  };\n\n  // Check if a project is overdue\n  const isOverdue = (endDate?: string): boolean => {\n    return endDate ? new Date(endDate) < new Date() : false;\n  };\n\n  // Find goals associated with a project\n  const findProjectGoals = (projectId: string) => {\n    return goals.filter(goal => \n      goal.linkedProjects.some(projectLink => projectLink.projectId === projectId)\n    );\n  };\n\n  // Get project weight for a specific goal\n  const getProjectWeight = (goal: Goal, projectId: string) => {\n    const projectLink = goal.linkedProjects.find(projectLink => projectLink.projectId === projectId);\n    return projectLink ? projectLink.weight : 0;\n  };\n\n  // Render grid view\n  const renderGridView = () => (\n    <GridContainer spacing={3}>\n      {paginatedProjects.map((project) => {\n        const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n          typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n        );\n        \n        return (\n          <GridItem xs={12} sm={6} md={4} key={project.id}>\n            <EnhancedCard\n              title={project.name}\n              subtitle={project.department.name}\n              onClick={() => handleProjectClick(project.id)}\n              sx={{ \n                height: '100%',\n                transition: 'all 0.3s ease',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n                },\n                borderRadius: 2,\n                overflow: 'hidden',\n                position: 'relative'\n              }}\n              headerProps={{\n                sx: {\n                  pb: 1,\n                  borderBottom: '1px solid',\n                  borderColor: 'divider'\n                }\n              }}\n              footer={\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%', pt: 1 }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                    <Box\n                      sx={{\n                        width: 8,\n                        height: 8,\n                        borderRadius: '50%',\n                        bgcolor: theme.palette.primary.main,\n                        mr: 1,\n                      }}\n                    />\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"caption\" fontWeight=\"medium\">\n                    {project.projectManager\n                      ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                      : t('project.unassigned')}\n                  </Typography>\n                </Box>\n              }\n            >\n              <Box \n                sx={{ \n                  position: 'absolute',\n                  top: 10,\n                  right: 10,\n                  zIndex: 2\n                }}\n              >\n                <StatusBadge \n                  status={statusType}\n                  label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  size=\"small\"\n                />\n              </Box>\n            \n              <Box sx={{ mb: 2, mt: 1 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ \n                  height: 40, \n                  overflow: 'hidden', \n                  textOverflow: 'ellipsis',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 2,\n                  WebkitBoxOrient: 'vertical',\n                }}>\n                  {project.description}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mt: 2 }}>\n                <Box>\n                  {findProjectGoals(project.id).length > 0 && (\n                    <Tooltip title={t('goals.linkedGoals', 'Linked Goals')}>\n                      <Chip\n                        size=\"small\"\n                        label={`${findProjectGoals(project.id).length} ${t('goals.linked', 'Goals')}`}\n                        sx={{ mr: 1, fontSize: '0.7rem' }}\n                      />\n                    </Tooltip>\n                  )}\n                </Box>\n                <CircularProgressWithLabel \n                  value={project.progress} \n                  size={40} \n                  thickness={4}\n                  sx={{\n                    color: project.progress < 30 ? theme.palette.error.main :\n                           project.progress < 70 ? theme.palette.warning.main :\n                           theme.palette.success.main\n                  }}\n                />\n              </Box>\n            </EnhancedCard>\n          </GridItem>\n        );\n      })}\n    </GridContainer>\n  );\n\n  // Render list view\n  const renderListView = () => (\n    <TableContainer>\n      <Table sx={{ minWidth: 750 }} aria-label=\"projects table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>{t('project.name')}</TableCell>\n            <TableCell>{t('project.department')}</TableCell>\n            <TableCell>{t('project.status')}</TableCell>\n            <TableCell>{t('project.projectManager')}</TableCell>\n            <TableCell>{t('common.timeline')}</TableCell>\n            <TableCell>{t('project.progress')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {paginatedProjects.map((project) => {\n            const statusType = isOverdue(project.endDate) ? 'overdue' : mapStatusToType(\n              typeof project.status === 'string' ? project.status : ProjectStatus[project.status]\n            );\n            \n            return (\n              <TableRow\n                hover\n                key={project.id}\n                onClick={() => handleProjectClick(project.id)}\n                sx={{ cursor: 'pointer' }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  <Typography variant=\"body1\" fontWeight=\"medium\">\n                    {project.name}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" noWrap sx={{ maxWidth: 300 }}>\n                    {project.description}\n                  </Typography>\n                </TableCell>\n                <TableCell>{project.department.name}</TableCell>\n                <TableCell>\n                  <StatusBadge \n                    status={statusType}\n                    label={getTranslatedStatusLabel(typeof project.status === 'string' ? project.status : ProjectStatus[project.status])}\n                  />\n                </TableCell>\n                <TableCell>\n                  {project.projectManager\n                    ? `${project.projectManager.firstName || ''} ${project.projectManager.lastName || ''}`.trim()\n                    : t('project.unassigned')}\n                </TableCell>\n                <TableCell>\n                  <Typography variant=\"body2\">\n                    {new Date(project.startDate).toLocaleDateString()} - {new Date(project.endDate).toLocaleDateString()}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  <CircularProgressWithLabel value={project.progress} size={46} thickness={4} />\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n  \n  const handleAddLegacyProject = () => {\n    navigate('/projects/legacy/new');\n  };\n\n  const isPMO = (userRole?: string) => {\n    // Update to include Admin users\n    return userRole === 'SUB_PMO' || userRole === 'MAIN_PMO' || userRole === 'ADMIN';\n  };\n\n  return (\n    <Box sx={{ p: 3 }}>\n      <Paper \n        elevation={0} \n        sx={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center', \n          mb: 4,\n          p: 3,\n          borderRadius: 2,\n          background: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.primary.dark} 100%)`,\n          color: 'white',\n          position: 'relative',\n          overflow: 'hidden'\n        }}\n      >\n        <Box sx={{ \n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          opacity: 0.1,\n          background: 'url(https://www.transparenttextures.com/patterns/cubes.png)',\n          zIndex: 0\n        }} />\n        \n        <Box sx={{ zIndex: 1 }}>\n          <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\" gutterBottom>{t('navigation.projects')}</Typography>\n          <Typography variant=\"subtitle1\">{t('project.subtitle', 'Manage and monitor all your organizational projects')}</Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', gap: 2, zIndex: 1 }}>\n          {(isAdmin || isProjectManager) && (\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<AddIcon />}\n              onClick={handleCreateProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                boxShadow: '0 4px 10px rgba(0,0,0,0.15)',\n                fontWeight: 'bold',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-3px)',\n                  boxShadow: '0 6px 15px rgba(0,0,0,0.2)'\n                }\n              }}\n            >\n              {t('project.add')}\n            </Button>\n          )}\n          \n          {isPMO(user?.role) && (\n            <Button\n              variant=\"outlined\"\n              color=\"inherit\"\n              startIcon={<HistoryIcon />}\n              onClick={handleAddLegacyProject}\n              sx={{\n                borderRadius: 8,\n                px: 3,\n                py: 1.2,\n                borderColor: 'rgba(255,255,255,0.5)',\n                transition: 'all 0.3s',\n                '&:hover': {\n                  borderColor: 'white',\n                  backgroundColor: 'rgba(255,255,255,0.1)',\n                  transform: 'translateY(-3px)'\n                }\n              }}\n            >\n              {t('project.addLegacy', 'Add Legacy Project')}\n            </Button>\n          )}\n        </Box>\n      </Paper>\n      \n      <Paper sx={{ width: '100%', mb: 4, borderRadius: 2, overflow: 'hidden', boxShadow: '0 4px 20px rgba(0,0,0,0.05)' }}>\n        <Toolbar \n          sx={{ \n            p: 2, \n            display: 'flex', \n            justifyContent: 'space-between', \n            flexWrap: 'wrap',\n            gap: 2,\n            borderBottom: '1px solid',\n            borderColor: 'divider'\n          }}\n        >\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, flexWrap: 'wrap' }}>\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              placeholder={t('common.search')}\n              value={searchQuery}\n              onChange={handleSearchChange}\n              InputProps={{\n                startAdornment: <SearchIcon fontSize=\"small\" sx={{ mr: 1, color: 'action.active' }} />,\n              }}\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  borderRadius: 8,\n                  transition: 'all 0.2s',\n                  '&.Mui-focused': {\n                    boxShadow: '0 0 0 3px rgba(0,0,0,0.05)'\n                  }\n                }\n              }}\n            />\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 120 }}>\n              <InputLabel>{t('project.status')}</InputLabel>\n              <Select\n                label={t('project.status')}\n                value={statusFilter}\n                onChange={handleStatusFilterChange}\n                input={<OutlinedInput label={t('project.status')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {statusOptions.map((status) => (\n                  <MenuItem key={status} value={status}>\n                    {status === 'All' ? t('common.all') : getTranslatedStatusLabel(status)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            \n            <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 150 }}>\n              <InputLabel>{t('project.department')}</InputLabel>\n              <Select\n                label={t('project.department')}\n                value={departmentFilter}\n                onChange={handleDepartmentFilterChange}\n                input={<OutlinedInput label={t('project.department')} />}\n                sx={{ borderRadius: 8 }}\n              >\n                {departmentOptions.map((department) => (\n                  <MenuItem key={department} value={department}>\n                    {department === 'All' ? t('common.all') : department}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n          \n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Tooltip title={viewMode === 'grid' ? t('common.listView') : t('common.gridView')}>\n              <IconButton \n                onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n                color=\"primary\"\n                sx={{\n                  bgcolor: theme.palette.action.hover,\n                  '&:hover': {\n                    bgcolor: alpha(theme.palette.primary.main, 0.1)\n                  }\n                }}\n              >\n                {viewMode === 'grid' ? <ViewListIcon /> : <ViewModuleIcon />}\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </Toolbar>\n        \n        {loading ? (\n          <Box sx={{ p: 4, display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\n            <CircularProgress />\n          </Box>\n        ) : error ? (\n          <Box sx={{ p: 4, textAlign: 'center' }}>\n            <Alert \n              severity=\"error\" \n              sx={{ \n                maxWidth: 500, \n                mx: 'auto',\n                borderRadius: 2,\n                boxShadow: '0 4px 12px rgba(211,47,47,0.1)'\n              }}\n            >\n              {error}\n            </Alert>\n          </Box>\n        ) : paginatedProjects.length === 0 ? (\n          <Box sx={{ p: 8, textAlign: 'center' }}>\n            <Box sx={{ mb: 3, opacity: 0.7 }}>\n              <svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3 7V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M8 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M16 5V3\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                <path d=\"M3 9H21\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                <path d=\"M9 13H15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n              </svg>\n            </Box>\n            <Typography variant=\"h6\" sx={{ fontWeight: 'medium', mb: 1 }}>\n              {t('common.noData')}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3, maxWidth: 400, mx: 'auto' }}>\n              {searchQuery || statusFilter !== 'All' || departmentFilter !== 'All'\n                ? t('common.adjustSearchCriteria')\n                : t('project.createNewToStart')}\n            </Typography>\n            \n            {(isAdmin || isProjectManager) && (searchQuery === '' && statusFilter === 'All' && departmentFilter === 'All') && (\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                onClick={handleCreateProject}\n                sx={{ \n                  borderRadius: 8,\n                  px: 3,\n                  py: 1\n                }}\n              >\n                {t('project.add')}\n              </Button>\n            )}\n          </Box>\n        ) : (\n          <Box sx={{ p: 3 }}>\n            {viewMode === 'grid' ? renderGridView() : renderListView()}\n          </Box>\n        )}\n        \n        <TablePagination\n          rowsPerPageOptions={[6, 12, 24]}\n          component=\"div\"\n          count={filteredProjects.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          labelRowsPerPage={t('common.rowsPerPage')}\n          labelDisplayedRows={({ from, to, count }) =>\n            `${from}-${to} ${t('common.of')} ${count}`\n          }\n          sx={{\n            borderTop: '1px solid',\n            borderColor: 'divider',\n            '& .MuiTablePagination-selectIcon': {\n              color: theme.palette.action.active\n            }\n          }}\n        />\n      </Paper>\n      \n      {/* Add Project Dialog */}\n      <AddProjectDialog\n        open={isAddProjectDialogOpen}\n        onClose={() => setIsAddProjectDialogOpen(false)}\n        onProjectAdded={handleProjectAdded}\n        departments={departments}\n        users={users}\n      />\n    </Box>\n  );\n};\n\nexport default ProjectsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}