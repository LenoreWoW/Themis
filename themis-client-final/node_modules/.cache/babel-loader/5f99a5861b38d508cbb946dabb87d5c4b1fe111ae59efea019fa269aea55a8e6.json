{"ast":null,"code":"import React,{useState}from'react';import{IconButton,Avatar,Menu,MenuItem,ListItemIcon,ListItemText,Divider,Box,Typography}from'@mui/material';import{Settings as SettingsIcon,Logout as LogoutIcon}from'@mui/icons-material';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{useTranslation}from'react-i18next';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserMenu=()=>{var _user$firstName;const[anchorEl,setAnchorEl]=useState(null);const{user,logout}=useAuth();const navigate=useNavigate();const{t}=useTranslation();const handleProfileMenuOpen=event=>{setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const handleLogout=()=>{handleMenuClose();logout();navigate('/login');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"account of current user\",\"aria-haspopup\":\"true\",onClick:handleProfileMenuOpen,color:\"inherit\",children:/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'secondary.main'},children:(user===null||user===void 0?void 0:(_user$firstName=user.firstName)===null||_user$firstName===void 0?void 0:_user$firstName.charAt(0))||'U'})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,anchorOrigin:{vertical:'bottom',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleMenuClose,children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:`${(user===null||user===void 0?void 0:user.firstName)||''} ${(user===null||user===void 0?void 0:user.lastName)||''}`}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:user===null||user===void 0?void 0:user.role})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleMenuClose,component:Link,to:\"/profile\",children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(SettingsIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:t('auth.settings','Settings')})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleLogout,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LogoutIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:t('auth.signout','Logout')})]})]})]});};export default UserMenu;","map":{"version":3,"names":["React","useState","IconButton","Avatar","Menu","MenuItem","ListItemIcon","ListItemText","Divider","Box","Typography","Settings","SettingsIcon","Logout","LogoutIcon","Link","useNavigate","useAuth","useTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserMenu","_user$firstName","anchorEl","setAnchorEl","user","logout","navigate","t","handleProfileMenuOpen","event","currentTarget","handleMenuClose","handleLogout","children","edge","onClick","color","sx","bgcolor","firstName","charAt","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","disabled","variant","lastName","role","component","to","fontSize"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/UserMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  IconButton,\n  Avatar,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Box,\n  Typography\n} from '@mui/material';\nimport { Settings as SettingsIcon, Logout as LogoutIcon } from '@mui/icons-material';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { useTranslation } from 'react-i18next';\n\nconst UserMenu: React.FC = () => {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    handleMenuClose();\n    logout();\n    navigate('/login');\n  };\n\n  return (\n    <>\n      <IconButton\n        edge=\"end\"\n        aria-label=\"account of current user\"\n        aria-haspopup=\"true\"\n        onClick={handleProfileMenuOpen}\n        color=\"inherit\"\n      >\n        <Avatar sx={{ bgcolor: 'secondary.main' }}>\n          {user?.firstName?.charAt(0) || 'U'}\n        </Avatar>\n      </IconButton>\n      \n      <Menu\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem disabled>\n          <Box>\n            <Typography variant=\"subtitle1\">{`${user?.firstName || ''} ${user?.lastName || ''}`}</Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">{user?.role}</Typography>\n          </Box>\n        </MenuItem>\n        <Divider />\n        <MenuItem onClick={handleMenuClose} component={Link} to=\"/profile\">\n          <ListItemIcon>\n            <SettingsIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>{t('auth.settings', 'Settings')}</ListItemText>\n        </MenuItem>\n        <MenuItem onClick={handleLogout}>\n          <ListItemIcon>\n            <LogoutIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>{t('auth.signout', 'Logout')}</ListItemText>\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default UserMenu; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}