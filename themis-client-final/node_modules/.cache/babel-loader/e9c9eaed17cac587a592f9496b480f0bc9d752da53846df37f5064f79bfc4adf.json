{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskCard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, Typography, Chip, Box, LinearProgress, Collapse, Divider, TextField, Button, Avatar, List, ListItem, ListItemAvatar, ListItemText, IconButton, Paper, Slider, Tooltip as MuiTooltip } from '@mui/material';\nimport { CalendarToday, Person, Comment as CommentIcon, ExpandMore, ExpandLess, Send as SendIcon } from '@mui/icons-material';\nimport { TaskStatus, TaskPriority } from '../../types';\nimport { format } from 'date-fns';\nimport { useAuth } from '../../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskCard = ({\n  task,\n  onClick,\n  onAddComment,\n  onUpdateProgress\n}) => {\n  _s();\n  var _task$description, _user$firstName, _user$lastName;\n  const {\n    user\n  } = useAuth();\n  const [expanded, setExpanded] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState(task.comments || []);\n  const handleExpandClick = e => {\n    e.stopPropagation();\n    setExpanded(!expanded);\n  };\n  const handleCommentChange = e => {\n    setNewComment(e.target.value);\n  };\n  const handleAddComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    try {\n      setSubmitting(true);\n      if (onAddComment) {\n        await onAddComment(task.id, newComment);\n      }\n\n      // For demo purposes, add the comment locally\n      const newCommentObj = {\n        id: `comment-${Date.now()}`,\n        taskId: task.id,\n        text: newComment,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        author: {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName\n        }\n      };\n      setLocalComments([...localComments, newCommentObj]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleAddComment();\n    }\n  };\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Determine card border color based on deadline\n  const getBorderColor = () => {\n    if (task.status === TaskStatus.DONE) return 'success.main';\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return 'error.main'; // Overdue\n    if (daysLeft <= 2) return 'warning.main'; // Close to deadline\n    if (daysLeft <= 5) return 'info.main'; // Approaching deadline\n    return 'primary.main'; // Plenty of time\n  };\n\n  // Get status chip color\n  const getStatusColor = status => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n\n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO:\n        return 'default';\n      case TaskStatus.IN_PROGRESS:\n        return 'primary';\n      case TaskStatus.REVIEW:\n        return 'warning';\n      case TaskStatus.DONE:\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case TaskPriority.LOW:\n        return 'success';\n      case TaskPriority.MEDIUM:\n        return 'warning';\n      case TaskPriority.HIGH:\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Format time for comments\n  const formatTime = dateString => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO:\n        return 0;\n      case TaskStatus.IN_PROGRESS:\n        return 50;\n      case TaskStatus.REVIEW:\n        return 80;\n      case TaskStatus.DONE:\n        return 100;\n      default:\n        return 0;\n    }\n  };\n\n  // Calculate progress based on task status\n  const calculateProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO:\n        return 0;\n      case TaskStatus.IN_PROGRESS:\n        return 50;\n      case TaskStatus.REVIEW:\n        return 80;\n      case TaskStatus.DONE:\n        return 100;\n      default:\n        return 0;\n    }\n  };\n  const [progressValue, setProgressValue] = useState(calculateProgress());\n  useEffect(() => {\n    setProgressValue(calculateProgress());\n  }, [task.status]);\n  const handleProgressChange = (event, newValue) => {\n    event.stopPropagation(); // Prevent card click when changing progress\n\n    const value = Array.isArray(newValue) ? newValue[0] : newValue;\n    setProgressValue(value);\n    if (!onUpdateProgress) return;\n\n    // Determine the new task status based on progress value\n    let newStatus = task.status;\n    if (value === 0) {\n      newStatus = TaskStatus.TODO;\n    } else if (value > 0 && value < 50) {\n      newStatus = TaskStatus.IN_PROGRESS;\n    } else if (value >= 50 && value < 100) {\n      newStatus = TaskStatus.REVIEW;\n    } else if (value === 100) {\n      newStatus = TaskStatus.DONE;\n    }\n    onUpdateProgress(task.id, value, newStatus);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      borderLeft: 5,\n      borderColor: getBorderColor(),\n      cursor: onClick && !expanded ? 'pointer' : 'default',\n      '&:hover': !expanded && onClick ? {\n        transform: 'translateY(-4px)',\n        boxShadow: 3,\n        transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out'\n      } : {},\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    onClick: expanded ? undefined : onClick,\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        flexGrow: 1,\n        pb: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Chip, {\n          label: task.status,\n          size: \"small\",\n          color: getStatusColor(task.status)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: task.priority,\n          size: \"small\",\n          color: getPriorityColor(task.priority),\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE && /*#__PURE__*/_jsxDEV(Chip, {\n        label: \"OVERDUE\",\n        size: \"small\",\n        color: \"error\",\n        sx: {\n          mt: 1,\n          mb: 1,\n          fontWeight: 'bold'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"div\",\n        sx: {\n          mb: 1\n        },\n        children: task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          mb: 2\n        },\n        children: !expanded && ((_task$description = task.description) === null || _task$description === void 0 ? void 0 : _task$description.length) > 100 ? `${task.description.substring(0, 100)}...` : task.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Person, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(CalendarToday, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [formatDate(task.startDate), \" - \", formatDate(task.dueDate)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            mb: 0.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error.main' : 'text.secondary',\n            fontWeight: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal',\n            children: getDeadlineMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), onUpdateProgress ? /*#__PURE__*/_jsxDEV(MuiTooltip, {\n          title: `${progressValue}% complete`,\n          children: /*#__PURE__*/_jsxDEV(Slider, {\n            value: progressValue,\n            onChange: handleProgressChange,\n            \"aria-labelledby\": \"task-progress-slider\",\n            size: \"small\",\n            step: 10,\n            marks: true,\n            min: 0,\n            max: 100,\n            sx: {\n              height: 8,\n              pt: 1,\n              pb: 1\n            },\n            color: task.status === TaskStatus.DONE ? 'success' : calculateDaysUntilDeadline() < 0 ? 'error' : calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary',\n            onClick: e => e.stopPropagation()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: getProgress(),\n          color: task.status === TaskStatus.DONE ? 'success' : calculateDaysUntilDeadline() < 0 ? 'error' : calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary',\n          sx: {\n            height: 6,\n            borderRadius: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          mt: 2,\n          borderTop: '1px solid',\n          borderColor: 'divider',\n          pt: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleExpandClick,\n          \"aria-expanded\": expanded,\n          \"aria-label\": \"show more\",\n          size: \"small\",\n          sx: {\n            transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)'\n          },\n          children: expanded ? /*#__PURE__*/_jsxDEV(ExpandLess, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gutterBottom: true,\n          children: [/*#__PURE__*/_jsxDEV(CommentIcon, {\n            sx: {\n              mr: 1,\n              fontSize: 'small'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), \"Comments (\", localComments.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          sx: {\n            maxHeight: '300px',\n            overflow: 'auto',\n            mb: 2\n          },\n          children: localComments.length > 0 ? localComments.map(comment => /*#__PURE__*/_jsxDEV(ListItem, {\n            alignItems: \"flex-start\",\n            sx: {\n              px: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  width: 32,\n                  height: 32,\n                  fontSize: '0.875rem'\n                },\n                children: [comment.author.firstName.charAt(0), comment.author.lastName.charAt(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  fontWeight: \"bold\",\n                  children: [comment.author.firstName, \" \", comment.author.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: formatTime(comment.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 23\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(Paper, {\n                variant: \"outlined\",\n                sx: {\n                  p: 1,\n                  mt: 0.5,\n                  bgcolor: 'background.default',\n                  whiteSpace: 'pre-wrap',\n                  fontSize: '0.875rem'\n                },\n                children: comment.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this)]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              py: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"No comments yet. Be the first to comment!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'flex-start'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              mr: 1,\n              width: 32,\n              height: 32,\n              fontSize: '0.875rem'\n            },\n            alt: user !== null && user !== void 0 && user.firstName ? `${user.firstName} ${user.lastName}` : 'User',\n            children: [user === null || user === void 0 ? void 0 : (_user$firstName = user.firstName) === null || _user$firstName === void 0 ? void 0 : _user$firstName.charAt(0), user === null || user === void 0 ? void 0 : (_user$lastName = user.lastName) === null || _user$lastName === void 0 ? void 0 : _user$lastName.charAt(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            multiline: true,\n            rows: 2,\n            placeholder: \"Add a comment...\",\n            value: newComment,\n            onChange: handleCommentChange,\n            onKeyPress: handleKeyPress,\n            variant: \"outlined\",\n            size: \"small\",\n            sx: {\n              fontSize: '0.875rem'\n            },\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                size: \"small\",\n                onClick: handleAddComment,\n                disabled: !newComment.trim() || !user || submitting,\n                startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 32\n                }, this),\n                sx: {\n                  ml: 1,\n                  mt: 0.5\n                },\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskCard, \"n/AxdVe2w1KzxjHW+6GpJrUv7Lc=\", false, function () {\n  return [useAuth];\n});\n_c = TaskCard;\nexport default TaskCard;\nvar _c;\n$RefreshReg$(_c, \"TaskCard\");","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","Typography","Chip","Box","LinearProgress","Collapse","Divider","TextField","Button","Avatar","List","ListItem","ListItemAvatar","ListItemText","IconButton","Paper","Slider","Tooltip","MuiTooltip","CalendarToday","Person","Comment","CommentIcon","ExpandMore","ExpandLess","Send","SendIcon","TaskStatus","TaskPriority","format","useAuth","jsxDEV","_jsxDEV","TaskCard","task","onClick","onAddComment","onUpdateProgress","_s","_task$description","_user$firstName","_user$lastName","user","expanded","setExpanded","newComment","setNewComment","submitting","setSubmitting","localComments","setLocalComments","comments","handleExpandClick","e","stopPropagation","handleCommentChange","target","value","handleAddComment","trim","id","newCommentObj","Date","now","taskId","text","createdAt","toISOString","updatedAt","author","firstName","lastName","error","console","handleKeyPress","key","shiftKey","preventDefault","calculateDaysUntilDeadline","dueDate","today","diffTime","getTime","diffDays","Math","ceil","getBorderColor","status","DONE","daysLeft","getStatusColor","TODO","IN_PROGRESS","REVIEW","getPriorityColor","priority","LOW","MEDIUM","HIGH","formatDate","dateString","toLocaleDateString","formatTime","getDeadlineMessage","abs","getProgress","calculateProgress","progressValue","setProgressValue","handleProgressChange","event","newValue","Array","isArray","newStatus","sx","borderLeft","borderColor","cursor","transform","boxShadow","transition","height","display","flexDirection","undefined","children","flexGrow","pb","justifyContent","mb","label","size","color","fileName","_jsxFileName","lineNumber","columnNumber","variant","mt","fontWeight","component","title","description","length","substring","alignItems","fontSize","mr","assignee","startDate","onChange","step","marks","min","max","pt","borderRadius","borderTop","in","timeout","unmountOnExit","p","gutterBottom","maxHeight","overflow","map","comment","px","width","charAt","primary","secondary","bgcolor","whiteSpace","textAlign","py","alt","fullWidth","multiline","rows","placeholder","onKeyPress","InputProps","endAdornment","disabled","startIcon","ml","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskCard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  CardContent, \n  Typography, \n  Chip, \n  Box, \n  LinearProgress, \n  Collapse, \n  Divider, \n  TextField, \n  Button, \n  Avatar, \n  List, \n  ListItem, \n  ListItemAvatar, \n  ListItemText, \n  IconButton,\n  Paper,\n  Slider,\n  Tooltip as MuiTooltip\n} from '@mui/material';\nimport { \n  CalendarToday, \n  Person, \n  Comment as CommentIcon, \n  ExpandMore, \n  ExpandLess,\n  Send as SendIcon\n} from '@mui/icons-material';\nimport { Task, TaskStatus, TaskPriority, TaskComment } from '../../types';\nimport { format } from 'date-fns';\nimport { useAuth } from '../../context/AuthContext';\n\ninterface TaskCardProps {\n  task: Task;\n  onClick?: () => void;\n  onAddComment?: (taskId: string, comment: string) => Promise<void>;\n  onUpdateProgress?: (taskId: string, progress: number, newStatus: TaskStatus) => void;\n}\n\nconst TaskCard: React.FC<TaskCardProps> = ({ task, onClick, onAddComment, onUpdateProgress }) => {\n  const { user } = useAuth();\n  const [expanded, setExpanded] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState<TaskComment[]>(task.comments || []);\n\n  const handleExpandClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setExpanded(!expanded);\n  };\n\n  const handleCommentChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setNewComment(e.target.value);\n  };\n\n  const handleAddComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    \n    try {\n      setSubmitting(true);\n      \n      if (onAddComment) {\n        await onAddComment(task.id, newComment);\n      }\n      \n      // For demo purposes, add the comment locally\n      const newCommentObj: TaskComment = {\n        id: `comment-${Date.now()}`,\n        taskId: task.id,\n        text: newComment,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        author: {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName\n        }\n      };\n      \n      setLocalComments([...localComments, newCommentObj]);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleAddComment();\n    }\n  };\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Determine card border color based on deadline\n  const getBorderColor = () => {\n    if (task.status === TaskStatus.DONE) return 'success.main';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return 'error.main'; // Overdue\n    if (daysLeft <= 2) return 'warning.main'; // Close to deadline\n    if (daysLeft <= 5) return 'info.main'; // Approaching deadline\n    return 'primary.main'; // Plenty of time\n  };\n\n  // Get status chip color\n  const getStatusColor = (status: TaskStatus) => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n    \n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO: return 'default';\n      case TaskStatus.IN_PROGRESS: return 'primary';\n      case TaskStatus.REVIEW: return 'warning';\n      case TaskStatus.DONE: return 'success';\n      default: return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = (priority: TaskPriority) => {\n    switch (priority) {\n      case TaskPriority.LOW: return 'success';\n      case TaskPriority.MEDIUM: return 'warning';\n      case TaskPriority.HIGH: return 'error';\n      default: return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  \n  // Format time for comments\n  const formatTime = (dateString: string) => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  // Calculate progress based on task status\n  const calculateProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  const [progressValue, setProgressValue] = useState<number>(calculateProgress());\n\n  useEffect(() => {\n    setProgressValue(calculateProgress());\n  }, [task.status]);\n\n  const handleProgressChange = (event: Event, newValue: number | number[]) => {\n    event.stopPropagation(); // Prevent card click when changing progress\n    \n    const value = Array.isArray(newValue) ? newValue[0] : newValue;\n    setProgressValue(value);\n    \n    if (!onUpdateProgress) return;\n    \n    // Determine the new task status based on progress value\n    let newStatus = task.status;\n    if (value === 0) {\n      newStatus = TaskStatus.TODO;\n    } else if (value > 0 && value < 50) {\n      newStatus = TaskStatus.IN_PROGRESS;\n    } else if (value >= 50 && value < 100) {\n      newStatus = TaskStatus.REVIEW;\n    } else if (value === 100) {\n      newStatus = TaskStatus.DONE;\n    }\n    \n    onUpdateProgress(task.id, value, newStatus);\n  };\n\n  return (\n    <Card \n      sx={{ \n        borderLeft: 5, \n        borderColor: getBorderColor(),\n        cursor: onClick && !expanded ? 'pointer' : 'default',\n        '&:hover': !expanded && onClick ? { \n          transform: 'translateY(-4px)',\n          boxShadow: 3,\n          transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out'\n        } : {},\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column'\n      }}\n      onClick={expanded ? undefined : onClick}\n    >\n      <CardContent sx={{ flexGrow: 1, pb: 1 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n          <Chip \n            label={task.status} \n            size=\"small\" \n            color={getStatusColor(task.status)}\n          />\n          <Chip \n            label={task.priority} \n            size=\"small\" \n            color={getPriorityColor(task.priority)}\n            variant=\"outlined\"\n          />\n        </Box>\n\n        {calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE && (\n          <Chip \n            label=\"OVERDUE\" \n            size=\"small\" \n            color=\"error\"\n            sx={{ mt: 1, mb: 1, fontWeight: 'bold' }}\n          />\n        )}\n\n        <Typography variant=\"h6\" component=\"div\" sx={{ mb: 1 }}>\n          {task.title}\n        </Typography>\n        \n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n          {!expanded && task.description?.length > 100 \n            ? `${task.description.substring(0, 100)}...` \n            : task.description}\n        </Typography>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n          <Person fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\">\n            {task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n          <CalendarToday fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\">\n            {formatDate(task.startDate)} - {formatDate(task.dueDate)}\n          </Typography>\n        </Box>\n        \n        <Box sx={{ mt: 'auto' }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 0.5 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Progress</Typography>\n            <Typography \n              variant=\"body2\" \n              color={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error.main' : 'text.secondary'}\n              fontWeight={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal'}\n            >\n              {getDeadlineMessage()}\n            </Typography>\n          </Box>\n          \n          {/* Replace the LinearProgress with a Slider when onUpdateProgress is provided */}\n          {onUpdateProgress ? (\n            <MuiTooltip title={`${progressValue}% complete`}>\n              <Slider\n                value={progressValue}\n                onChange={handleProgressChange}\n                aria-labelledby=\"task-progress-slider\"\n                size=\"small\"\n                step={10}\n                marks\n                min={0}\n                max={100}\n                sx={{ height: 8, pt: 1, pb: 1 }}\n                color={task.status === TaskStatus.DONE ? 'success' : \n                      calculateDaysUntilDeadline() < 0 ? 'error' : \n                      calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n                onClick={(e) => e.stopPropagation()}\n              />\n            </MuiTooltip>\n          ) : (\n            <LinearProgress \n              variant=\"determinate\" \n              value={getProgress()} \n              color={task.status === TaskStatus.DONE ? 'success' : \n                    calculateDaysUntilDeadline() < 0 ? 'error' : \n                    calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n              sx={{ height: 6, borderRadius: 3 }}\n            />\n          )}\n        </Box>\n        \n        <Box \n          sx={{ \n            display: 'flex', \n            justifyContent: 'center', \n            mt: 2, \n            borderTop: '1px solid',\n            borderColor: 'divider',\n            pt: 1\n          }}\n        >\n          <IconButton \n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n            size=\"small\"\n            sx={{ transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)' }}\n          >\n            {expanded ? <ExpandLess /> : <ExpandMore />}\n          </IconButton>\n        </Box>\n      </CardContent>\n      \n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <Divider />\n        <Box sx={{ p: 2 }}>\n          <Typography variant=\"subtitle1\" display=\"flex\" alignItems=\"center\" gutterBottom>\n            <CommentIcon sx={{ mr: 1, fontSize: 'small' }} />\n            Comments ({localComments.length})\n          </Typography>\n          \n          <List sx={{ maxHeight: '300px', overflow: 'auto', mb: 2 }}>\n            {localComments.length > 0 ? (\n              localComments.map((comment) => (\n                <ListItem key={comment.id} alignItems=\"flex-start\" sx={{ px: 0 }}>\n                  <ListItemAvatar>\n                    <Avatar sx={{ width: 32, height: 32, fontSize: '0.875rem' }}>\n                      {comment.author.firstName.charAt(0)}{comment.author.lastName.charAt(0)}\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box display=\"flex\" justifyContent=\"space-between\">\n                        <Typography variant=\"body2\" fontWeight=\"bold\">\n                          {comment.author.firstName} {comment.author.lastName}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {formatTime(comment.createdAt)}\n                        </Typography>\n                      </Box>\n                    }\n                    secondary={\n                      <Paper \n                        variant=\"outlined\" \n                        sx={{ \n                          p: 1, \n                          mt: 0.5, \n                          bgcolor: 'background.default',\n                          whiteSpace: 'pre-wrap',\n                          fontSize: '0.875rem'\n                        }}\n                      >\n                        {comment.text}\n                      </Paper>\n                    }\n                  />\n                </ListItem>\n              ))\n            ) : (\n              <Box sx={{ textAlign: 'center', py: 2 }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No comments yet. Be the first to comment!\n                </Typography>\n              </Box>\n            )}\n          </List>\n          \n          <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n            <Avatar \n              sx={{ mr: 1, width: 32, height: 32, fontSize: '0.875rem' }}\n              alt={user?.firstName ? `${user.firstName} ${user.lastName}` : 'User'}\n            >\n              {user?.firstName?.charAt(0)}{user?.lastName?.charAt(0)}\n            </Avatar>\n            <TextField\n              fullWidth\n              multiline\n              rows={2}\n              placeholder=\"Add a comment...\"\n              value={newComment}\n              onChange={handleCommentChange}\n              onKeyPress={handleKeyPress}\n              variant=\"outlined\"\n              size=\"small\"\n              sx={{ fontSize: '0.875rem' }}\n              InputProps={{\n                endAdornment: (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={handleAddComment}\n                    disabled={!newComment.trim() || !user || submitting}\n                    startIcon={<SendIcon />}\n                    sx={{ ml: 1, mt: 0.5 }}\n                  >\n                    Send\n                  </Button>\n                )\n              }}\n            />\n          </Box>\n        </Box>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport default TaskCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}