{"ast":null,"code":"import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport Backend from \"i18next-http-backend\";\nimport { arTranslations } from \"./ar\";\nimport { enTranslations } from \"./en\";\n\n// Get saved language preference from localStorage\nconst savedLanguage = localStorage.getItem('themisLanguage') || 'en';\n\n// Initialize i18next\ni18n.use(Backend).use(LanguageDetector).use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: enTranslations\n    },\n    ar: {\n      translation: arTranslations\n    }\n  },\n  lng: savedLanguage,\n  // Use the saved language or default to fallbackLng\n  fallbackLng: \"en\",\n  debug: process.env.NODE_ENV === \"development\",\n  interpolation: {\n    escapeValue: false // not needed for react as it escapes by default\n  },\n  // Detect language from localStorage, URL, or browser settings\n  detection: {\n    order: [\"localStorage\", \"navigator\"],\n    lookupLocalStorage: \"themisLanguage\",\n    caches: [\"localStorage\"]\n  },\n  // Important: these settings will fix the x.x display issue\n  keySeparator: \".\",\n  // Enables the use of dots as separators in translation keys\n  nsSeparator: \":\",\n  // Enables the use of colons to separate namespaces\n  returnNull: false,\n  // Return key instead of null when key is missing\n  returnEmptyString: false,\n  // Return key instead of empty string when value is empty\n  returnObjects: true,\n  // Allows returning objects\n  saveMissing: false,\n  // Don't save missing keys\n  missingKeyHandler: (lng, ns, key) => {\n    // For missing keys, return the last part after the dot\n    // This way \"navigation.projects\" will display as \"projects\" when missing\n    return key.split('.').pop() || key;\n  }\n});\n\n// Apply the correct direction immediately\nconst currentLang = i18n.language || savedLanguage;\ndocument.documentElement.lang = currentLang;\ndocument.documentElement.dir = currentLang === \"ar\" ? \"rtl\" : \"ltr\";\n\n// Add RTL support\ni18n.on(\"languageChanged\", lng => {\n  document.documentElement.lang = lng;\n  document.documentElement.dir = lng === \"ar\" ? \"rtl\" : \"ltr\";\n\n  // Update Material-UI direction\n  const body = document.body;\n  if (lng === \"ar\") {\n    body.classList.add(\"rtl\");\n    body.classList.remove(\"ltr\");\n\n    // Load Arabic font\n    if (!document.getElementById('arabic-font')) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = 'https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap';\n      link.id = 'arabic-font';\n      document.head.appendChild(link);\n    }\n  } else {\n    body.classList.add(\"ltr\");\n    body.classList.remove(\"rtl\");\n  }\n\n  // Store the language preference\n  localStorage.setItem('themisLanguage', lng);\n});\nexport default i18n;","map":{"version":3,"names":["i18n","initReactI18next","LanguageDetector","Backend","arTranslations","enTranslations","savedLanguage","localStorage","getItem","use","init","resources","en","translation","ar","lng","fallbackLng","debug","process","env","NODE_ENV","interpolation","escapeValue","detection","order","lookupLocalStorage","caches","keySeparator","nsSeparator","returnNull","returnEmptyString","returnObjects","saveMissing","missingKeyHandler","ns","key","split","pop","currentLang","language","document","documentElement","lang","dir","on","body","classList","add","remove","getElementById","link","createElement","rel","href","id","head","appendChild","setItem"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/i18n/index.ts"],"sourcesContent":["import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport Backend from \"i18next-http-backend\";\nimport { arTranslations } from \"./ar\";\nimport { enTranslations } from \"./en\";\n\n// Get saved language preference from localStorage\nconst savedLanguage = localStorage.getItem('themisLanguage') || 'en';\n\n// Initialize i18next\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translation: enTranslations\n      },\n      ar: {\n        translation: arTranslations\n      }\n    },\n    lng: savedLanguage, // Use the saved language or default to fallbackLng\n    fallbackLng: \"en\",\n    debug: process.env.NODE_ENV === \"development\",\n    \n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    \n    // Detect language from localStorage, URL, or browser settings\n    detection: {\n      order: [\"localStorage\", \"navigator\"],\n      lookupLocalStorage: \"themisLanguage\",\n      caches: [\"localStorage\"],\n    },\n    \n    // Important: these settings will fix the x.x display issue\n    keySeparator: \".\",       // Enables the use of dots as separators in translation keys\n    nsSeparator: \":\",        // Enables the use of colons to separate namespaces\n    returnNull: false,       // Return key instead of null when key is missing\n    returnEmptyString: false,// Return key instead of empty string when value is empty\n    returnObjects: true,     // Allows returning objects\n    saveMissing: false,      // Don't save missing keys\n    missingKeyHandler: (lng, ns, key) => {\n      // For missing keys, return the last part after the dot\n      // This way \"navigation.projects\" will display as \"projects\" when missing\n      return key.split('.').pop() || key;\n    }\n  });\n\n// Apply the correct direction immediately\nconst currentLang = i18n.language || savedLanguage;\ndocument.documentElement.lang = currentLang;\ndocument.documentElement.dir = currentLang === \"ar\" ? \"rtl\" : \"ltr\";\n\n// Add RTL support\ni18n.on(\"languageChanged\", (lng) => {\n  document.documentElement.lang = lng;\n  document.documentElement.dir = lng === \"ar\" ? \"rtl\" : \"ltr\";\n  \n  // Update Material-UI direction\n  const body = document.body;\n  if (lng === \"ar\") {\n    body.classList.add(\"rtl\");\n    body.classList.remove(\"ltr\");\n    \n    // Load Arabic font\n    if (!document.getElementById('arabic-font')) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = 'https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap';\n      link.id = 'arabic-font';\n      document.head.appendChild(link);\n    }\n  } else {\n    body.classList.add(\"ltr\");\n    body.classList.remove(\"rtl\");\n  }\n  \n  // Store the language preference\n  localStorage.setItem('themisLanguage', lng);\n});\n\nexport default i18n;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}