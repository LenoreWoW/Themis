{"ast":null,"code":"import React from'react';import{Droppable}from'react-beautiful-dnd';import{Box,Typography,Paper,Chip,Tooltip,IconButton,Menu,MenuItem}from'@mui/material';import KanbanTask from'./KanbanTask';import{Add as AddIcon,MoreVert as MoreIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KanbanColumn=_ref=>{let{id,title,tasks,status,color,onTaskClick,onAddTask,isDropDisabled=false,isCombineEnabled=false,maxTasksPerColumn}=_ref;const isColumnFull=maxTasksPerColumn?tasks.length>=maxTasksPerColumn:false;const columnStyles={backgroundColor:isColumnFull?'#f9e6e6':'#f5f5f5',border:isColumnFull?'1px dashed #d32f2f':'1px solid #e0e0e0'};const[anchorEl,setAnchorEl]=React.useState(null);const handleMenuOpen=event=>{setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const handleAddTaskClick=()=>{handleMenuClose();if(onAddTask){onAddTask();}};return/*#__PURE__*/_jsxs(Box,{sx:{width:'300px',minWidth:'300px',height:'100%',display:'flex',flexDirection:'column',mr:2,flexShrink:0},role:\"region\",\"aria-label\":`${title} column`,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:1,px:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontSize:'1rem',fontWeight:'bold',color:'text.primary'},children:title}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Tooltip,{title:`${tasks.length} tasks in this column`,children:/*#__PURE__*/_jsx(Chip,{label:tasks.length,size:\"small\",sx:{backgroundColor:color,color:'white',fontWeight:'bold',mr:1}})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Column actions\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:handleMenuOpen,children:/*#__PURE__*/_jsx(MoreIcon,{fontSize:\"small\"})})}),/*#__PURE__*/_jsx(Menu,{anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,children:/*#__PURE__*/_jsxs(MenuItem,{onClick:handleAddTaskClick,children:[/*#__PURE__*/_jsx(AddIcon,{fontSize:\"small\",sx:{mr:1}}),\"Add Task\"]})})]})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:id,type:\"TASK\",isDropDisabled:isDropDisabled||isColumnFull,isCombineEnabled:isCombineEnabled,ignoreContainerClipping:false,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(Paper,{ref:provided.innerRef,...provided.droppableProps,sx:{flexGrow:1,overflowY:'auto',p:1,height:'calc(100% - 40px)',...columnStyles,transition:'background-color 0.2s ease',...(snapshot.isDraggingOver&&{backgroundColor:'#e3f2fd',boxShadow:'0px 0px 10px rgba(0, 0, 0, 0.1)'})},onContextMenu:e=>{e.preventDefault();if(onAddTask){onAddTask();}},children:[tasks.length===0?/*#__PURE__*/_jsx(Box,{sx:{height:'100%',display:'flex',alignItems:'center',justifyContent:'center',opacity:0.6,border:'2px dashed #ccc',borderRadius:1,cursor:'pointer'},onClick:()=>onAddTask&&onAddTask(),children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No tasks - Click to add\"})}):tasks.map((task,index)=>/*#__PURE__*/_jsx(KanbanTask,{task:task,index:index,onClick:()=>onTaskClick&&onTaskClick(task.id)},String(task.id))),provided.placeholder]})})]});};export default KanbanColumn;","map":{"version":3,"names":["React","Droppable","Box","Typography","Paper","Chip","Tooltip","IconButton","Menu","MenuItem","KanbanTask","Add","AddIcon","MoreVert","MoreIcon","jsx","_jsx","jsxs","_jsxs","KanbanColumn","_ref","id","title","tasks","status","color","onTaskClick","onAddTask","isDropDisabled","isCombineEnabled","maxTasksPerColumn","isColumnFull","length","columnStyles","backgroundColor","border","anchorEl","setAnchorEl","useState","handleMenuOpen","event","currentTarget","handleMenuClose","handleAddTaskClick","sx","width","minWidth","height","display","flexDirection","mr","flexShrink","role","children","justifyContent","alignItems","mb","px","variant","fontSize","fontWeight","label","size","onClick","open","Boolean","onClose","droppableId","type","ignoreContainerClipping","provided","snapshot","ref","innerRef","droppableProps","flexGrow","overflowY","p","transition","isDraggingOver","boxShadow","onContextMenu","e","preventDefault","opacity","borderRadius","cursor","map","task","index","String","placeholder"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Kanban/Board/KanbanColumn.tsx"],"sourcesContent":["import React from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { Box, Typography, Paper, Chip, Tooltip, IconButton, Menu, MenuItem } from '@mui/material';\nimport { Task, TaskStatus } from '../../../types';\nimport KanbanTask from './KanbanTask';\nimport { Add as AddIcon, MoreVert as MoreIcon } from '@mui/icons-material';\n\ninterface KanbanColumnProps {\n  id: string;\n  title: string;\n  tasks: Task[];\n  status: TaskStatus;\n  color: string;\n  onTaskClick?: (taskId: string) => void;\n  onAddTask?: () => void;\n  isDropDisabled?: boolean;\n  isCombineEnabled?: boolean;\n  maxTasksPerColumn?: number;\n  maxTasks?: number;\n}\n\nconst KanbanColumn: React.FC<KanbanColumnProps> = ({\n  id,\n  title,\n  tasks,\n  status,\n  color,\n  onTaskClick,\n  onAddTask,\n  isDropDisabled = false,\n  isCombineEnabled = false,\n  maxTasksPerColumn,\n}) => {\n  const isColumnFull = maxTasksPerColumn ? tasks.length >= maxTasksPerColumn : false;\n  const columnStyles = {\n    backgroundColor: isColumnFull ? '#f9e6e6' : '#f5f5f5',\n    border: isColumnFull ? '1px dashed #d32f2f' : '1px solid #e0e0e0',\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  \n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  \n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  \n  const handleAddTaskClick = () => {\n    handleMenuClose();\n    if (onAddTask) {\n      onAddTask();\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        width: '300px',\n        minWidth: '300px',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        mr: 2,\n        flexShrink: 0,\n      }}\n      role=\"region\"\n      aria-label={`${title} column`}\n    >\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 1,\n          px: 1,\n        }}\n      >\n        <Typography\n          variant=\"h6\"\n          sx={{\n            fontSize: '1rem',\n            fontWeight: 'bold',\n            color: 'text.primary',\n          }}\n        >\n          {title}\n        </Typography>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <Tooltip title={`${tasks.length} tasks in this column`}>\n            <Chip\n              label={tasks.length}\n              size=\"small\"\n              sx={{\n                backgroundColor: color,\n                color: 'white',\n                fontWeight: 'bold',\n                mr: 1\n              }}\n            />\n          </Tooltip>\n          \n          <Tooltip title=\"Column actions\">\n            <IconButton size=\"small\" onClick={handleMenuOpen}>\n              <MoreIcon fontSize=\"small\" />\n            </IconButton>\n          </Tooltip>\n          \n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleMenuClose}\n          >\n            <MenuItem onClick={handleAddTaskClick}>\n              <AddIcon fontSize=\"small\" sx={{ mr: 1 }} />\n              Add Task\n            </MenuItem>\n          </Menu>\n        </Box>\n      </Box>\n\n      <Droppable\n        droppableId={id}\n        type=\"TASK\"\n        isDropDisabled={isDropDisabled || isColumnFull}\n        isCombineEnabled={isCombineEnabled}\n        ignoreContainerClipping={false}\n      >\n        {(provided, snapshot) => (\n          <Paper\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            sx={{\n              flexGrow: 1,\n              overflowY: 'auto',\n              p: 1,\n              height: 'calc(100% - 40px)',\n              ...columnStyles,\n              transition: 'background-color 0.2s ease',\n              ...(snapshot.isDraggingOver && {\n                backgroundColor: '#e3f2fd',\n                boxShadow: '0px 0px 10px rgba(0, 0, 0, 0.1)',\n              }),\n            }}\n            onContextMenu={(e) => {\n              e.preventDefault();\n              if (onAddTask) {\n                onAddTask();\n              }\n            }}\n          >\n            {tasks.length === 0 ? (\n              <Box\n                sx={{\n                  height: '100%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  opacity: 0.6,\n                  border: '2px dashed #ccc',\n                  borderRadius: 1,\n                  cursor: 'pointer',\n                }}\n                onClick={() => onAddTask && onAddTask()}\n              >\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No tasks - Click to add\n                </Typography>\n              </Box>\n            ) : (\n              tasks.map((task, index) => (\n                <KanbanTask\n                  key={String(task.id)}\n                  task={task}\n                  index={index}\n                  onClick={() => onTaskClick && onTaskClick(task.id)}\n                />\n              ))\n            )}\n            {provided.placeholder}\n          </Paper>\n        )}\n      </Droppable>\n    </Box>\n  );\n};\n\nexport default KanbanColumn; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}