{"ast":null,"code":"var _jsxFileName = \"/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskDetailDialog.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Typography, Box, Chip, Button, Divider, TextField, Avatar, List, ListItem, ListItemAvatar, ListItemText, Paper, IconButton, LinearProgress } from '@mui/material';\nimport { CalendarToday, Edit as EditIcon, Close as CloseIcon, Send as SendIcon } from '@mui/icons-material';\nimport { TaskStatus, TaskPriority } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { format } from 'date-fns';\n\n// Define local interface for comments to avoid TypeScript errors\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskDetailDialog = ({\n  open,\n  task,\n  onClose,\n  onEdit,\n  onAddComment\n}) => {\n  _s();\n  var _user$firstName, _user$lastName;\n  const {\n    user\n  } = useAuth();\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (open) {\n      setNewComment('');\n    }\n  }, [open]);\n  if (!task) {\n    return null;\n  }\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Get status chip color\n  const getStatusColor = status => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n\n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO:\n        return 'default';\n      case TaskStatus.IN_PROGRESS:\n        return 'primary';\n      case TaskStatus.REVIEW:\n        return 'warning';\n      case TaskStatus.DONE:\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case TaskPriority.LOW:\n        return 'success';\n      case TaskPriority.MEDIUM:\n        return 'warning';\n      case TaskPriority.HIGH:\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Format time for comments\n  const formatTime = dateString => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO:\n        return 0;\n      case TaskStatus.IN_PROGRESS:\n        return 50;\n      case TaskStatus.REVIEW:\n        return 80;\n      case TaskStatus.DONE:\n        return 100;\n      default:\n        return 0;\n    }\n  };\n  const handleSubmitComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    try {\n      setSubmitting(true);\n      await onAddComment(task.id, newComment);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Check if user can add comments\n  const canAddComments = () => {\n    if (!user) return false;\n\n    // Allow task creator (if we have that info), assignee, and admin to add comments\n    // For now, we'll just allow any logged-in user to comment\n    return true;\n  };\n\n  // Get comments (with type safety)\n  const getComments = () => {\n    // Handle case where comments are not defined in the Task interface\n    // Safe fallback to an empty array\n    return task.comments || [];\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Task Details\", /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"close\",\n        onClick: onClose,\n        sx: {\n          position: 'absolute',\n          right: 8,\n          top: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 22\n        }, this),\n        sx: {\n          position: 'absolute',\n          right: 50,\n          top: 8\n        },\n        onClick: () => onEdit(task),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 2,\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: task.status,\n                color: getStatusColor(task.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: task.priority,\n                color: getPriorityColor(task.priority)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Assignee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 200px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Deadline Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error' : 'text.primary',\n                fontWeight: calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal',\n                children: getDeadlineMessage()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2,\n              bgcolor: 'background.default'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: task.description || 'No description provided.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"text.secondary\",\n            children: \"Timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CalendarToday, {\n              fontSize: \"small\",\n              sx: {\n                mr: 1,\n                color: 'text.secondary'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Start: \", formatDate(task.startDate), \" - Due: \", formatDate(task.dueDate)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"text.secondary\",\n            children: \"Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n            variant: \"determinate\",\n            value: getProgress(),\n            color: task.status === TaskStatus.DONE ? 'success' : calculateDaysUntilDeadline() < 0 ? 'error' : calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary',\n            sx: {\n              height: 8,\n              borderRadius: 4,\n              mt: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            my: 3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), canAddComments() && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            mb: 3,\n            alignItems: 'flex-start'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              mr: 2,\n              bgcolor: 'primary.main'\n            },\n            children: [user === null || user === void 0 ? void 0 : (_user$firstName = user.firstName) === null || _user$firstName === void 0 ? void 0 : _user$firstName.charAt(0), user === null || user === void 0 ? void 0 : (_user$lastName = user.lastName) === null || _user$lastName === void 0 ? void 0 : _user$lastName.charAt(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            multiline: true,\n            rows: 2,\n            placeholder: \"Add a comment...\",\n            value: newComment,\n            onChange: e => setNewComment(e.target.value),\n            variant: \"outlined\",\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                onClick: handleSubmitComment,\n                disabled: !newComment.trim() || submitting,\n                edge: \"end\",\n                children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: getComments().length > 0 ? getComments().map(comment => /*#__PURE__*/_jsxDEV(ListItem, {\n            alignItems: \"flex-start\",\n            sx: {\n              mb: 1,\n              bgcolor: 'background.default',\n              borderRadius: 1,\n              p: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                children: [comment.author.firstName.charAt(0), comment.author.lastName.charAt(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  fontWeight: \"bold\",\n                  children: [comment.author.firstName, \" \", comment.author.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: formatTime(comment.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 23\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                component: \"span\",\n                variant: \"body2\",\n                color: \"text.primary\",\n                sx: {\n                  display: 'inline',\n                  whiteSpace: 'pre-wrap'\n                },\n                children: comment.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              children: \"No comments yet. Be the first to comment!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskDetailDialog, \"sHCKuOIRZjDRgBcr+Kvd0UP1w5k=\", false, function () {\n  return [useAuth];\n});\n_c = TaskDetailDialog;\nexport default TaskDetailDialog;\nvar _c;\n$RefreshReg$(_c, \"TaskDetailDialog\");","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","Typography","Box","Chip","Button","Divider","TextField","Avatar","List","ListItem","ListItemAvatar","ListItemText","Paper","IconButton","LinearProgress","CalendarToday","Edit","EditIcon","Close","CloseIcon","Send","SendIcon","TaskStatus","TaskPriority","useAuth","format","jsxDEV","_jsxDEV","TaskDetailDialog","open","task","onClose","onEdit","onAddComment","_s","_user$firstName","_user$lastName","user","newComment","setNewComment","submitting","setSubmitting","comments","setComments","loading","setLoading","calculateDaysUntilDeadline","dueDate","Date","today","diffTime","getTime","diffDays","Math","ceil","getStatusColor","status","daysLeft","DONE","TODO","IN_PROGRESS","REVIEW","getPriorityColor","priority","LOW","MEDIUM","HIGH","formatDate","dateString","toLocaleDateString","formatTime","getDeadlineMessage","abs","getProgress","handleSubmitComment","trim","id","error","console","canAddComments","getComments","maxWidth","fullWidth","children","onClick","sx","position","right","top","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","startIcon","p","gutterBottom","title","display","flexWrap","gap","mb","flex","color","label","assignee","firstName","lastName","fontWeight","bgcolor","description","alignItems","fontSize","mr","startDate","value","height","borderRadius","mt","my","charAt","multiline","rows","placeholder","onChange","e","target","InputProps","endAdornment","disabled","edge","length","map","comment","author","primary","justifyContent","createdAt","secondary","component","whiteSpace","text","textAlign","_c","$RefreshReg$"],"sources":["/Users/hassanalsahli/Desktop/Themis/themis-client-final/src/components/Task/TaskDetailDialog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  Box,\n  Chip,\n  Button,\n  Divider,\n  TextField,\n  Avatar,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Paper,\n  IconButton,\n  Grid,\n  LinearProgress,\n  CircularProgress\n} from '@mui/material';\nimport {\n  CalendarToday,\n  Person,\n  Edit as EditIcon,\n  Close as CloseIcon,\n  Send as SendIcon,\n  Assignment as TaskIcon,\n  PriorityHigh as PriorityIcon,\n  Comment as CommentIcon\n} from '@mui/icons-material';\nimport { Task, TaskStatus, TaskPriority, User } from '../../types';\nimport { useAuth } from '../../context/AuthContext';\nimport { format } from 'date-fns';\n\ninterface TaskDetailDialogProps {\n  open: boolean;\n  task: Task | null;\n  onClose: () => void;\n  onEdit: (task: Task) => void;\n  onAddComment: (taskId: string, comment: string) => Promise<void>;\n}\n\n// Define local interface for comments to avoid TypeScript errors\ninterface TaskComment {\n  id: string;\n  taskId: string;\n  text: string;\n  createdAt: string;\n  updatedAt: string;\n  author: {\n    id: string;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nconst TaskDetailDialog: React.FC<TaskDetailDialogProps> = ({\n  open,\n  task,\n  onClose,\n  onEdit,\n  onAddComment\n}) => {\n  const { user } = useAuth();\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [comments, setComments] = useState<TaskComment[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (open) {\n      setNewComment('');\n    }\n  }, [open]);\n\n  if (!task) {\n    return null;\n  }\n\n  // Calculate days until deadline\n  const calculateDaysUntilDeadline = () => {\n    const dueDate = new Date(task.dueDate);\n    const today = new Date();\n    const diffTime = dueDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  // Get status chip color\n  const getStatusColor = (status: TaskStatus) => {\n    // Check if task is overdue first\n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0 && status !== TaskStatus.DONE) return 'error';\n    \n    // Default status colors\n    switch (status) {\n      case TaskStatus.TODO: return 'default';\n      case TaskStatus.IN_PROGRESS: return 'primary';\n      case TaskStatus.REVIEW: return 'warning';\n      case TaskStatus.DONE: return 'success';\n      default: return 'default';\n    }\n  };\n\n  // Get priority chip color\n  const getPriorityColor = (priority: TaskPriority) => {\n    switch (priority) {\n      case TaskPriority.LOW: return 'success';\n      case TaskPriority.MEDIUM: return 'warning';\n      case TaskPriority.HIGH: return 'error';\n      default: return 'default';\n    }\n  };\n\n  // Format date\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Format time for comments\n  const formatTime = (dateString: string) => {\n    return format(new Date(dateString), 'MMM d, yyyy h:mm a');\n  };\n\n  // Determine deadline message\n  const getDeadlineMessage = () => {\n    if (task.status === TaskStatus.DONE) return 'Completed';\n    \n    const daysLeft = calculateDaysUntilDeadline();\n    if (daysLeft < 0) return `Overdue by ${Math.abs(daysLeft)} days`;\n    if (daysLeft === 0) return 'Due today';\n    if (daysLeft === 1) return 'Due tomorrow';\n    return `${daysLeft} days left`;\n  };\n\n  // Calculate progress\n  const getProgress = () => {\n    switch (task.status) {\n      case TaskStatus.TODO: return 0;\n      case TaskStatus.IN_PROGRESS: return 50;\n      case TaskStatus.REVIEW: return 80;\n      case TaskStatus.DONE: return 100;\n      default: return 0;\n    }\n  };\n\n  const handleSubmitComment = async () => {\n    if (!newComment.trim() || !user || submitting) return;\n    \n    try {\n      setSubmitting(true);\n      await onAddComment(task.id, newComment);\n      setNewComment('');\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Check if user can add comments\n  const canAddComments = () => {\n    if (!user) return false;\n    \n    // Allow task creator (if we have that info), assignee, and admin to add comments\n    // For now, we'll just allow any logged-in user to comment\n    return true;\n  };\n\n  // Get comments (with type safety)\n  const getComments = (): TaskComment[] => {\n    // Handle case where comments are not defined in the Task interface\n    // Safe fallback to an empty array\n    return ((task as any).comments || []) as TaskComment[];\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        Task Details\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{ position: 'absolute', right: 8, top: 8 }}\n        >\n          <CloseIcon />\n        </IconButton>\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          startIcon={<EditIcon />}\n          sx={{ position: 'absolute', right: 50, top: 8 }}\n          onClick={() => onEdit(task)}\n        >\n          Edit\n        </Button>\n      </DialogTitle>\n      <DialogContent>\n        <Box sx={{ p: 1 }}>\n          <Typography variant=\"h5\" gutterBottom>\n            {task.title}\n          </Typography>\n          \n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 3 }}>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Status</Typography>\n                <Chip \n                  label={task.status} \n                  color={getStatusColor(task.status)}\n                />\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Priority</Typography>\n                <Chip \n                  label={task.priority} \n                  color={getPriorityColor(task.priority)}\n                />\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Assignee</Typography>\n                <Typography>\n                  {task.assignee ? `${task.assignee.firstName} ${task.assignee.lastName}` : 'Unassigned'}\n                </Typography>\n              </Box>\n            </Box>\n            <Box sx={{ flex: '1 1 200px' }}>\n              <Box sx={{ mb: 2 }}>\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">Deadline Status</Typography>\n                <Typography \n                  color={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'error' : 'text.primary'}\n                  fontWeight={calculateDaysUntilDeadline() < 0 && task.status !== TaskStatus.DONE ? 'bold' : 'normal'}\n                >\n                  {getDeadlineMessage()}\n                </Typography>\n              </Box>\n            </Box>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle1\">Description</Typography>\n            <Paper variant=\"outlined\" sx={{ p: 2, bgcolor: 'background.default' }}>\n              <Typography variant=\"body1\">\n                {task.description || 'No description provided.'}\n              </Typography>\n            </Paper>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Timeline</Typography>\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <CalendarToday fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n              <Typography variant=\"body2\">\n                Start: {formatDate(task.startDate)} - Due: {formatDate(task.dueDate)}\n              </Typography>\n            </Box>\n          </Box>\n          \n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Progress</Typography>\n            <LinearProgress \n              variant=\"determinate\" \n              value={getProgress()} \n              color={task.status === TaskStatus.DONE ? 'success' : \n                    calculateDaysUntilDeadline() < 0 ? 'error' : \n                    calculateDaysUntilDeadline() <= 2 ? 'warning' : 'primary'}\n              sx={{ height: 8, borderRadius: 4, mt: 1 }}\n            />\n          </Box>\n          \n          <Divider sx={{ my: 3 }} />\n          \n          <Typography variant=\"h6\" gutterBottom>\n            Comments\n          </Typography>\n          \n          {canAddComments() && (\n            <Box sx={{ display: 'flex', mb: 3, alignItems: 'flex-start' }}>\n              <Avatar \n                sx={{ mr: 2, bgcolor: 'primary.main' }}\n              >\n                {user?.firstName?.charAt(0)}{user?.lastName?.charAt(0)}\n              </Avatar>\n              <TextField\n                fullWidth\n                multiline\n                rows={2}\n                placeholder=\"Add a comment...\"\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                variant=\"outlined\"\n                InputProps={{\n                  endAdornment: (\n                    <IconButton \n                      color=\"primary\" \n                      onClick={handleSubmitComment}\n                      disabled={!newComment.trim() || submitting}\n                      edge=\"end\"\n                    >\n                      <SendIcon />\n                    </IconButton>\n                  )\n                }}\n              />\n            </Box>\n          )}\n          \n          <List>\n            {getComments().length > 0 ? (\n              getComments().map((comment: TaskComment) => (\n                <ListItem \n                  key={comment.id}\n                  alignItems=\"flex-start\"\n                  sx={{ \n                    mb: 1,\n                    bgcolor: 'background.default',\n                    borderRadius: 1,\n                    p: 2\n                  }}\n                >\n                  <ListItemAvatar>\n                    <Avatar>\n                      {comment.author.firstName.charAt(0)}\n                      {comment.author.lastName.charAt(0)}\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                        <Typography fontWeight=\"bold\">\n                          {comment.author.firstName} {comment.author.lastName}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {formatTime(comment.createdAt)}\n                        </Typography>\n                      </Box>\n                    }\n                    secondary={\n                      <Typography\n                        component=\"span\"\n                        variant=\"body2\"\n                        color=\"text.primary\"\n                        sx={{ display: 'inline', whiteSpace: 'pre-wrap' }}\n                      >\n                        {comment.text}\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n              ))\n            ) : (\n              <Box sx={{ textAlign: 'center', p: 3 }}>\n                <Typography color=\"text.secondary\">\n                  No comments yet. Be the first to comment!\n                </Typography>\n              </Box>\n            )}\n          </List>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default TaskDetailDialog; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}